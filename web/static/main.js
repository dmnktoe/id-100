"use strict";(()=>{var Yf=Object.create;var vo=Object.defineProperty;var Kf=Object.getOwnPropertyDescriptor;var Xf=Object.getOwnPropertyNames;var Jf=Object.getPrototypeOf,Zf=Object.prototype.hasOwnProperty;var Qf=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),em=(e,t)=>{for(var n in t)vo(e,n,{get:t[n],enumerable:!0})},tm=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Xf(t))!Zf.call(e,s)&&s!==n&&vo(e,s,{get:()=>t[s],enumerable:!(r=Kf(t,s))||r.enumerable});return e};var nm=(e,t,n)=>(n=e!=null?Yf(Jf(e)):{},tm(t||!e||!e.__esModule?vo(n,"default",{value:e,enumerable:!0}):n,e));var wf=Qf((co,If)=>{(function(e,t){typeof co=="object"&&typeof If<"u"?t(co):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.window=e.window||{}))})(co,(function(e){"use strict";var t={ALL:"all",LAST:"last",FREQUENCY:"frequency"},n={JSON:"application/json",CSV:"text/csv",NDJSON:"application/x-ndjson"},r={TASK_SUCCEEDED:"succeeded",TASK_PROCESSING:"processing",TASK_FAILED:"failed",TASK_ENQUEUED:"enqueued",TASK_CANCELED:"canceled"},s={DOCUMENTS_ADDITION_OR_UPDATE:"documentAdditionOrUpdate",DOCUMENT_DELETION:"documentDeletion",DUMP_CREATION:"dumpCreation",INDEX_CREATION:"indexCreation",INDEX_DELETION:"indexDeletion",INDEXES_SWAP:"indexSwap",INDEX_UPDATE:"indexUpdate",SETTINGS_UPDATE:"settingsUpdate",SNAPSHOT_CREATION:"snapshotCreation",TASK_CANCELATION:"taskCancelation",TASK_DELETION:"taskDeletion"},i={INDEX_CREATION_FAILED:"index_creation_failed",MISSING_INDEX_UID:"missing_index_uid",INDEX_ALREADY_EXISTS:"index_already_exists",INDEX_NOT_FOUND:"index_not_found",INVALID_INDEX_UID:"invalid_index_uid",INDEX_NOT_ACCESSIBLE:"index_not_accessible",INVALID_INDEX_OFFSET:"invalid_index_offset",INVALID_INDEX_LIMIT:"invalid_index_limit",INVALID_STATE:"invalid_state",PRIMARY_KEY_INFERENCE_FAILED:"primary_key_inference_failed",INDEX_PRIMARY_KEY_ALREADY_EXISTS:"index_primary_key_already_exists",INVALID_INDEX_PRIMARY_KEY:"invalid_index_primary_key",DOCUMENTS_FIELDS_LIMIT_REACHED:"document_fields_limit_reached",MISSING_DOCUMENT_ID:"missing_document_id",INVALID_DOCUMENT_ID:"invalid_document_id",INVALID_CONTENT_TYPE:"invalid_content_type",MISSING_CONTENT_TYPE:"missing_content_type",INVALID_DOCUMENT_FIELDS:"invalid_document_fields",INVALID_DOCUMENT_LIMIT:"invalid_document_limit",INVALID_DOCUMENT_OFFSET:"invalid_document_offset",INVALID_DOCUMENT_FILTER:"invalid_document_filter",MISSING_DOCUMENT_FILTER:"missing_document_filter",INVALID_DOCUMENT_VECTORS_FIELD:"invalid_document_vectors_field",PAYLOAD_TOO_LARGE:"payload_too_large",MISSING_PAYLOAD:"missing_payload",MALFORMED_PAYLOAD:"malformed_payload",NO_SPACE_LEFT_ON_DEVICE:"no_space_left_on_device",INVALID_STORE_FILE:"invalid_store_file",INVALID_RANKING_RULES:"missing_document_id",INVALID_REQUEST:"invalid_request",INVALID_DOCUMENT_GEO_FIELD:"invalid_document_geo_field",INVALID_SEARCH_Q:"invalid_search_q",INVALID_SEARCH_OFFSET:"invalid_search_offset",INVALID_SEARCH_LIMIT:"invalid_search_limit",INVALID_SEARCH_PAGE:"invalid_search_page",INVALID_SEARCH_HITS_PER_PAGE:"invalid_search_hits_per_page",INVALID_SEARCH_ATTRIBUTES_TO_RETRIEVE:"invalid_search_attributes_to_retrieve",INVALID_SEARCH_ATTRIBUTES_TO_CROP:"invalid_search_attributes_to_crop",INVALID_SEARCH_CROP_LENGTH:"invalid_search_crop_length",INVALID_SEARCH_ATTRIBUTES_TO_HIGHLIGHT:"invalid_search_attributes_to_highlight",INVALID_SEARCH_SHOW_MATCHES_POSITION:"invalid_search_show_matches_position",INVALID_SEARCH_FILTER:"invalid_search_filter",INVALID_SEARCH_SORT:"invalid_search_sort",INVALID_SEARCH_FACETS:"invalid_search_facets",INVALID_SEARCH_HIGHLIGHT_PRE_TAG:"invalid_search_highlight_pre_tag",INVALID_SEARCH_HIGHLIGHT_POST_TAG:"invalid_search_highlight_post_tag",INVALID_SEARCH_CROP_MARKER:"invalid_search_crop_marker",INVALID_SEARCH_MATCHING_STRATEGY:"invalid_search_matching_strategy",INVALID_SEARCH_VECTOR:"invalid_search_vector",INVALID_SEARCH_ATTRIBUTES_TO_SEARCH_ON:"invalid_search_attributes_to_search_on",BAD_REQUEST:"bad_request",DOCUMENT_NOT_FOUND:"document_not_found",INTERNAL:"internal",INVALID_API_KEY:"invalid_api_key",INVALID_API_KEY_DESCRIPTION:"invalid_api_key_description",INVALID_API_KEY_ACTIONS:"invalid_api_key_actions",INVALID_API_KEY_INDEXES:"invalid_api_key_indexes",INVALID_API_KEY_EXPIRES_AT:"invalid_api_key_expires_at",API_KEY_NOT_FOUND:"api_key_not_found",IMMUTABLE_API_KEY_UID:"immutable_api_key_uid",IMMUTABLE_API_KEY_ACTIONS:"immutable_api_key_actions",IMMUTABLE_API_KEY_INDEXES:"immutable_api_key_indexes",IMMUTABLE_API_KEY_EXPIRES_AT:"immutable_api_key_expires_at",IMMUTABLE_API_KEY_CREATED_AT:"immutable_api_key_created_at",IMMUTABLE_API_KEY_UPDATED_AT:"immutable_api_key_updated_at",MISSING_AUTHORIZATION_HEADER:"missing_authorization_header",UNRETRIEVABLE_DOCUMENT:"unretrievable_document",MAX_DATABASE_SIZE_LIMIT_REACHED:"database_size_limit_reached",TASK_NOT_FOUND:"task_not_found",DUMP_PROCESS_FAILED:"dump_process_failed",DUMP_NOT_FOUND:"dump_not_found",INVALID_SWAP_DUPLICATE_INDEX_FOUND:"invalid_swap_duplicate_index_found",INVALID_SWAP_INDEXES:"invalid_swap_indexes",MISSING_SWAP_INDEXES:"missing_swap_indexes",MISSING_MASTER_KEY:"missing_master_key",INVALID_TASK_TYPES:"invalid_task_types",INVALID_TASK_UIDS:"invalid_task_uids",INVALID_TASK_STATUSES:"invalid_task_statuses",INVALID_TASK_LIMIT:"invalid_task_limit",INVALID_TASK_FROM:"invalid_task_from",INVALID_TASK_CANCELED_BY:"invalid_task_canceled_by",MISSING_TASK_FILTERS:"missing_task_filters",TOO_MANY_OPEN_FILES:"too_many_open_files",IO_ERROR:"io_error",INVALID_TASK_INDEX_UIDS:"invalid_task_index_uids",IMMUTABLE_INDEX_UID:"immutable_index_uid",IMMUTABLE_INDEX_CREATED_AT:"immutable_index_created_at",IMMUTABLE_INDEX_UPDATED_AT:"immutable_index_updated_at",INVALID_SETTINGS_DISPLAYED_ATTRIBUTES:"invalid_settings_displayed_attributes",INVALID_SETTINGS_SEARCHABLE_ATTRIBUTES:"invalid_settings_searchable_attributes",INVALID_SETTINGS_FILTERABLE_ATTRIBUTES:"invalid_settings_filterable_attributes",INVALID_SETTINGS_SORTABLE_ATTRIBUTES:"invalid_settings_sortable_attributes",INVALID_SETTINGS_RANKING_RULES:"invalid_settings_ranking_rules",INVALID_SETTINGS_STOP_WORDS:"invalid_settings_stop_words",INVALID_SETTINGS_SYNONYMS:"invalid_settings_synonyms",INVALID_SETTINGS_DISTINCT_ATTRIBUTE:"invalid_settings_distinct_attribute",INVALID_SETTINGS_TYPO_TOLERANCE:"invalid_settings_typo_tolerance",INVALID_SETTINGS_FACETING:"invalid_settings_faceting",INVALID_SETTINGS_PAGINATION:"invalid_settings_pagination",INVALID_SETTINGS_SEARCH_CUTOFF_MS:"invalid_settings_search_cutoff_ms",INVALID_SETTINGS_LOCALIZED_ATTRIBUTES:"invalid_settings_localized_attributes",INVALID_TASK_BEFORE_ENQUEUED_AT:"invalid_task_before_enqueued_at",INVALID_TASK_AFTER_ENQUEUED_AT:"invalid_task_after_enqueued_at",INVALID_TASK_BEFORE_STARTED_AT:"invalid_task_before_started_at",INVALID_TASK_AFTER_STARTED_AT:"invalid_task_after_started_at",INVALID_TASK_BEFORE_FINISHED_AT:"invalid_task_before_finished_at",INVALID_TASK_AFTER_FINISHED_AT:"invalid_task_after_finished_at",MISSING_API_KEY_ACTIONS:"missing_api_key_actions",MISSING_API_KEY_INDEXES:"missing_api_key_indexes",MISSING_API_KEY_EXPIRES_AT:"missing_api_key_expires_at",INVALID_API_KEY_LIMIT:"invalid_api_key_limit",INVALID_API_KEY_OFFSET:"invalid_api_key_offset",INVALID_FACET_SEARCH_FACET_NAME:"invalid_facet_search_facet_name",MISSING_FACET_SEARCH_FACET_NAME:"missing_facet_search_facet_name",INVALID_FACET_SEARCH_FACET_QUERY:"invalid_facet_search_facet_query",INVALID_SEARCH_RANKING_SCORE_THRESHOLD:"invalid_search_ranking_score_threshold",INVALID_SIMILAR_RANKING_SCORE_THRESHOLD:"invalid_similar_ranking_score_threshold"};function a(T,l){(l==null||l>T.length)&&(l=T.length);for(var g=0,d=Array(l);g<l;g++)d[g]=T[g];return d}function o(T){if(Array.isArray(T))return T}function c(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function m(T,l,g,d,h,p,u){try{var _=T[p](u),y=_.value}catch(b){return void g(b)}_.done?l(y):Promise.resolve(y).then(d,h)}function f(T){return function(){var l=this,g=arguments;return new Promise(function(d,h){var p=T.apply(l,g);function u(y){m(p,d,h,u,_,"next",y)}function _(y){m(p,d,h,u,_,"throw",y)}u(void 0)})}}function v(T,l,g){return l=K(l),L(T,se()?Reflect.construct(l,g||[],K(T).constructor):l.apply(T,g))}function E(T,l){if(!(T instanceof l))throw new TypeError("Cannot call a class as a function")}function I(T,l,g){if(se())return Reflect.construct.apply(null,arguments);var d=[null];d.push.apply(d,l);var h=new(T.bind.apply(T,d));return g&&G(h,g.prototype),h}function w(T,l){for(var g=0;g<l.length;g++){var d=l[g];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(T,He(d.key),d)}}function R(T,l,g){return l&&w(T.prototype,l),g&&w(T,g),Object.defineProperty(T,"prototype",{writable:!1}),T}function $(T,l){var g=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!g){if(Array.isArray(T)||(g=Pe(T))||l){g&&(T=g);var d=0,h=function(){};return{s:h,n:function(){return d>=T.length?{done:!0}:{done:!1,value:T[d++]}},e:function(y){throw y},f:h}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p,u=!0,_=!1;return{s:function(){g=g.call(T)},n:function(){var y=g.next();return u=y.done,y},e:function(y){_=!0,p=y},f:function(){try{u||g.return==null||g.return()}finally{if(_)throw p}}}}function k(T,l,g){return(l=He(l))in T?Object.defineProperty(T,l,{value:g,enumerable:!0,configurable:!0,writable:!0}):T[l]=g,T}function K(T){return K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},K(T)}function oe(T,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(l&&l.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),l&&G(T,l)}function pe(T){try{return Function.toString.call(T).indexOf("[native code]")!==-1}catch{return typeof T=="function"}}function se(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(se=function(){return!!T})()}function D(T,l){var g=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(g!=null){var d,h,p,u,_=[],y=!0,b=!1;try{if(p=(g=g.call(T)).next,l!==0)for(;!(y=(d=p.call(g)).done)&&(_.push(d.value),_.length!==l);y=!0);}catch(x){b=!0,h=x}finally{try{if(!y&&g.return!=null&&(u=g.return(),Object(u)!==u))return}finally{if(b)throw h}}return _}}function M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(T,l){var g=Object.keys(T);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(T);l&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(T,h).enumerable})),g.push.apply(g,d)}return g}function H(T){for(var l=1;l<arguments.length;l++){var g=arguments[l]!=null?arguments[l]:{};l%2?Z(Object(g),!0).forEach(function(d){k(T,d,g[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(g)):Z(Object(g)).forEach(function(d){Object.defineProperty(T,d,Object.getOwnPropertyDescriptor(g,d))})}return T}function L(T,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(T)}function S(){S=function(){return l};var T,l={},g=Object.prototype,d=g.hasOwnProperty,h=Object.defineProperty||function(O,N,U){O[N]=U.value},p=typeof Symbol=="function"?Symbol:{},u=p.iterator||"@@iterator",_=p.asyncIterator||"@@asyncIterator",y=p.toStringTag||"@@toStringTag";function b(O,N,U){return Object.defineProperty(O,N,{value:U,enumerable:!0,configurable:!0,writable:!0}),O[N]}try{b({},"")}catch{b=function(N,U,fe){return N[U]=fe}}function x(O,N,U,fe){var X=N&&N.prototype instanceof ke?N:ke,Ie=Object.create(X.prototype),We=new yo(fe||[]);return h(Ie,"_invoke",{value:Gf(O,U,We)}),Ie}function j(O,N,U){try{return{type:"normal",arg:O.call(N,U)}}catch(fe){return{type:"throw",arg:fe}}}l.wrap=x;var P="suspendedStart",st="suspendedYield",xe="executing",Ve="completed",Oe={};function ke(){}function Ye(){}function _n(){}var je={};b(je,u,function(){return this});var tn=Object.getPrototypeOf,xi=tn&&tn(tn(So([])));xi&&xi!==g&&d.call(xi,u)&&(je=xi);var Lr=_n.prototype=ke.prototype=Object.create(je);function Hu(O){["next","throw","return"].forEach(function(N){b(O,N,function(U){return this._invoke(N,U)})})}function Ci(O,N){function U(X,Ie,We,It){var wt=j(O[X],O,Ie);if(wt.type!=="throw"){var Pr=wt.arg,Ts=Pr.value;return Ts&&typeof Ts=="object"&&d.call(Ts,"__await")?N.resolve(Ts.__await).then(function(nr){U("next",nr,We,It)},function(nr){U("throw",nr,We,It)}):N.resolve(Ts).then(function(nr){Pr.value=nr,We(Pr)},function(nr){return U("throw",nr,We,It)})}It(wt.arg)}var fe;h(this,"_invoke",{value:function(X,Ie){function We(){return new N(function(It,wt){U(X,Ie,It,wt)})}return fe=fe?fe.then(We,We):We()}})}function Gf(O,N,U){var fe=P;return function(X,Ie){if(fe===xe)throw Error("Generator is already running");if(fe===Ve){if(X==="throw")throw Ie;return{value:T,done:!0}}for(U.method=X,U.arg=Ie;;){var We=U.delegate;if(We){var It=$u(We,U);if(It){if(It===Oe)continue;return It}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(fe===P)throw fe=Ve,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);fe=xe;var wt=j(O,N,U);if(wt.type==="normal"){if(fe=U.done?Ve:st,wt.arg===Oe)continue;return{value:wt.arg,done:U.done}}wt.type==="throw"&&(fe=Ve,U.method="throw",U.arg=wt.arg)}}}function $u(O,N){var U=N.method,fe=O.iterator[U];if(fe===T)return N.delegate=null,U==="throw"&&O.iterator.return&&(N.method="return",N.arg=T,$u(O,N),N.method==="throw")||U!=="return"&&(N.method="throw",N.arg=new TypeError("The iterator does not provide a '"+U+"' method")),Oe;var X=j(fe,O.iterator,N.arg);if(X.type==="throw")return N.method="throw",N.arg=X.arg,N.delegate=null,Oe;var Ie=X.arg;return Ie?Ie.done?(N[O.resultName]=Ie.value,N.next=O.nextLoc,N.method!=="return"&&(N.method="next",N.arg=T),N.delegate=null,Oe):Ie:(N.method="throw",N.arg=new TypeError("iterator result is not an object"),N.delegate=null,Oe)}function Vf(O){var N={tryLoc:O[0]};1 in O&&(N.catchLoc=O[1]),2 in O&&(N.finallyLoc=O[2],N.afterLoc=O[3]),this.tryEntries.push(N)}function _o(O){var N=O.completion||{};N.type="normal",delete N.arg,O.completion=N}function yo(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(Vf,this),this.reset(!0)}function So(O){if(O||O===""){var N=O[u];if(N)return N.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var U=-1,fe=function X(){for(;++U<O.length;)if(d.call(O,U))return X.value=O[U],X.done=!1,X;return X.value=T,X.done=!0,X};return fe.next=fe}}throw new TypeError(typeof O+" is not iterable")}return Ye.prototype=_n,h(Lr,"constructor",{value:_n,configurable:!0}),h(_n,"constructor",{value:Ye,configurable:!0}),Ye.displayName=b(_n,y,"GeneratorFunction"),l.isGeneratorFunction=function(O){var N=typeof O=="function"&&O.constructor;return!!N&&(N===Ye||(N.displayName||N.name)==="GeneratorFunction")},l.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,_n):(O.__proto__=_n,b(O,y,"GeneratorFunction")),O.prototype=Object.create(Lr),O},l.awrap=function(O){return{__await:O}},Hu(Ci.prototype),b(Ci.prototype,_,function(){return this}),l.AsyncIterator=Ci,l.async=function(O,N,U,fe,X){X===void 0&&(X=Promise);var Ie=new Ci(x(O,N,U,fe),X);return l.isGeneratorFunction(N)?Ie:Ie.next().then(function(We){return We.done?We.value:Ie.next()})},Hu(Lr),b(Lr,y,"Generator"),b(Lr,u,function(){return this}),b(Lr,"toString",function(){return"[object Generator]"}),l.keys=function(O){var N=Object(O),U=[];for(var fe in N)U.push(fe);return U.reverse(),function X(){for(;U.length;){var Ie=U.pop();if(Ie in N)return X.value=Ie,X.done=!1,X}return X.done=!0,X}},l.values=So,yo.prototype={constructor:yo,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=T,this.done=!1,this.delegate=null,this.method="next",this.arg=T,this.tryEntries.forEach(_o),!O)for(var N in this)N.charAt(0)==="t"&&d.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=T)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var N=this;function U(wt,Pr){return Ie.type="throw",Ie.arg=O,N.next=wt,Pr&&(N.method="next",N.arg=T),!!Pr}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var X=this.tryEntries[fe],Ie=X.completion;if(X.tryLoc==="root")return U("end");if(X.tryLoc<=this.prev){var We=d.call(X,"catchLoc"),It=d.call(X,"finallyLoc");if(We&&It){if(this.prev<X.catchLoc)return U(X.catchLoc,!0);if(this.prev<X.finallyLoc)return U(X.finallyLoc)}else if(We){if(this.prev<X.catchLoc)return U(X.catchLoc,!0)}else{if(!It)throw Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return U(X.finallyLoc)}}}},abrupt:function(O,N){for(var U=this.tryEntries.length-1;U>=0;--U){var fe=this.tryEntries[U];if(fe.tryLoc<=this.prev&&d.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var X=fe;break}}X&&(O==="break"||O==="continue")&&X.tryLoc<=N&&N<=X.finallyLoc&&(X=null);var Ie=X?X.completion:{};return Ie.type=O,Ie.arg=N,X?(this.method="next",this.next=X.finallyLoc,Oe):this.complete(Ie)},complete:function(O,N){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&N&&(this.next=N),Oe},finish:function(O){for(var N=this.tryEntries.length-1;N>=0;--N){var U=this.tryEntries[N];if(U.finallyLoc===O)return this.complete(U.completion,U.afterLoc),_o(U),Oe}},catch:function(O){for(var N=this.tryEntries.length-1;N>=0;--N){var U=this.tryEntries[N];if(U.tryLoc===O){var fe=U.completion;if(fe.type==="throw"){var X=fe.arg;_o(U)}return X}}throw Error("illegal catch attempt")},delegateYield:function(O,N,U){return this.delegate={iterator:So(O),resultName:N,nextLoc:U},this.method==="next"&&(this.arg=T),Oe}},l}function G(T,l){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,d){return g.__proto__=d,g},G(T,l)}function Se(T,l){return o(T)||D(T,l)||Pe(T,l)||M()}function be(T,l){if(typeof T!="object"||!T)return T;var g=T[Symbol.toPrimitive];if(g!==void 0){var d=g.call(T,l);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}function He(T){var l=be(T,"string");return typeof l=="symbol"?l:l+""}function ae(T){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},ae(T)}function Pe(T,l){if(T){if(typeof T=="string")return a(T,l);var g={}.toString.call(T).slice(8,-1);return g==="Object"&&T.constructor&&(g=T.constructor.name),g==="Map"||g==="Set"?Array.from(T):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?a(T,l):void 0}}function ge(T){var l=typeof Map=="function"?new Map:void 0;return ge=function(g){if(g===null||!pe(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(g))return l.get(g);l.set(g,d)}function d(){return I(g,arguments,K(this).constructor)}return d.prototype=Object.create(g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),G(d,g)},ge(T)}var Ne=(function(T){function l(){var g;E(this,l);for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return g=v(this,l,[].concat(h)),k(g,"name","MeiliSearchError"),g}return oe(l,T),R(l)})(ge(Error)),ft=(function(T){function l(g,d){var h,p;return E(this,l),p=v(this,l,[(h=d?.message)!==null&&h!==void 0?h:"".concat(g.status,": ").concat(g.statusText)]),k(p,"name","MeiliSearchApiError"),k(p,"cause",void 0),k(p,"response",void 0),p.response=g,d!==void 0&&(p.cause=d),p}return oe(l,T),R(l)})(Ne),er=(function(T){function l(g,d){var h;return E(this,l),h=v(this,l,["Request to ".concat(g," has failed"),{cause:d}]),k(h,"name","MeiliSearchRequestError"),h}return oe(l,T),R(l)})(Ne),ki=(function(T){function l(g){var d;return E(this,l),d=v(this,l,[g]),k(d,"name","MeiliSearchTimeOutError"),d}return oe(l,T),R(l)})(Ne);function en(T,l){return"".concat(T,`
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that `).concat(l," call requires.")}function Ot(T){return Object.entries(T).reduce(function(l,g){var d=Se(g,2),h=d[0],p=d[1];return p!==void 0&&(l[h]=p),l},{})}function ys(T){return tr.apply(this,arguments)}function tr(){return tr=f(S().mark(function T(l){return S().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,new Promise(function(h){return setTimeout(h,l)});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},T)})),tr.apply(this,arguments)}function Ss(T){return T.startsWith("https://")||T.startsWith("http://")?T:"http://".concat(T)}function vs(T){return T.endsWith("/")||(T+="/"),T}var Ai="0.44.1";function Dn(T){var l=Object.keys(T),g=l.reduce(function(d,h){var p=T[h];return p===void 0?d:Array.isArray(p)?H(H({},d),{},k({},h,p.join(","))):p instanceof Date?H(H({},d),{},k({},h,p.toISOString())):H(H({},d),{},k({},h,p))},{});return g}function Ri(T){try{return T=Ss(T),T=vs(T),T}catch{throw new Ne("The provided host is not valid.")}}function ho(T){if(Array.isArray(T))return T.reduce(function(g,d){return g[d[0]]=d[1],g},{});if("has"in T){var l={};return T.forEach(function(g,d){return l[d]=g}),l}else return Object.assign({},T)}function go(T){var l,g,d="X-Meilisearch-Client",h="Meilisearch JavaScript (v".concat(Ai,")"),p="Content-Type",u="Authorization",_=ho((l=(g=T.requestConfig)===null||g===void 0?void 0:g.headers)!==null&&l!==void 0?l:{});if(T.apiKey&&!_[u]&&(_[u]="Bearer ".concat(T.apiKey)),_[p]||(_["Content-Type"]="application/json"),T.clientAgents&&Array.isArray(T.clientAgents)){var y=T.clientAgents.concat(h);_[d]=y.join(" ; ")}else{if(T.clientAgents&&!Array.isArray(T.clientAgents))throw new Ne('Meilisearch: The header "'.concat(d,`" should be an array of string(s).
`));_[d]=h}return _}var Mt=(function(){function T(l){E(this,T),k(this,"headers",void 0),k(this,"url",void 0),k(this,"requestConfig",void 0),k(this,"httpClient",void 0),k(this,"requestTimeout",void 0),this.headers=go(l),this.requestConfig=l.requestConfig,this.httpClient=l.httpClient,this.requestTimeout=l.timeout;try{var g=Ri(l.host);this.url=new URL(g)}catch{throw new Ne("The provided host is not valid.")}}return R(T,[{key:"request",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x,j,P,st,xe,Ve,Oe,ke,Ye;return S().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return u=h.method,_=h.url,y=h.params,b=h.body,x=h.config,j=x===void 0?{}:x,P=new URL(_,this.url),y&&(st=new URLSearchParams,Object.keys(y).filter(function(tn){return y[tn]!==null}).map(function(tn){return st.set(tn,y[tn])}),P.search=st.toString()),(p=j.headers)!==null&&p!==void 0&&p["Content-Type"]||(b=JSON.stringify(b)),xe=H(H({},this.headers),j.headers),Ve=this.fetchWithTimeout(P.toString(),H(H(H({},j),this.requestConfig),{},{method:u,body:b,headers:xe}),this.requestTimeout),je.next=8,Ve.catch(function(tn){throw new er(P.toString(),tn)});case 8:if(Oe=je.sent,this.httpClient===void 0){je.next=11;break}return je.abrupt("return",Oe);case 11:return je.next=13,Oe.text();case 13:if(ke=je.sent,Ye=ke===""?void 0:JSON.parse(ke),Oe.ok){je.next=17;break}throw new ft(Oe,Ye);case 17:return je.abrupt("return",Ye);case 18:case"end":return je.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"fetchWithTimeout",value:(function(){var l=f(S().mark(function d(h,p,u){var _=this;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(x,j){var P=_.httpClient?_.httpClient:fetch,st=P(h,p),xe=[st],Ve;if(u){var Oe=new Promise(function(ke,Ye){Ve=setTimeout(function(){Ye(new Error("Error: Request Timed Out"))},u)});xe.push(Oe)}Promise.race(xe).then(x).catch(j).finally(function(){clearTimeout(Ve)})}));case 1:case"end":return b.stop()}},d)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"get",value:(function(){var l=f(S().mark(function d(h,p,u){return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,this.request({method:"GET",url:h,params:p,config:u});case 2:return y.abrupt("return",y.sent);case 3:case"end":return y.stop()}},d,this)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"post",value:(function(){var l=f(S().mark(function d(h,p,u,_){return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.request({method:"POST",url:h,body:p,params:u,config:_});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},d,this)}));function g(d,h,p,u){return l.apply(this,arguments)}return g})()},{key:"put",value:(function(){var l=f(S().mark(function d(h,p,u,_){return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.request({method:"PUT",url:h,body:p,params:u,config:_});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},d,this)}));function g(d,h,p,u){return l.apply(this,arguments)}return g})()},{key:"patch",value:(function(){var l=f(S().mark(function d(h,p,u,_){return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.request({method:"PATCH",url:h,body:p,params:u,config:_});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},d,this)}));function g(d,h,p,u){return l.apply(this,arguments)}return g})()},{key:"delete",value:(function(){var l=f(S().mark(function d(h,p,u,_){return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.request({method:"DELETE",url:h,body:p,params:u,config:_});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},d,this)}));function g(d,h,p,u){return l.apply(this,arguments)}return g})()}])})(),le=R(function T(l){E(this,T),k(this,"taskUid",void 0),k(this,"indexUid",void 0),k(this,"status",void 0),k(this,"type",void 0),k(this,"enqueuedAt",void 0),this.taskUid=l.taskUid,this.indexUid=l.indexUid,this.status=l.status,this.type=l.type,this.enqueuedAt=new Date(l.enqueuedAt)}),Mr=R(function T(l){E(this,T),k(this,"indexUid",void 0),k(this,"status",void 0),k(this,"type",void 0),k(this,"uid",void 0),k(this,"canceledBy",void 0),k(this,"details",void 0),k(this,"error",void 0),k(this,"duration",void 0),k(this,"startedAt",void 0),k(this,"enqueuedAt",void 0),k(this,"finishedAt",void 0),this.indexUid=l.indexUid,this.status=l.status,this.type=l.type,this.uid=l.uid,this.details=l.details,this.canceledBy=l.canceledBy,this.error=l.error,this.duration=l.duration,this.startedAt=new Date(l.startedAt),this.enqueuedAt=new Date(l.enqueuedAt),this.finishedAt=new Date(l.finishedAt)}),Dr=(function(){function T(l){E(this,T),k(this,"httpRequest",void 0),this.httpRequest=new Mt(l)}return R(T,[{key:"getTask",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="tasks/".concat(h),y.next=3,this.httpRequest.get(p);case 3:return u=y.sent,y.abrupt("return",new Mr(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getTasks",value:(function(){var l=f(S().mark(function d(){var h,p,u,_=arguments;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=_.length>0&&_[0]!==void 0?_[0]:{},p="tasks",b.next=4,this.httpRequest.get(p,Dn(h));case 4:return u=b.sent,b.abrupt("return",H(H({},u),{},{results:u.results.map(function(x){return new Mr(x)})}));case 6:case"end":return b.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"waitForTask",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x,j,P=arguments;return S().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:p=P.length>1&&P[1]!==void 0?P[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,x=Date.now();case 2:if(!(Date.now()-x<_)){xe.next=12;break}return xe.next=5,this.getTask(h);case 5:if(j=xe.sent,[r.TASK_ENQUEUED,r.TASK_PROCESSING].includes(j.status)){xe.next=8;break}return xe.abrupt("return",j);case 8:return xe.next=10,ys(b);case 10:xe.next=2;break;case 12:throw new ki("timeout of ".concat(_,"ms has exceeded on process ").concat(h," when waiting a task to be resolved."));case 13:case"end":return xe.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"waitForTasks",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x,j,P,st,xe,Ve=arguments;return S().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:p=Ve.length>1&&Ve[1]!==void 0?Ve[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,x=[],j=$(h),ke.prev=3,j.s();case 5:if((P=j.n()).done){ke.next=13;break}return st=P.value,ke.next=9,this.waitForTask(st,{timeOutMs:_,intervalMs:b});case 9:xe=ke.sent,x.push(xe);case 11:ke.next=5;break;case 13:ke.next=18;break;case 15:ke.prev=15,ke.t0=ke.catch(3),j.e(ke.t0);case 18:return ke.prev=18,j.f(),ke.finish(18);case 21:return ke.abrupt("return",x);case 22:case"end":return ke.stop()}},d,this,[[3,15,18,21]])}));function g(d){return l.apply(this,arguments)}return g})()},{key:"cancelTasks",value:(function(){var l=f(S().mark(function d(){var h,p,u,_=arguments;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=_.length>0&&_[0]!==void 0?_[0]:{},p="tasks/cancel",b.next=4,this.httpRequest.post(p,{},Dn(h));case 4:return u=b.sent,b.abrupt("return",new le(u));case 6:case"end":return b.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"deleteTasks",value:(function(){var l=f(S().mark(function d(){var h,p,u,_=arguments;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=_.length>0&&_[0]!==void 0?_[0]:{},p="tasks",b.next=4,this.httpRequest.delete(p,{},Dn(h));case 4:return u=b.sent,b.abrupt("return",new le(u));case 6:case"end":return b.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()}])})(),bt=(function(){function T(l,g,d){E(this,T),k(this,"uid",void 0),k(this,"primaryKey",void 0),k(this,"createdAt",void 0),k(this,"updatedAt",void 0),k(this,"httpRequest",void 0),k(this,"tasks",void 0),this.uid=g,this.primaryKey=d,this.httpRequest=new Mt(l),this.tasks=new Dr(l)}return R(T,[{key:"search",value:(function(){var l=f(S().mark(function d(h,p,u){var _;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return _="indexes/".concat(this.uid,"/search"),b.next=3,this.httpRequest.post(_,Ot(H({q:h},p)),void 0,u);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},d,this)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"searchGet",value:(function(){var l=f(S().mark(function d(h,p,u){var _,y,b,x,j,P,st,xe,Ve,Oe;return S().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return xe="indexes/".concat(this.uid,"/search"),Ve=function(je){if(typeof je=="string")return je;if(Array.isArray(je))throw new Ne("The filter query parameter should be in string format when using searchGet")},Oe=H(H({q:h},p),{},{filter:Ve(p?.filter),sort:p==null||(_=p.sort)===null||_===void 0?void 0:_.join(","),facets:p==null||(y=p.facets)===null||y===void 0?void 0:y.join(","),attributesToRetrieve:p==null||(b=p.attributesToRetrieve)===null||b===void 0?void 0:b.join(","),attributesToCrop:p==null||(x=p.attributesToCrop)===null||x===void 0?void 0:x.join(","),attributesToHighlight:p==null||(j=p.attributesToHighlight)===null||j===void 0?void 0:j.join(","),vector:p==null||(P=p.vector)===null||P===void 0?void 0:P.join(","),attributesToSearchOn:p==null||(st=p.attributesToSearchOn)===null||st===void 0?void 0:st.join(",")}),Ye.next=5,this.httpRequest.get(xe,Ot(Oe),u);case 5:return Ye.abrupt("return",Ye.sent);case 6:case"end":return Ye.stop()}},d,this)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"searchForFacetValues",value:(function(){var l=f(S().mark(function d(h,p){var u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u="indexes/".concat(this.uid,"/facet-search"),y.next=3,this.httpRequest.post(u,Ot(h),void 0,p);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"searchSimilarDocuments",value:(function(){var l=f(S().mark(function d(h){var p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return p="indexes/".concat(this.uid,"/similar"),_.next=3,this.httpRequest.post(p,Ot(h),void 0);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getRawInfo",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid),_.next=3,this.httpRequest.get(h);case 3:return p=_.sent,this.primaryKey=p.primaryKey,this.updatedAt=new Date(p.updatedAt),this.createdAt=new Date(p.createdAt),_.abrupt("return",p);case 8:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"fetchInfo",value:(function(){var l=f(S().mark(function d(){return S().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getRawInfo();case 2:return p.abrupt("return",this);case 3:case"end":return p.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"fetchPrimaryKey",value:(function(){var l=f(S().mark(function d(){return S().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.getRawInfo();case 2:return this.primaryKey=p.sent.primaryKey,p.abrupt("return",this.primaryKey);case 4:case"end":return p.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"update",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,u.enqueuedAt=new Date(u.enqueuedAt),y.abrupt("return",u);case 6:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"delete",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getTasks",value:(function(){var l=f(S().mark(function d(){var h,p=arguments;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h=p.length>0&&p[0]!==void 0?p[0]:{},_.next=3,this.tasks.getTasks(H(H({},h),{},{indexUids:[this.uid]}));case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getTask",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.tasks.getTask(h);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"waitForTasks",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p=x.length>1&&x[1]!==void 0?x[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,P.next=3,this.tasks.waitForTasks(h,{timeOutMs:_,intervalMs:b});case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"waitForTask",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p=x.length>1&&x[1]!==void 0?x[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,P.next=3,this.tasks.waitForTask(h,{timeOutMs:_,intervalMs:b});case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getStats",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/stats"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getDocuments",value:(function(){var l=f(S().mark(function d(){var h,p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(h=x.length>0&&x[0]!==void 0?x[0]:{},h=Ot(h),h.filter===void 0){P.next=16;break}return P.prev=3,p="indexes/".concat(this.uid,"/documents/fetch"),P.next=7,this.httpRequest.post(p,h);case 7:return P.abrupt("return",P.sent);case 10:throw P.prev=10,P.t0=P.catch(3),(P.t0 instanceof er||P.t0 instanceof ft)&&(P.t0.message=en(P.t0.message,"getDocuments")),P.t0;case 14:P.next=21;break;case 16:return y="indexes/".concat(this.uid,"/documents"),b=Array.isArray((u=h)===null||u===void 0?void 0:u.fields)?{fields:(_=h)===null||_===void 0||(_=_.fields)===null||_===void 0?void 0:_.join(",")}:{},P.next=20,this.httpRequest.get(y,H(H({},h),b));case 20:return P.abrupt("return",P.sent);case 21:case"end":return P.stop()}},d,this,[[3,10]])}));function g(){return l.apply(this,arguments)}return g})()},{key:"getDocument",value:(function(){var l=f(S().mark(function d(h,p){var u,_;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return u="indexes/".concat(this.uid,"/documents/").concat(h),_=(function(){if(Array.isArray(p?.fields)){var x;return p==null||(x=p.fields)===null||x===void 0?void 0:x.join(",")}})(),b.next=4,this.httpRequest.get(u,Ot(H(H({},p),{},{fields:_})));case 4:return b.abrupt("return",b.sent);case 5:case"end":return b.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"addDocuments",value:(function(){var l=f(S().mark(function d(h,p){var u,_;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return u="indexes/".concat(this.uid,"/documents"),b.next=3,this.httpRequest.post(u,h,p);case 3:return _=b.sent,b.abrupt("return",new le(_));case 5:case"end":return b.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"addDocumentsFromString",value:(function(){var l=f(S().mark(function d(h,p,u){var _,y;return S().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return _="indexes/".concat(this.uid,"/documents"),x.next=3,this.httpRequest.post(_,h,u,{headers:{"Content-Type":p}});case 3:return y=x.sent,x.abrupt("return",new le(y));case 5:case"end":return x.stop()}},d,this)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"addDocumentsInBatches",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b=arguments;return S().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:p=b.length>1&&b[1]!==void 0?b[1]:1e3,u=b.length>2?b[2]:void 0,_=[],y=0;case 4:if(!(y<h.length)){j.next=13;break}return j.t0=_,j.next=8,this.addDocuments(h.slice(y,y+p),u);case 8:j.t1=j.sent,j.t0.push.call(j.t0,j.t1);case 10:y+=p,j.next=4;break;case 13:return j.abrupt("return",_);case 14:case"end":return j.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"updateDocuments",value:(function(){var l=f(S().mark(function d(h,p){var u,_;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return u="indexes/".concat(this.uid,"/documents"),b.next=3,this.httpRequest.put(u,h,p);case 3:return _=b.sent,b.abrupt("return",new le(_));case 5:case"end":return b.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"updateDocumentsInBatches",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b=arguments;return S().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:p=b.length>1&&b[1]!==void 0?b[1]:1e3,u=b.length>2?b[2]:void 0,_=[],y=0;case 4:if(!(y<h.length)){j.next=13;break}return j.t0=_,j.next=8,this.updateDocuments(h.slice(y,y+p),u);case 8:j.t1=j.sent,j.t0.push.call(j.t0,j.t1);case 10:y+=p,j.next=4;break;case 13:return j.abrupt("return",_);case 14:case"end":return j.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"updateDocumentsFromString",value:(function(){var l=f(S().mark(function d(h,p,u){var _,y;return S().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return _="indexes/".concat(this.uid,"/documents"),x.next=3,this.httpRequest.put(_,h,u,{headers:{"Content-Type":p}});case 3:return y=x.sent,x.abrupt("return",new le(y));case 5:case"end":return x.stop()}},d,this)}));function g(d,h,p){return l.apply(this,arguments)}return g})()},{key:"deleteDocument",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/documents/").concat(h),y.next=3,this.httpRequest.delete(p);case 3:return u=y.sent,u.enqueuedAt=new Date(u.enqueuedAt),y.abrupt("return",u);case 6:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"deleteDocuments",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y;return S().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return p=!Array.isArray(h)&&ae(h)==="object",u=p?"documents/delete":"documents/delete-batch",_="indexes/".concat(this.uid,"/").concat(u),x.prev=3,x.next=6,this.httpRequest.post(_,h);case 6:return y=x.sent,x.abrupt("return",new le(y));case 10:throw x.prev=10,x.t0=x.catch(3),(x.t0 instanceof er&&p||x.t0 instanceof ft)&&(x.t0.message=en(x.t0.message,"deleteDocuments")),x.t0;case 14:case"end":return x.stop()}},d,this,[[3,10]])}));function g(d){return l.apply(this,arguments)}return g})()},{key:"deleteAllDocuments",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/documents"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateDocumentsByFunction",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/documents/edit"),y.next=3,this.httpRequest.post(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getSettings",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSettings",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings"),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,u.enqueued=new Date(u.enqueuedAt),y.abrupt("return",u);case 6:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSettings",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getPagination",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/pagination"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updatePagination",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/pagination"),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetPagination",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/pagination"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getSynonyms",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/synonyms"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSynonyms",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/synonyms"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSynonyms",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/synonyms"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getStopWords",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/stop-words"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateStopWords",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/stop-words"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetStopWords",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/stop-words"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getRankingRules",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/ranking-rules"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateRankingRules",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/ranking-rules"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetRankingRules",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/ranking-rules"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getDistinctAttribute",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/distinct-attribute"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateDistinctAttribute",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/distinct-attribute"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetDistinctAttribute",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/distinct-attribute"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getFilterableAttributes",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/filterable-attributes"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateFilterableAttributes",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/filterable-attributes"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetFilterableAttributes",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/filterable-attributes"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getSortableAttributes",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/sortable-attributes"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSortableAttributes",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/sortable-attributes"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSortableAttributes",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/sortable-attributes"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getSearchableAttributes",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/searchable-attributes"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSearchableAttributes",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/searchable-attributes"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSearchableAttributes",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/searchable-attributes"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getDisplayedAttributes",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/displayed-attributes"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateDisplayedAttributes",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/displayed-attributes"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetDisplayedAttributes",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/displayed-attributes"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getTypoTolerance",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/typo-tolerance"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateTypoTolerance",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/typo-tolerance"),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,u.enqueuedAt=new Date(u.enqueuedAt),y.abrupt("return",u);case 6:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetTypoTolerance",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/typo-tolerance"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getFaceting",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/faceting"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateFaceting",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/faceting"),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetFaceting",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/faceting"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getSeparatorTokens",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/separator-tokens"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSeparatorTokens",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/separator-tokens"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSeparatorTokens",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/separator-tokens"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getNonSeparatorTokens",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/non-separator-tokens"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateNonSeparatorTokens",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/non-separator-tokens"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetNonSeparatorTokens",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/non-separator-tokens"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getDictionary",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/dictionary"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateDictionary",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/dictionary"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetDictionary",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/dictionary"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getProximityPrecision",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/proximity-precision"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateProximityPrecision",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/proximity-precision"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetProximityPrecision",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/proximity-precision"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getEmbedders",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/embedders"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateEmbedders",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/embedders"),y.next=3,this.httpRequest.patch(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetEmbedders",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/embedders"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,p.enqueuedAt=new Date(p.enqueuedAt),_.abrupt("return",p);case 6:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getSearchCutoffMs",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateSearchCutoffMs",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetSearchCutoffMs",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getLocalizedAttributes",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="indexes/".concat(this.uid,"/settings/localized-attributes"),u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"updateLocalizedAttributes",value:(function(){var l=f(S().mark(function d(h){var p,u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p="indexes/".concat(this.uid,"/settings/localized-attributes"),y.next=3,this.httpRequest.put(p,h);case 3:return u=y.sent,y.abrupt("return",new le(u));case 5:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"resetLocalizedAttributes",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="indexes/".concat(this.uid,"/settings/localized-attributes"),_.next=3,this.httpRequest.delete(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()}],[{key:"create",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p=x.length>1&&x[1]!==void 0?x[1]:{},u=x.length>2?x[2]:void 0,_="indexes",y=new Mt(u),P.next=6,y.post(_,H(H({},p),{},{uid:h}));case 6:return b=P.sent,P.abrupt("return",new le(b));case 8:case"end":return P.stop()}},d)}));function g(d){return l.apply(this,arguments)}return g})()}])})(),Es=(function(){function T(l){E(this,T),k(this,"config",void 0),k(this,"httpRequest",void 0),k(this,"tasks",void 0),this.config=l,this.httpRequest=new Mt(l),this.tasks=new Dr(l)}return R(T,[{key:"index",value:function(g){return new bt(this.config,g)}},{key:"getIndex",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new bt(this.config,h).fetchInfo());case 1:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getRawIndex",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new bt(this.config,h).getRawInfo());case 1:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"getIndexes",value:(function(){var l=f(S().mark(function d(){var h=this,p,u,_,y=arguments;return S().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return p=y.length>0&&y[0]!==void 0?y[0]:{},x.next=3,this.getRawIndexes(p);case 3:return u=x.sent,_=u.results.map(function(j){return new bt(h.config,j.uid,j.primaryKey)}),x.abrupt("return",H(H({},u),{},{results:_}));case 6:case"end":return x.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getRawIndexes",value:(function(){var l=f(S().mark(function d(){var h,p,u=arguments;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return h=u.length>0&&u[0]!==void 0?u[0]:{},p="indexes",y.next=4,this.httpRequest.get(p,h);case 4:return y.abrupt("return",y.sent);case 5:case"end":return y.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"createIndex",value:(function(){var l=f(S().mark(function d(h){var p,u=arguments;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=u.length>1&&u[1]!==void 0?u[1]:{},y.next=3,bt.create(h,p,this.config);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"updateIndex",value:(function(){var l=f(S().mark(function d(h){var p,u=arguments;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=u.length>1&&u[1]!==void 0?u[1]:{},y.next=3,new bt(this.config,h).update(p);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"deleteIndex",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,new bt(this.config,h).delete();case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"deleteIndexIfExists",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,this.deleteIndex(h);case 3:return u.abrupt("return",!0);case 6:if(u.prev=6,u.t0=u.catch(0),u.t0.code!==i.INDEX_NOT_FOUND){u.next=10;break}return u.abrupt("return",!1);case 10:throw u.t0;case 11:case"end":return u.stop()}},d,this,[[0,6]])}));function g(d){return l.apply(this,arguments)}return g})()},{key:"swapIndexes",value:(function(){var l=f(S().mark(function d(h){var p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return p="/swap-indexes",_.next=3,this.httpRequest.post(p,h);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"multiSearch",value:(function(){var l=f(S().mark(function d(h,p){var u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u="multi-search",y.next=3,this.httpRequest.post(u,h,void 0,p);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"getTasks",value:(function(){var l=f(S().mark(function d(){var h,p=arguments;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h=p.length>0&&p[0]!==void 0?p[0]:{},_.next=3,this.tasks.getTasks(h);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getTask",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.tasks.getTask(h);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"waitForTasks",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p=x.length>1&&x[1]!==void 0?x[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,P.next=3,this.tasks.waitForTasks(h,{timeOutMs:_,intervalMs:b});case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"waitForTask",value:(function(){var l=f(S().mark(function d(h){var p,u,_,y,b,x=arguments;return S().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return p=x.length>1&&x[1]!==void 0?x[1]:{},u=p.timeOutMs,_=u===void 0?5e3:u,y=p.intervalMs,b=y===void 0?50:y,P.next=3,this.tasks.waitForTask(h,{timeOutMs:_,intervalMs:b});case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"cancelTasks",value:(function(){var l=f(S().mark(function d(h){return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.tasks.cancelTasks(h);case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"deleteTasks",value:(function(){var l=f(S().mark(function d(){var h,p=arguments;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h=p.length>0&&p[0]!==void 0?p[0]:{},_.next=3,this.tasks.deleteTasks(h);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getKeys",value:(function(){var l=f(S().mark(function d(){var h,p,u,_=arguments;return S().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return h=_.length>0&&_[0]!==void 0?_[0]:{},p="keys",b.next=4,this.httpRequest.get(p,h);case 4:return u=b.sent,u.results=u.results.map(function(x){return H(H({},x),{},{createdAt:new Date(x.createdAt),updatedAt:new Date(x.updatedAt)})}),b.abrupt("return",u);case 7:case"end":return b.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getKey",value:(function(){var l=f(S().mark(function d(h){var p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return p="keys/".concat(h),_.next=3,this.httpRequest.get(p);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"createKey",value:(function(){var l=f(S().mark(function d(h){var p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return p="keys",_.next=3,this.httpRequest.post(p,h);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"updateKey",value:(function(){var l=f(S().mark(function d(h,p){var u;return S().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return u="keys/".concat(h),y.next=3,this.httpRequest.patch(u,p);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},d,this)}));function g(d,h){return l.apply(this,arguments)}return g})()},{key:"deleteKey",value:(function(){var l=f(S().mark(function d(h){var p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return p="keys/".concat(h),_.next=3,this.httpRequest.delete(p);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},d,this)}));function g(d){return l.apply(this,arguments)}return g})()},{key:"health",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="health",u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"isHealthy",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,h="health",u.next=4,this.httpRequest.get(h);case 4:return u.abrupt("return",!0);case 7:return u.prev=7,u.t0=u.catch(0),u.abrupt("return",!1);case 10:case"end":return u.stop()}},d,this,[[0,7]])}));function g(){return l.apply(this,arguments)}return g})()},{key:"getStats",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="stats",u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"getVersion",value:(function(){var l=f(S().mark(function d(){var h;return S().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h="version",u.next=3,this.httpRequest.get(h);case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"createDump",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="dumps",_.next=3,this.httpRequest.post(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"createSnapshot",value:(function(){var l=f(S().mark(function d(){var h,p;return S().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return h="snapshots",_.next=3,this.httpRequest.post(h);case 3:return p=_.sent,_.abrupt("return",new le(p));case 5:case"end":return _.stop()}},d,this)}));function g(){return l.apply(this,arguments)}return g})()},{key:"generateTenantToken",value:function(g,d,h){var p=new Error;return p.message=`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 `.concat(p.stack,"."),Promise.reject(p)}}])})(),_e=(function(T){function l(g){return E(this,l),v(this,l,[g])}return oe(l,T),R(l)})(Es);e.ContentTypeEnum=n,e.ErrorStatusCode=i,e.Index=bt,e.MatchingStrategies=t,e.MeiliSearch=_e,e.MeiliSearchApiError=ft,e.MeiliSearchError=Ne,e.MeiliSearchRequestError=er,e.MeiliSearchTimeOutError=ki,e.Meilisearch=_e,e.TaskStatus=r,e.TaskTypes=s,e.default=_e,e.versionErrorHintMessage=en,Object.defineProperty(e,"__esModule",{value:!0})}))});var z=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var jt="8.55.0";var V=globalThis;function Ln(e,t,n){let r=n||V,s=r.__SENTRY__=r.__SENTRY__||{},i=s[jt]=s[jt]||{};return i[e]||(i[e]=t())}var mt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var rm="Sentry Logger ",bs=["debug","info","warn","error","log","assert","trace"],Fr={};function Ze(e){if(!("console"in V))return e();let t=V.console,n={},r=Object.keys(Fr);r.forEach(s=>{let i=Fr[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function sm(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return mt?bs.forEach(n=>{t[n]=(...r)=>{e&&Ze(()=>{V.console[n](`${rm}[${n}]:`,...r)})}}):bs.forEach(n=>{t[n]=()=>{}}),t}var A=Ln("logger",sm);var qu=/\(error: (.*)\)/,ju=/captureMessage|captureException/;function Oi(...e){let t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{let i=[],a=n.split(`
`);for(let o=r;o<a.length;o++){let c=a[o];if(c.length>1024)continue;let m=qu.test(c)?c.replace(qu,"$1"):c;if(!m.match(/\S*Error: /)){for(let f of t){let v=f(m);if(v){i.push(v);break}}if(i.length>=50+s)break}}return Wu(i.slice(s))}}function To(e){return Array.isArray(e)?Oi(...e):e}function Wu(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(Ni(t).function||"")&&t.pop(),t.reverse(),ju.test(Ni(t).function||"")&&(t.pop(),ju.test(Ni(t).function||"")&&t.pop()),t.slice(0,50).map(n=>({...n,filename:n.filename||Ni(t).filename,function:n.function||"?"}))}function Ni(e){return e[e.length-1]||{}}var Eo="<anonymous>";function ht(e){try{return!e||typeof e!="function"?Eo:e.name||Eo}catch{return Eo}}function Mi(e){let t=e.exception;if(t){let n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}var Di={},zu={};function Qe(e,t){Di[e]=Di[e]||[],Di[e].push(t)}function et(e,t){if(!zu[e]){zu[e]=!0;try{t()}catch(n){mt&&A.error(`Error while instrumenting ${e}`,n)}}}function $e(e,t){let n=e&&Di[e];if(n)for(let r of n)try{r(t)}catch(s){mt&&A.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}var bo=null;function Is(e){let t="error";Qe(t,e),et(t,im)}function im(){bo=V.onerror,V.onerror=function(e,t,n,r,s){return $e("error",{column:r,error:s,line:n,msg:e,url:t}),bo?bo.apply(this,arguments):!1},V.onerror.__SENTRY_INSTRUMENTED__=!0}var Io=null;function ws(e){let t="unhandledrejection";Qe(t,e),et(t,am)}function am(){Io=V.onunhandledrejection,V.onunhandledrejection=function(e){return $e("unhandledrejection",e),Io?Io.apply(this,arguments):!0},V.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function kt(){return ks(V),V}function ks(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||jt,t[jt]=t[jt]||{}}var Gu=Object.prototype.toString;function rr(e){switch(Gu.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return At(e,Error)}}function Ur(e,t){return Gu.call(e)===`[object ${t}]`}function Li(e){return Ur(e,"ErrorEvent")}function Pi(e){return Ur(e,"DOMError")}function wo(e){return Ur(e,"DOMException")}function it(e){return Ur(e,"String")}function Br(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function sr(e){return e===null||Br(e)||typeof e!="object"&&typeof e!="function"}function Wt(e){return Ur(e,"Object")}function ir(e){return typeof Event<"u"&&At(e,Event)}function ko(e){return typeof Element<"u"&&At(e,Element)}function Ao(e){return Ur(e,"RegExp")}function yn(e){return!!(e&&e.then&&typeof e.then=="function")}function Ro(e){return Wt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function At(e,t){try{return e instanceof t}catch{return!1}}function As(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}var Hr=V,om=80;function tt(e,t={}){if(!e)return"<unknown>";try{let n=e,r=5,s=[],i=0,a=0,o=" > ",c=o.length,m,f=Array.isArray(t)?t:t.keyAttrs,v=!Array.isArray(t)&&t.maxStringLength||om;for(;n&&i++<r&&(m=cm(n,f),!(m==="html"||i>1&&a+s.length*c+m.length>=v));)s.push(m),a+=m.length,n=n.parentNode;return s.reverse().join(o)}catch{return"<unknown>"}}function cm(e,t){let n=e,r=[];if(!n||!n.tagName)return"";if(Hr.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());let s=t&&t.length?t.filter(a=>n.getAttribute(a)).map(a=>[a,n.getAttribute(a)]):null;if(s&&s.length)s.forEach(a=>{r.push(`[${a[0]}="${a[1]}"]`)});else{n.id&&r.push(`#${n.id}`);let a=n.className;if(a&&it(a)){let o=a.split(/\s+/);for(let c of o)r.push(`.${c}`)}}let i=["aria-label","type","name","title","alt"];for(let a of i){let o=n.getAttribute(a);o&&r.push(`[${a}="${o}"]`)}return r.join("")}function Rs(){try{return Hr.document.location.href}catch{return""}}function xo(e){return Hr.document&&Hr.document.querySelector?Hr.document.querySelector(e):null}function xs(e){if(!Hr.HTMLElement)return null;let t=e,n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function nn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Fi(e,t){if(!Array.isArray(e))return"";let n=[];for(let r=0;r<e.length;r++){let s=e[r];try{As(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Vu(e,t,n=!1){return it(e)?Ao(t)?t.test(e):it(t)?n?e===t:e.includes(t):!1:!1}function Dt(e,t=[],n=!1){return t.some(r=>Vu(e,r,n))}function Fe(e,t,n){if(!(t in e))return;let r=e[t],s=n(r);typeof s=="function"&&Ui(s,r);try{e[t]=s}catch{mt&&A.log(`Failed to replace method "${t}" in object`,e)}}function Ue(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{mt&&A.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ui(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,Ue(e,"__sentry_original__",t)}catch{}}function ar(e){return e.__sentry_original__}function Bi(e){if(rr(e))return{message:e.message,name:e.name,stack:e.stack,...Ku(e)};if(ir(e)){let t={type:e.type,target:Yu(e.target),currentTarget:Yu(e.currentTarget),...Ku(e)};return typeof CustomEvent<"u"&&At(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Yu(e){try{return ko(e)?tt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ku(e){if(typeof e=="object"&&e!==null){let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function No(e,t=40){let n=Object.keys(Bi(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return nn(r,t);for(let s=n.length;s>0;s--){let i=n.slice(0,s).join(", ");if(!(i.length>t))return s===n.length?i:nn(i,t)}return""}function Ee(e){return Co(e,new Map)}function Co(e,t){if(um(e)){let n=t.get(e);if(n!==void 0)return n;let r={};t.set(e,r);for(let s of Object.getOwnPropertyNames(e))typeof e[s]<"u"&&(r[s]=Co(e[s],t));return r}if(Array.isArray(e)){let n=t.get(e);if(n!==void 0)return n;let r=[];return t.set(e,r),e.forEach(s=>{r.push(Co(s,t))}),r}return e}function um(e){if(!Wt(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var Xu=1e3;function rn(){return Date.now()/Xu}function lm(){let{performance:e}=V;if(!e||!e.now)return rn;let t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Xu}var Me=lm(),Cs,De=(()=>{let{performance:e}=V;if(!e||!e.now){Cs="none";return}let t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,a=e.timing&&e.timing.navigationStart,c=typeof a=="number"?Math.abs(a+n-r):t,m=c<t;return i||m?s<=c?(Cs="timeOrigin",e.timeOrigin):(Cs="navigationStart",a):(Cs="dateNow",r)})();function Be(){let e=V,t=e.crypto||e.msCrypto,n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Ju(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function zt(e){let{message:t,event_id:n}=e;if(t)return t;let r=Ju(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function $r(e,t,n){let r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function sn(e,t){let n=Ju(e);if(!n)return;let r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){let i={...s&&s.data,...t.data};n.mechanism.data=i}}function Hi(e){if(dm(e))return!0;try{Ue(e,"__sentry_captured__",!0)}catch{}return!1}function dm(e){try{return e.__sentry_captured__}catch{}}var Sn;(function(e){e[e.PENDING=0]="PENDING";let n=1;e[e.RESOLVED=n]="RESOLVED";let r=2;e[e.REJECTED=r]="REJECTED"})(Sn||(Sn={}));function at(e){return new Gt(t=>{t(e)})}function Pn(e){return new Gt((t,n)=>{n(e)})}var Gt=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Sn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new e((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(a){s(a)}},i=>{if(!n)s(i);else try{r(n(i))}catch(a){s(a)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new e((n,r)=>{let s,i;return this.then(a=>{i=!1,s=a,t&&t()},a=>{i=!0,s=a,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}__init(){this._resolve=t=>{this._setResult(Sn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Sn.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===Sn.PENDING){if(yn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Sn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Sn.RESOLVED&&n[1](this._value),this._state===Sn.REJECTED&&n[2](this._value),n[0]=!0)})}}};function Zu(e){let t=Me(),n={sid:Be(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>pm(n)};return e&&vn(n,e),n}function vn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Me(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Be()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Qu(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),vn(e,n)}function pm(e){return Ee({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function gt(){return Be()}function _t(){return Be().substring(16)}function qr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;let r={...e};for(let s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=qr(r[s],t[s],n-1));return r}var Oo="_sentrySpan";function Fn(e,t){t?Ue(e,Oo,t):delete e[Oo]}function or(e){return e[Oo]}var fm=100,Mo=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:gt(),spanId:_t()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Fn(t,or(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&vn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let n=typeof t=="function"?t(this):t,[r,s]=n instanceof Rt?[n.getScopeData(),n.getRequestSession()]:Wt(n)?[t,t.requestSession]:[],{tags:i,extra:a,user:o,contexts:c,level:m,fingerprint:f=[],propagationContext:v}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...a},this._contexts={...this._contexts,...c},o&&Object.keys(o).length&&(this._user=o),m&&(this._level=m),f.length&&(this._fingerprint=f),v&&(this._propagationContext=v),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Fn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:gt()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){let r=typeof n=="number"?n:fm;if(r<=0)return this;let s={timestamp:rn(),...t};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:or(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=qr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:_t(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,n){let r=n&&n.event_id?n.event_id:Be();if(!this._client)return A.warn("No client configured on scope - will not capture exception!"),r;let s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){let s=r&&r.event_id?r.event_id:Be();if(!this._client)return A.warn("No client configured on scope - will not capture message!"),s;let i=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){let r=n&&n.event_id?n.event_id:Be();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(A.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},Rt=Mo;function el(){return Ln("defaultCurrentScope",()=>new Rt)}function tl(){return Ln("defaultIsolationScope",()=>new Rt)}var Do=class{constructor(t,n){let r;t?r=t:r=new Rt;let s;n?s=n:s=new Rt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){let n=this._pushScope(),r;try{r=t(n)}catch(s){throw this._popScope(),s}return yn(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function jr(){let e=kt(),t=ks(e);return t.stack=t.stack||new Do(el(),tl())}function mm(e){return jr().withScope(e)}function hm(e,t){let n=jr();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function nl(e){return jr().withScope(()=>e(jr().getIsolationScope()))}function rl(){return{withIsolationScope:nl,withScope:mm,withSetScope:hm,withSetIsolationScope:(e,t)=>nl(t),getCurrentScope:()=>jr().getScope(),getIsolationScope:()=>jr().getIsolationScope()}}function an(e){let t=ks(e);return t.acs?t.acs:rl()}function ce(){let e=kt();return an(e).getCurrentScope()}function qe(){let e=kt();return an(e).getIsolationScope()}function $i(){return Ln("globalScope",()=>new Rt)}function En(...e){let t=kt(),n=an(t);if(e.length===2){let[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function Y(){return ce().getClient()}function Lo(e){let t=e.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:s}=t;return Ee({trace_id:n,span_id:r,parent_span_id:s})}var gm="_sentryMetrics";function Ns(e){let t=e[gm];if(!t)return;let n={};for(let[,[r,s]]of t)(n[r]||(n[r]=[])).push(Ee(s));return n}var Ge="sentry.source",Wr="sentry.sample_rate",ot="sentry.op",we="sentry.origin",zr="sentry.idle_span_finish_reason",Un="sentry.measurement_unit",Bn="sentry.measurement_value",Os="sentry.custom_span_name",Po="sentry.profile_id",cr="sentry.exclusive_time";function Fo(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Gr(e,t){e.setAttribute("http.response.status_code",t);let n=Fo(t);n.message!=="unknown_error"&&e.setStatus(n)}var qi="sentry-",_m=/^sentry-/,ym=8192;function ji(e){let t=Sm(e);if(!t)return;let n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(_m)){let a=s.slice(qi.length);r[a]=i}return r},{});if(Object.keys(n).length>0)return n}function Uo(e){if(!e)return;let t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${qi}${r}`]=s),n),{});return vm(t)}function Sm(e){if(!(!e||!it(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{let r=sl(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):sl(e)}function sl(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function vm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{let i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,a=s===0?i:`${t},${i}`;return a.length>ym?(mt&&A.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):a},"")}var Wi=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function il(e){if(!e)return;let t=e.match(Wi);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Bo(e,t){let n=il(e),r=ji(t);if(!n||!n.traceId)return{traceId:gt(),spanId:_t()};let{traceId:s,parentSpanId:i,parentSampled:a}=n,o=_t();return{traceId:s,parentSpanId:i,spanId:o,sampled:a,dsc:r||{}}}function Ms(e=gt(),t=_t(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}var zi=0,$o=1,al=!1;function cl(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:a,origin:o}=ee(e);return Ee({parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:a,origin:o})}function qo(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:ee(e).parent_span_id,i=r?_t():t;return Ee({parent_span_id:s,span_id:i,trace_id:n})}function Gi(e){let{traceId:t,spanId:n}=e.spanContext(),r=Lt(e);return Ms(t,n,r)}function Vt(e){return typeof e=="number"?ol(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?ol(e.getTime()):Me()}function ol(e){return e>9999999999?e/1e3:e}function ee(e){if(Im(e))return e.getSpanJSON();try{let{spanId:t,traceId:n}=e.spanContext();if(bm(e)){let{attributes:r,startTime:s,name:i,endTime:a,parentSpanId:o,status:c}=e;return Ee({span_id:t,trace_id:n,data:r,description:i,parent_span_id:o,start_timestamp:Vt(s),timestamp:Vt(a)||void 0,status:Vi(c),op:r[ot],origin:r[we],_metrics_summary:Ns(e)})}return{span_id:t,trace_id:n}}catch{return{}}}function bm(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Im(e){return typeof e.getSpanJSON=="function"}function Lt(e){let{traceFlags:t}=e.spanContext();return t===$o}function Vi(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var ur="_sentryChildSpans",Ho="_sentryRootSpan";function Yi(e,t){let n=e[Ho]||e;Ue(t,Ho,n),e[ur]?e[ur].add(t):Ue(e,ur,new Set([t]))}function ul(e,t){e[ur]&&e[ur].delete(t)}function Hn(e){let t=new Set;function n(r){if(!t.has(r)&&Lt(r)){t.add(r);let s=r[ur]?Array.from(r[ur]):[];for(let i of s)n(i)}}return n(e),Array.from(t)}function Te(e){return e[Ho]||e}function ve(){let e=kt(),t=an(e);return t.getActiveSpan?t.getActiveSpan():or(ce())}function Ki(){al||(Ze(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),al=!0)}var ll=!1;function Xi(){ll||(ll=!0,Is(jo),ws(jo))}function jo(){let e=ve(),t=e&&Te(e);if(t){let n="internal_error";z&&A.log(`[Tracing] Root span: ${n} -> Global error occurred`),t.setStatus({code:2,message:n})}}jo.tag="sentry_tracingErrorCallback";var dl="_sentryScope",pl="_sentryIsolationScope";function fl(e,t,n){e&&(Ue(e,pl,n),Ue(e,dl,t))}function Wo(e){return{scope:e[dl],isolationScope:e[pl]}}function ct(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=Y(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}var xt=class{constructor(t={}){this._traceId=t.traceId||gt(),this._spanId=t.spanId||_t()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:zi}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}};var Vr="production";var ml="_frozenDsc";function zo(e,t){Ue(e,ml,t)}function Go(e,t){let n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s=Ee({environment:n.environment||Vr,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",s),s}function Ds(e,t){let n=t.getPropagationContext();return n.dsc||Go(n.traceId,e)}function ut(e){let t=Y();if(!t)return{};let n=Te(e),r=n[ml];if(r)return r;let s=n.spanContext().traceState,i=s&&s.get("sentry.dsc"),a=i&&ji(i);if(a)return a;let o=Go(e.spanContext().traceId,t),c=ee(n),m=c.data||{},f=m[Wr];f!=null&&(o.sample_rate=`${f}`);let v=m[Ge],E=c.description;return v!=="url"&&E&&(o.transaction=E),ct()&&(o.sampled=String(Lt(n))),t.emit("createDsc",o,n),o}function hl(e){if(!z)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=ee(e),{spanId:s}=e.spanContext(),i=Lt(e),a=Te(e),o=a===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${o?"root ":""}span`,m=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&m.push(`parent ID: ${r}`),!o){let{op:f,description:v}=ee(a);m.push(`root ID: ${a.spanContext().spanId}`),f&&m.push(`root op: ${f}`),v&&m.push(`root description: ${v}`)}A.log(`${c}
  ${m.join(`
  `)}`)}function gl(e){if(!z)return;let{description:t="< unknown name >",op:n="< unknown op >"}=ee(e),{spanId:r}=e.spanContext(),i=Te(e)===e,a=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;A.log(a)}function $n(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){z&&A.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function _l(e,t){if(!ct(e))return[!1];let n=qe().getScopeData().sdkProcessingMetadata.normalizedRequest,r={...t,normalizedRequest:t.normalizedRequest||n},s;typeof e.tracesSampler=="function"?s=e.tracesSampler(r):r.parentSampled!==void 0?s=r.parentSampled:typeof e.tracesSampleRate<"u"?s=e.tracesSampleRate:s=1;let i=$n(s);return i===void 0?(z&&A.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):i?Math.random()<i?[!0,i]:(z&&A.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[!1,i]):(z&&A.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i])}var wm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function km(e){return e==="http"||e==="https"}function on(e,t=!1){let{host:n,path:r,pass:s,port:i,projectId:a,protocol:o,publicKey:c}=e;return`${o}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${a}`}function yl(e){let t=wm.exec(e);if(!t){Ze(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,s="",i="",a="",o=""]=t.slice(1),c="",m=o,f=m.split("/");if(f.length>1&&(c=f.slice(0,-1).join("/"),m=f.pop()),m){let v=m.match(/^\d+/);v&&(m=v[0])}return Sl({host:i,pass:s,path:c,projectId:m,port:a,protocol:n,publicKey:r})}function Sl(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Am(e){if(!mt)return!0;let{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(a=>e[a]?!1:(A.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:n.match(/^\d+$/)?km(r)?t&&isNaN(parseInt(t,10))?(A.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(A.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(A.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Vo(e){let t=typeof e=="string"?yl(e):Sl(e);if(!(!t||!Am(t)))return t}function vl(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(s){if(e)return t.has(s)?!0:(t.add(s),!1);for(let i=0;i<t.length;i++)if(t[i]===s)return!0;return t.push(s),!1}function r(s){if(e)t.delete(s);else for(let i=0;i<t.length;i++)if(t[i]===s){t.splice(i,1);break}}return[n,r]}function lt(e,t=100,n=1/0){try{return Yo("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Ji(e,t=3,n=100*1024){let r=lt(e,t);return Nm(r)>n?Ji(e,t-1,n):r}function Yo(e,t,n=1/0,r=1/0,s=vl()){let[i,a]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let o=Rm(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return o.replace("object ","");if(i(t))return"[Circular ~]";let m=t;if(m&&typeof m.toJSON=="function")try{let I=m.toJSON();return Yo("",I,c-1,r,s)}catch{}let f=Array.isArray(t)?[]:{},v=0,E=Bi(t);for(let I in E){if(!Object.prototype.hasOwnProperty.call(E,I))continue;if(v>=r){f[I]="[MaxProperties ~]";break}let w=E[I];f[I]=Yo(I,w,c-1,r,s),v++}return a(t),f}function Rm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(As(t))return"[VueViewModel]";if(Ro(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ht(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let n=xm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function xm(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function Cm(e){return~-encodeURI(e).split(/%..|./).length}function Nm(e){return Cm(JSON.stringify(e))}function Ct(e,t=[]){return[e,t]}function Xo(e,t){let[n,r]=e;return[n,[...r,t]]}function Zi(e,t){let n=e[1];for(let r of n){let s=r[0].type;if(t(r,s))return!0}return!1}function Ko(e){return V.__SENTRY__&&V.__SENTRY__.encodePolyfill?V.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function Jo(e){let[t,n]=e,r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[Ko(r),i]:r.push(typeof i=="string"?Ko(i):i)}for(let i of n){let[a,o]=i;if(s(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)s(o);else{let c;try{c=JSON.stringify(o)}catch{c=JSON.stringify(lt(o))}s(c)}}return typeof r=="string"?r:Om(r)}function Om(e){let t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t),r=0;for(let s of e)n.set(s,r),r+=s.length;return n}function Zo(e){return[{type:"span"},e]}function Qo(e){let t=typeof e.data=="string"?Ko(e.data):e.data;return[Ee({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var Mm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Qi(e){return Mm[e]}function Yr(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function Ls(e,t,n,r){let s=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:on(r)},...s&&{trace:Ee({...s})}}}function Dm(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function El(e,t,n,r){let s=Yr(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:on(t)}},a="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ct(i,[a])}function Tl(e,t,n,r){let s=Yr(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Dm(e,n&&n.sdk);let a=Ls(e,s,r,t);return delete e.sdkProcessingMetadata,Ct(a,[[{type:i},e]])}function bl(e,t){function n(f){return!!f.trace_id&&!!f.public_key}let r=ut(e[0]),s=t&&t.getDsn(),i=t&&t.getOptions().tunnel,a={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:on(s)}},o=t&&t.getOptions().beforeSendSpan,c=o?f=>{let v=o(ee(f));return v||Ki(),v}:f=>ee(f),m=[];for(let f of e){let v=c(f);v&&m.push(Zo(v))}return Ct(a,m)}function ea(e,t,n,r=ve()){let s=r&&Te(r);s&&(z&&A.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Bn]:t,[Un]:n}))}function ta(e){if(!e||e.length===0)return;let t={};return e.forEach(n=>{let r=n.attributes||{},s=r[Un],i=r[Bn];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}var Il=1e3,Kr=class{constructor(t={}){this._traceId=t.traceId||gt(),this._spanId=t.spanId||_t(),this._startTime=t.startTimestamp||Me(),this._attributes={},this.setAttributes({[we]:"manual",[ot]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,n){}spanContext(){let{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?$o:zi}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Vt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Ge,"custom"),this}end(t){this._endTime||(this._endTime=Vt(t),gl(this),this._onSpanEnded())}getSpanJSON(){return Ee({data:this._attributes,description:this._name,op:this._attributes[ot],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Vi(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[we],_metrics_summary:Ns(this),profile_id:this._attributes[Po],exclusive_time:this._attributes[cr],measurements:ta(this._events),is_segment:this._isStandaloneSpan&&Te(this)===this||void 0,segment_id:this._isStandaloneSpan?Te(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){z&&A.log("[Tracing] Adding an event to span:",t);let s=wl(n)?n:r||Me(),i=wl(n)?{}:n||{},a={name:t,time:Vt(s),attributes:i};return this._events.push(a),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=Y();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Te(this)))return;if(this._isStandaloneSpan){this._sampled?Pm(bl([this],t)):(z&&A.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let r=this._convertSpanToTransaction();r&&(Wo(this).scope||ce()).captureEvent(r)}_convertSpanToTransaction(){if(!kl(ee(this)))return;this._name||(z&&A.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:n}=Wo(this),s=(t||ce()).getClient()||Y();if(this._sampled!==!0){z&&A.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),s&&s.recordDroppedEvent("sample_rate","transaction");return}let a=Hn(this).filter(v=>v!==this&&!Lm(v)).map(v=>ee(v)).filter(kl),o=this._attributes[Ge];delete this._attributes[Os],a.forEach(v=>{v.data&&delete v.data[Os]});let c={contexts:{trace:cl(this)},spans:a.length>Il?a.sort((v,E)=>v.start_timestamp-E.start_timestamp).slice(0,Il):a,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,...Ee({dynamicSamplingContext:ut(this)})},_metrics_summary:Ns(this),...o&&{transaction_info:{source:o}}},m=ta(this._events);return m&&Object.keys(m).length&&(z&&A.log("[Measurements] Adding measurements to transaction event",JSON.stringify(m,void 0,2)),c.measurements=m),c}};function wl(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function kl(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Lm(e){return e instanceof Kr&&e.isStandaloneSpan()}function Pm(e){let t=Y();if(!t)return;let n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Rl="__SENTRY_SUPPRESS_TRACING__";function Yt(e){let t=xl();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=Um(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?a=>En(e.scope,a):s!==void 0?a=>Ps(s,a):a=>a())(()=>{let a=ce(),o=Hm(a);return e.onlyIfParent&&!o?new xt:Fm({parentSpan:o,spanArguments:n,forceTransaction:r,scope:a})})}function Ps(e,t){let n=xl();return n.withActiveSpan?n.withActiveSpan(e,t):En(r=>(Fn(r,e||void 0),t(r)))}function Fm({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ct())return new xt;let s=qe(),i;if(e&&!n)i=Bm(e,r,t),Yi(e,i);else if(e){let a=ut(e),{traceId:o,spanId:c}=e.spanContext(),m=Lt(e);i=Al({traceId:o,parentSpanId:c,...t},r,m),zo(i,a)}else{let{traceId:a,dsc:o,parentSpanId:c,sampled:m}={...s.getPropagationContext(),...r.getPropagationContext()};i=Al({traceId:a,parentSpanId:c,...t},r,m),o&&zo(i,o)}return hl(i),fl(i,r,s),i}function Um(e){let n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let r={...n};return r.startTimestamp=Vt(e.startTime),delete r.startTime,r}return n}function xl(){let e=kt();return an(e)}function Al(e,t,n){let r=Y(),s=r&&r.getOptions()||{},{name:i="",attributes:a}=e,[o,c]=t.getScopeData().sdkProcessingMetadata[Rl]?[!1]:_l(s,{name:i,parentSampled:n,attributes:a,transactionContext:{name:i,parentSampled:n}}),m=new Kr({...e,attributes:{[Ge]:"custom",...e.attributes},sampled:o});return c!==void 0&&m.setAttribute(Wr,c),r&&r.emit("spanStart",m),m}function Bm(e,t,n){let{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Rl]?!1:Lt(e),a=i?new Kr({...n,parentSpanId:r,traceId:s,sampled:i}):new xt({traceId:s});Yi(e,a);let o=Y();return o&&(o.emit("spanStart",a),n.endTimestamp&&o.emit("spanEnd",a)),a}function Hm(e){let t=or(e);if(!t)return;let n=Y();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?Te(t):t}var Xr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},$m="heartbeatFailed",qm="idleTimeout",jm="finalTimeout",Wm="externalFinish";function na(e,t={}){let n=new Map,r=!1,s,i=Wm,a=!t.disableAutoFinish,o=[],{idleTimeout:c=Xr.idleTimeout,finalTimeout:m=Xr.finalTimeout,childSpanTimeout:f=Xr.childSpanTimeout,beforeSpanEnd:v}=t,E=Y();if(!E||!ct())return new xt;let I=ce(),w=ve(),R=zm(e);R.end=new Proxy(R.end,{apply(D,M,Z){v&&v(R);let[H,...L]=Z,S=H||Me(),G=Vt(S),Se=Hn(R).filter(ge=>ge!==R);if(!Se.length)return se(G),Reflect.apply(D,M,[G,...L]);let be=Se.map(ge=>ee(ge).timestamp).filter(ge=>!!ge),He=be.length?Math.max(...be):void 0,ae=ee(R).start_timestamp,Pe=Math.min(ae?ae+m/1e3:1/0,Math.max(ae||-1/0,Math.min(G,He||1/0)));return se(Pe),Reflect.apply(D,M,[Pe,...L])}});function $(){s&&(clearTimeout(s),s=void 0)}function k(D){$(),s=setTimeout(()=>{!r&&n.size===0&&a&&(i=qm,R.end(D))},c)}function K(D){s=setTimeout(()=>{!r&&a&&(i=$m,R.end(D))},f)}function oe(D){$(),n.set(D,!0);let M=Me();K(M+f/1e3)}function pe(D){if(n.has(D)&&n.delete(D),n.size===0){let M=Me();k(M+c/1e3)}}function se(D){r=!0,n.clear(),o.forEach(G=>G()),Fn(I,w);let M=ee(R),{start_timestamp:Z}=M;if(!Z)return;(M.data||{})[zr]||R.setAttribute(zr,i),A.log(`[Tracing] Idle span "${M.op}" finished`);let L=Hn(R).filter(G=>G!==R),S=0;L.forEach(G=>{G.isRecording()&&(G.setStatus({code:2,message:"cancelled"}),G.end(D),z&&A.log("[Tracing] Cancelling span since span ended early",JSON.stringify(G,void 0,2)));let Se=ee(G),{timestamp:be=0,start_timestamp:He=0}=Se,ae=He<=D,Pe=(m+c)/1e3,ge=be-He<=Pe;if(z){let Ne=JSON.stringify(G,void 0,2);ae?ge||A.log("[Tracing] Discarding span since it finished after idle span final timeout",Ne):A.log("[Tracing] Discarding span since it happened after idle span was finished",Ne)}(!ge||!ae)&&(ul(R,G),S++)}),S>0&&R.setAttribute("sentry.idle_span_discarded_spans",S)}return o.push(E.on("spanStart",D=>{if(r||D===R||ee(D).timestamp)return;Hn(R).includes(D)&&oe(D.spanContext().spanId)})),o.push(E.on("spanEnd",D=>{r||pe(D.spanContext().spanId)})),o.push(E.on("idleSpanEnableAutoFinish",D=>{D===R&&(a=!0,k(),n.size&&K())})),t.disableAutoFinish||k(),setTimeout(()=>{r||(R.setStatus({code:2,message:"deadline_exceeded"}),i=jm,R.end())},m),R}function zm(e){let t=Yt(e);return Fn(ce(),t),z&&A.log("[Tracing] Started span is an idle span"),t}function ra(e,t,n,r=0){return new Gt((s,i)=>{let a=e[r];if(t===null||typeof a!="function")s(t);else{let o=a({...t},n);z&&a.id&&o===null&&A.log(`Event processor "${a.id}" dropped event`),yn(o)?o.then(c=>ra(e,c,n,r+1).then(s)).then(null,i):ra(e,o,n,r+1).then(s).then(null,i)}})}var sa,Cl,ia;function Nl(e){let t=V._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return ia&&n.length===Cl||(Cl=n.length,ia=n.reduce((r,s)=>{sa||(sa={});let i=sa[s];if(i)r[i[0]]=i[1];else{let a=e(s);for(let o=a.length-1;o>=0;o--){let c=a[o],m=c&&c.filename,f=t[s];if(m&&f){r[m]=f,sa[s]=[m,f];break}}}return r},{})),ia}function Ol(e,t){let{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Gm(e,t),r&&Km(e,r),Xm(e,n),Vm(e,s),Ym(e,i)}function ec(e,t){let{extra:n,tags:r,user:s,contexts:i,level:a,sdkProcessingMetadata:o,breadcrumbs:c,fingerprint:m,eventProcessors:f,attachments:v,propagationContext:E,transactionName:I,span:w}=t;aa(e,"extra",n),aa(e,"tags",r),aa(e,"user",s),aa(e,"contexts",i),e.sdkProcessingMetadata=qr(e.sdkProcessingMetadata,o,2),a&&(e.level=a),I&&(e.transactionName=I),w&&(e.span=w),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),m.length&&(e.fingerprint=[...e.fingerprint,...m]),f.length&&(e.eventProcessors=[...e.eventProcessors,...f]),v.length&&(e.attachments=[...e.attachments,...v]),e.propagationContext={...e.propagationContext,...E}}function aa(e,t,n){e[t]=qr(e[t],n,1)}function Gm(e,t){let{extra:n,tags:r,user:s,contexts:i,level:a,transactionName:o}=t,c=Ee(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let m=Ee(r);m&&Object.keys(m).length&&(e.tags={...m,...e.tags});let f=Ee(s);f&&Object.keys(f).length&&(e.user={...f,...e.user});let v=Ee(i);v&&Object.keys(v).length&&(e.contexts={...v,...e.contexts}),a&&(e.level=a),o&&e.type!=="transaction"&&(e.transaction=o)}function Vm(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Ym(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Km(e,t){e.contexts={trace:qo(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:ut(t),...e.sdkProcessingMetadata};let n=Te(t),r=ee(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Xm(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function Fs(e,t,n,r,s,i){let{normalizeDepth:a=3,normalizeMaxBreadth:o=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Be(),timestamp:t.timestamp||rn()},m=n.integrations||e.integrations.map($=>$.name);Jm(c,e),eh(c,m),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Zm(c,e.stackParser);let f=nh(r,n.captureContext);n.mechanism&&sn(c,n.mechanism);let v=s?s.getEventProcessors():[],E=$i().getScopeData();if(i){let $=i.getScopeData();ec(E,$)}if(f){let $=f.getScopeData();ec(E,$)}let I=[...n.attachments||[],...E.attachments];I.length&&(n.attachments=I),Ol(c,E);let w=[...v,...E.eventProcessors];return ra(w,c,n).then($=>($&&Qm($),typeof a=="number"&&a>0?th($,a,o):$))}function Jm(e,t){let{environment:n,release:r,dist:s,maxValueLength:i=250}=t;e.environment=e.environment||n||Vr,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s),e.message&&(e.message=nn(e.message,i));let a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=nn(a.value,i));let o=e.request;o&&o.url&&(o.url=nn(o.url,i))}function Zm(e,t){let n=Nl(t);try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{n&&s.filename&&(s.debug_id=n[s.filename])})})}catch{}}function Qm(e){let t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function eh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function th(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:lt(s.data,t,n)}}))},...e.user&&{user:lt(e.user,t,n)},...e.contexts&&{contexts:lt(e.contexts,t,n)},...e.extra&&{extra:lt(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=lt(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:lt(s.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=lt(e.contexts.flags,3,n)),r}function nh(e,t){if(!t)return e;let n=e?e.clone():new Rt;return n.update(t),n}function Ml(e){if(e)return rh(e)?{captureContext:e}:ih(e)?{captureContext:e}:e}function rh(e){return e instanceof Rt||typeof e=="function"}var sh=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ih(e){return Object.keys(e).some(t=>sh.includes(t))}function Tn(e,t){return ce().captureException(e,Ml(t))}function Us(e,t){return ce().captureEvent(e,t)}function oa(e,t){qe().setContext(e,t)}function tc(){let e=Y();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function ca(e){qe().addEventProcessor(e)}function Bs(e){let t=Y(),n=qe(),r=ce(),{release:s,environment:i=Vr}=t&&t.getOptions()||{},{userAgent:a}=V.navigator||{},o=Zu({release:s,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),c=n.getSession();return c&&c.status==="ok"&&vn(c,{status:"exited"}),ua(),n.setSession(o),r.setSession(o),o}function ua(){let e=qe(),t=ce(),n=t.getSession()||e.getSession();n&&Qu(n),Ll(),e.setSession(),t.setSession()}function Ll(){let e=qe(),t=ce(),n=Y(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function Hs(e=!1){if(e){ua();return}Ll()}var ah="7";function oh(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function ch(e){return`${oh(e)}${e.projectId}/envelope/`}function uh(e,t){let n={sentry_version:ah};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Pl(e,t,n){return t||`${ch(e)}?${uh(e,n)}`}var Fl=[];function lh(e){let t={};return e.forEach(n=>{let{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function nc(e){let t=e.defaultIntegrations||[],n=e.integrations;t.forEach(a=>{a.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){let a=n(t);r=Array.isArray(a)?a:[a]}else r=t;let s=lh(r),i=s.findIndex(a=>a.name==="Debug");if(i>-1){let[a]=s.splice(i,1);s.push(a)}return s}function Ul(e,t){let n={};return t.forEach(r=>{r&&sc(e,r,n)}),n}function rc(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function sc(e,t,n){if(n[t.name]){z&&A.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Fl.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Fl.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){let r=t.processEvent.bind(t),s=Object.assign((i,a)=>r(i,a,e),{id:t.name});e.addEventProcessor(s)}z&&A.log(`Integration installed: ${t.name}`)}function Bl(e,t,n){let r=[{type:"client_report"},{timestamp:n||rn(),discarded_events:e}];return Ct(t?{dsn:t}:{},[r])}var nt=class extends Error{constructor(t,n="warn"){super(t),this.message=t,this.logLevel=n}};var Hl="Not capturing exception because it's already been captured.",$s=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Vo(t.dsn):z&&A.warn("No DSN provided, client will not send events."),this._dsn){let s=Pl(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:s})}let r=["enableTracing","tracesSampleRate","tracesSampler"].find(s=>s in t&&t[s]==null);r&&Ze(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,n,r){let s=Be();if(Hi(t))return z&&A.log(Hl),s;let i={event_id:s,...n};return this._process(this.eventFromException(t,i).then(a=>this._captureEvent(a,i,r))),i.event_id}captureMessage(t,n,r,s){let i={event_id:Be(),...r},a=Br(t)?t:String(t),o=sr(t)?this.eventFromMessage(a,n,i):this.eventFromException(t,i);return this._process(o.then(c=>this._captureEvent(c,i,s))),i.event_id}captureEvent(t,n,r){let s=Be();if(n&&n.originalException&&Hi(n.originalException))return z&&A.log(Hl),s;let i={event_id:s,...n},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||r)),i.event_id}captureSession(t){typeof t.release!="string"?z&&A.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),vn(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):at(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let n=this._integrations[t.name];sc(this,t,this._integrations),n||rc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Tl(t,this._dsn,this._options._metadata,this._options.tunnel);for(let i of n.attachments||[])r=Xo(r,Qo(i));let s=this.sendEnvelope(r);s&&s.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){let n=El(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){let s=typeof r=="number"?r:1,i=`${t}:${n}`;z&&A.log(`Recording outcome: "${i}"${s>1?` (${s} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+s}}on(t,n){let r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{let s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){let r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(z&&A.error("Error while sending envelope:",n),n)):(z&&A.error("Transport disabled"),at({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=Ul(this,t),rc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1,i=n.exception&&n.exception.values;if(i){s=!0;for(let c of i){let m=c.mechanism;if(m&&m.handled===!1){r=!0;break}}}let a=t.status==="ok";(a&&t.errors===0||a&&r)&&(vn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Gt(n=>{let r=0,s=1,i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),n(!0)):(r+=s,t&&r>=t&&(clearInterval(i),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r=ce(),s=qe()){let i=this.getOptions(),a=Object.keys(this._integrations);return!n.integrations&&a.length>0&&(n.integrations=a),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Fs(i,t,n,r,this,s).then(o=>{if(o===null)return o;o.contexts={trace:Lo(r),...o.contexts};let c=Ds(this,r);return o.sdkProcessingMetadata={dynamicSamplingContext:c,...o.sdkProcessingMetadata},o})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(s=>s.event_id,s=>{z&&(s instanceof nt&&s.logLevel==="log"?A.log(s.message):A.warn(s))})}_processEvent(t,n,r){let s=this.getOptions(),{sampleRate:i}=s,a=ql(t),o=$l(t),c=t.type||"error",m=`before send for type \`${c}\``,f=typeof i>"u"?void 0:$n(i);if(o&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error",t),Pn(new nt(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let v=c==="replay_event"?"replay":c,I=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,I).then(w=>{if(w===null)throw this.recordDroppedEvent("event_processor",v,t),new nt("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return w;let $=ph(this,s,w,n);return dh($,m)}).then(w=>{if(w===null){if(this.recordDroppedEvent("before_send",v,t),a){let K=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",K)}throw new nt(`${m} returned \`null\`, will not send event.`,"log")}let R=r&&r.getSession();if(!a&&R&&this._updateSessionFromEvent(R,w),a){let k=w.sdkProcessingMetadata&&w.sdkProcessingMetadata.spanCountBeforeProcessing||0,K=w.spans?w.spans.length:0,oe=k-K;oe>0&&this.recordDroppedEvent("before_send","span",oe)}let $=w.transaction_info;if(a&&$&&w.transaction!==t.transaction){let k="custom";w.transaction_info={...$,source:k}}return this.sendEvent(w,n),w}).then(null,w=>{throw w instanceof nt?w:(this.captureException(w,{data:{__sentry__:!0},originalException:w}),new nt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${w}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{let[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){z&&A.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){z&&A.log("No outcomes to send");return}if(!this._dsn){z&&A.log("No dsn provided, will not send outcomes");return}z&&A.log("Sending outcomes:",t);let n=Bl(t,this._options.tunnel&&on(this._dsn));this.sendEnvelope(n)}};function dh(e,t){let n=`${t} must return \`null\` or a valid event.`;if(yn(e))return e.then(r=>{if(!Wt(r)&&r!==null)throw new nt(n);return r},r=>{throw new nt(`${t} rejected with ${r}`)});if(!Wt(e)&&e!==null)throw new nt(n);return e}function ph(e,t,n,r){let{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:a}=t;if($l(n)&&s)return s(n,r);if(ql(n)){if(n.spans&&a){let o=[];for(let c of n.spans){let m=a(c);m?o.push(m):(Ki(),e.recordDroppedEvent("before_send","span"))}n.spans=o}if(i){if(n.spans){let o=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:o}}return i(n,r)}}return n}function $l(e){return e.type===void 0}function ql(e){return e.type==="transaction"}function ic(e,t){t.debug===!0&&(z?A.enable():Ze(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ce().update(t.initialScope);let r=new e(t);return ac(r),r.init(),r}function ac(e){ce().setClient(e)}function jl(e){let t=[];function n(){return e===void 0||t.length<e}function r(a){return t.splice(t.indexOf(a),1)[0]||Promise.resolve(void 0)}function s(a){if(!n())return Pn(new nt("Not adding Promise because buffer limit was reached."));let o=a();return t.indexOf(o)===-1&&t.push(o),o.then(()=>r(o)).then(null,()=>r(o).then(null,()=>{})),o}function i(a){return new Gt((o,c)=>{let m=t.length;if(!m)return o(!0);let f=setTimeout(()=>{a&&a>0&&o(!1)},a);t.forEach(v=>{at(v).then(()=>{--m||(clearTimeout(f),o(!0))},c)})})}return{$:t,add:s,drain:i}}function Wl(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function zl(e,t){return e[t]||e.all||0}function qs(e,t,n=Date.now()){return zl(e,t)>n}function js(e,{statusCode:t,headers:n},r=Date.now()){let s={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(let o of i.trim().split(",")){let[c,m,,,f]=o.split(":",5),v=parseInt(c,10),E=(isNaN(v)?60:v)*1e3;if(!m)s.all=r+E;else for(let I of m.split(";"))I==="metric_bucket"?(!f||f.split(";").includes("custom"))&&(s[I]=r+E):s[I]=r+E}else a?s.all=r+Wl(a,r):t===429&&(s.all=r+60*1e3);return s}var fh=64;function la(e,t,n=jl(e.bufferSize||fh)){let r={},s=a=>n.drain(a);function i(a){let o=[];if(Zi(a,(v,E)=>{let I=Qi(E);if(qs(r,I)){let w=Gl(v,E);e.recordDroppedEvent("ratelimit_backoff",I,w)}else o.push(v)}),o.length===0)return at({});let c=Ct(a[0],o),m=v=>{Zi(c,(E,I)=>{let w=Gl(E,I);e.recordDroppedEvent(v,Qi(I),w)})},f=()=>t({body:Jo(c)}).then(v=>(v.statusCode!==void 0&&(v.statusCode<200||v.statusCode>=300)&&z&&A.warn(`Sentry responded with status code ${v.statusCode} to sent event.`),r=js(r,v),v),v=>{throw m("network_error"),v});return n.add(f).then(v=>v,v=>{if(v instanceof nt)return z&&A.error("Skipped sending event because buffer is full."),m("queue_overflow"),at({});throw v})}return{send:i,flush:s}}function Gl(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function oc(e,t){let n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return hh(e,n)||mh(e,r)}function mh(e,t){return t?Vl(e)===Vl(t):!1}function hh(e,t){return t?e.includes(t.host):!1}function Vl(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function cc(e,t,n=[t],r="npm"){let s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:jt})),version:jt}),e._metadata=s}function Ws(e={}){let t=Y();if(!tc()||!t)return{};let n=kt(),r=an(n);if(r.getTraceData)return r.getTraceData(e);let s=ce(),i=e.span||ve(),a=i?Gi(i):gh(s),o=i?ut(i):Ds(t,s),c=Uo(o);return Wi.test(a)?{"sentry-trace":a,baggage:c}:(A.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function gh(e){let{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return Ms(t,r,n)}var _h=100;function yt(e,t){let n=Y(),r=qe();if(!n)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:i=_h}=n.getOptions();if(i<=0)return;let o={timestamp:rn(),...e},c=s?Ze(()=>s(o,t)):o;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}var Yl,yh="FunctionToString",Kl=new WeakMap,Sh=(()=>({name:yh,setupOnce(){Yl=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=ar(this),n=Kl.has(Y())&&t!==void 0?t:this;return Yl.apply(n,e)}}catch{}},setup(e){Kl.set(e,!0)}})),da=Sh;var vh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],Eh="InboundFilters",Th=((e={})=>({name:Eh,processEvent(t,n,r){let s=r.getOptions(),i=bh(e,s);return Ih(t,i)?null:t}})),fa=Th;function bh(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:vh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function Ih(e,t){return t.ignoreInternal&&Ch(e)?(z&&A.warn(`Event dropped due to being internal Sentry Error.
Event: ${zt(e)}`),!0):wh(e,t.ignoreErrors)?(z&&A.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${zt(e)}`),!0):Oh(e)?(z&&A.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${zt(e)}`),!0):kh(e,t.ignoreTransactions)?(z&&A.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${zt(e)}`),!0):Ah(e,t.denyUrls)?(z&&A.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${zt(e)}.
Url: ${pa(e)}`),!0):Rh(e,t.allowUrls)?!1:(z&&A.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${zt(e)}.
Url: ${pa(e)}`),!0)}function wh(e,t){return e.type||!t||!t.length?!1:xh(e).some(n=>Dt(n,t))}function kh(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let n=e.transaction;return n?Dt(n,t):!1}function Ah(e,t){if(!t||!t.length)return!1;let n=pa(e);return n?Dt(n,t):!1}function Rh(e,t){if(!t||!t.length)return!0;let n=pa(e);return n?Dt(n,t):!0}function xh(e){let t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),t}function Ch(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function Nh(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function pa(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?Nh(t):null}catch{return z&&A.error(`Cannot extract url for event ${zt(e)}`),null}}function Oh(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function lc(e,t,n=250,r,s,i,a){if(!i.exception||!i.exception.values||!a||!At(a.originalException,Error))return;let o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=Mh(uc(e,t,s,a.originalException,r,i.exception.values,o,0),n))}function uc(e,t,n,r,s,i,a,o){if(i.length>=n+1)return i;let c=[...i];if(At(r[s],Error)){Xl(a,o);let m=e(t,r[s]),f=c.length;Jl(m,s,f,o),c=uc(e,t,n,r[s],s,[m,...c],m,f)}return Array.isArray(r.errors)&&r.errors.forEach((m,f)=>{if(At(m,Error)){Xl(a,o);let v=e(t,m),E=c.length;Jl(v,`errors[${f}]`,E,o),c=uc(e,t,n,m,s,[v,...c],v,E)}}),c}function Xl(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Jl(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Mh(e,t){return e.map(n=>(n.value&&(n.value=nn(n.value,t)),n))}function Pt(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function dc(e){let t="console";Qe(t,e),et(t,Dh)}function Dh(){"console"in V&&bs.forEach(function(e){e in V.console&&Fe(V.console,e,function(t){return Fr[e]=t,function(...n){$e("console",{args:n,level:e});let s=Fr[e];s&&s.apply(V.console,n)}})})}function zs(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var Lh="Dedupe",Ph=(()=>{let e;return{name:Lh,processEvent(t){if(t.type)return t;try{if(Fh(t,e))return z&&A.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),ma=Ph;function Fh(e,t){return t?!!(Uh(e,t)||Bh(e,t)):!1}function Uh(e,t){let n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ed(e,t)||!Ql(e,t))}function Bh(e,t){let n=Zl(t),r=Zl(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ed(e,t)||!Ql(e,t))}function Ql(e,t){let n=Mi(e),r=Mi(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){let i=r[s],a=n[s];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0}function ed(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Zl(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pc(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;let i=ct()&&t(e.fetchData.url);if(e.endTimestamp&&i){let E=e.fetchData.__span;if(!E)return;let I=r[E];I&&(qh(I,e),delete r[E]);return}let{method:a,url:o}=e.fetchData,c=$h(o),m=c?Pt(c).host:void 0,f=!!ve(),v=i&&f?Yt({name:`${a} ${o}`,attributes:{url:o,type:"fetch","http.method":a,"http.url":c,"server.address":m,[we]:s,[ot]:"http.client"}}):new xt;if(e.fetchData.__span=v.spanContext().spanId,r[v.spanContext().spanId]=v,n(e.fetchData.url)){let E=e.args[0],I=e.args[1]||{},w=Hh(E,I,ct()&&f?v:void 0);w&&(e.args[1]=I,I.headers=w)}return v}function Hh(e,t,n){let r=Ws({span:n}),s=r["sentry-trace"],i=r.baggage;if(!s)return;let a=t.headers||(jh(e)?e.headers:void 0);if(a)if(Wh(a)){let o=new Headers(a);if(o.set("sentry-trace",s),i){let c=o.get("baggage");if(c){let m=ha(c);o.set("baggage",m?`${m},${i}`:i)}else o.set("baggage",i)}return o}else if(Array.isArray(a)){let o=[...a.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){let[m,f,...v]=c;return[m,ha(f),...v]}else return c}),["sentry-trace",s]];return i&&o.push(["baggage",i]),o}else{let o="baggage"in a?a.baggage:void 0,c=[];return Array.isArray(o)?c=o.map(m=>typeof m=="string"?ha(m):m).filter(m=>m===""):o&&c.push(ha(o)),i&&c.push(i),{...a,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{...r}}function $h(e){try{return new URL(e).href}catch{return}}function qh(e,t){if(t.response){Gr(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function ha(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(qi)).join(",")}function jh(e){return typeof Request<"u"&&At(e,Request)}function Wh(e){return typeof Headers<"u"&&At(e,Headers)}function ga(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var fc=V;function _a(){if(!("fetch"in fc))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Gs(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mc(){if(typeof EdgeRuntime=="string")return!0;if(!_a())return!1;if(Gs(fc.fetch))return!0;let e=!1,t=fc.document;if(t&&typeof t.createElement=="function")try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Gs(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){mt&&A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function Vs(e,t){let n="fetch";Qe(n,e),et(n,()=>nd(void 0,t))}function gc(e){let t="fetch-body-resolved";Qe(t,e),et(t,()=>nd(Gh))}function nd(e,t=!1){t&&!mc()||Fe(V,"fetch",function(n){return function(...r){let s=new Error,{method:i,url:a}=Vh(r),o={args:r,fetchData:{method:i,url:a},startTimestamp:Me()*1e3,virtualError:s};return e||$e("fetch",{...o}),n.apply(V,r).then(async c=>(e?e(c):$e("fetch",{...o,endTimestamp:Me()*1e3,response:c}),c),c=>{throw $e("fetch",{...o,endTimestamp:Me()*1e3,error:c}),rr(c)&&c.stack===void 0&&(c.stack=s.stack,Ue(c,"framesToPop",1)),c})}})}async function zh(e,t){if(e&&e.body){let n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3),i=!0;for(;i;){let a;try{a=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:o}=await r.read();clearTimeout(a),o&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(a)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function Gh(e){let t;try{t=e.clone()}catch{return}zh(t,()=>{$e("fetch-body-resolved",{endTimestamp:Me()*1e3,response:e})})}function hc(e,t){return!!e&&typeof e=="object"&&!!e[t]}function td(e){return typeof e=="string"?e:e?hc(e,"url")?e.url:e.toString?e.toString():"":""}function Vh(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[n,r]=e;return{url:td(n),method:hc(r,"method")?String(r.method).toUpperCase():"GET"}}let t=e[0];return{url:td(t),method:hc(t,"method")?String(t.method).toUpperCase():"GET"}}function _c(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function yc(){return"npm"}function rd(){return!_c()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ya(){return typeof window<"u"&&(!rd()||Yh())}function Yh(){let e=V.process;return!!e&&e.type==="renderer"}var Sa=V;function Sc(){let e=Sa.chrome,t=e&&e.app&&e.app.runtime,n="history"in Sa&&!!Sa.history.pushState&&!!Sa.history.replaceState;return!t&&n}function vc(e,t){return e??t()}function Jr(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}var J=V,Ec=0;function Tc(){return Ec>0}function lg(){Ec++,setTimeout(()=>{Ec--})}function dr(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{let s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(ar(e))return e}catch{return e}let r=function(...s){try{let i=s.map(a=>dr(a,t));return e.apply(this,i)}catch(i){throw lg(),En(a=>{a.addEventProcessor(o=>(t.mechanism&&($r(o,void 0,void 0),sn(o,t.mechanism)),o.extra={...o.extra,arguments:s},o)),Tn(i)}),i}};try{for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Ui(r,e),Ue(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}var Ke=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function va(e,t){let n=wc(e,t),r={type:hg(t),value:gg(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function dg(e,t,n,r){let s=Y(),i=s&&s.getOptions().normalizeDepth,a=Sg(t),o={__serialized__:Ji(t,i)};if(a)return{exception:{values:[va(e,a)]},extra:o};let c={exception:{values:[{type:ir(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:_g(t,{isUnhandledRejection:r})}]},extra:o};if(n){let m=wc(e,n);m.length&&(c.exception.values[0].stacktrace={frames:m})}return c}function bc(e,t){return{exception:{values:[va(e,t)]}}}function wc(e,t){let n=t.stacktrace||t.stack||"",r=fg(t),s=mg(t);try{return e(n,r,s)}catch{}return[]}var pg=/Minified React error #\d+;/i;function fg(e){return e&&pg.test(e.message)?1:0}function mg(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function od(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function hg(e){let t=e&&e.name;return!t&&od(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function gg(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:od(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function cd(e,t,n,r){let s=n&&n.syntheticException||void 0,i=Ea(e,t,s,r);return sn(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),at(i)}function ud(e,t,n="info",r,s){let i=r&&r.syntheticException||void 0,a=Ic(e,t,i,s);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),at(a)}function Ea(e,t,n,r,s){let i;if(Li(t)&&t.error)return bc(e,t.error);if(Pi(t)||wo(t)){let a=t;if("stack"in t)i=bc(e,t);else{let o=a.name||(Pi(a)?"DOMError":"DOMException"),c=a.message?`${o}: ${a.message}`:o;i=Ic(e,c,n,r),$r(i,c)}return"code"in a&&(i.tags={...i.tags,"DOMException.code":`${a.code}`}),i}return rr(t)?bc(e,t):Wt(t)||ir(t)?(i=dg(e,t,n,s),sn(i,{synthetic:!0}),i):(i=Ic(e,t,n,r),$r(i,`${t}`,void 0),sn(i,{synthetic:!0}),i)}function Ic(e,t,n,r){let s={};if(r&&n){let i=wc(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),sn(s,{synthetic:!0})}if(Br(t)){let{__sentry_template_string__:i,__sentry_template_values__:a}=t;return s.logentry={message:i,params:a},s}return s.message=t,s}function _g(e,{isUnhandledRejection:t}){let n=No(e),r=t?"promise rejection":"exception";return Li(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ir(e)?`Event \`${yg(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function yg(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Sg(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}function ld(e,{metadata:t,tunnel:n,dsn:r}){let s={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:on(r)}},i=vg(e);return Ct(s,[i])}function vg(e){return[{type:"user_report"},e]}var Ta=class extends $s{constructor(t){let n={parentSpanIsAlwaysRootSpan:!0,...t},r=J.SENTRY_SDK_SOURCE||yc();cc(n,"browser",["browser"],r),super(n),n.sendClientReports&&J.document&&J.document.addEventListener("visibilitychange",()=>{J.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return cd(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return ud(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Ke&&A.warn("SDK not enabled, will not capture user feedback.");return}let n=ld(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}};var Zr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Eg=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Ft=(e,t,n,r)=>{let s,i;return a=>{t.value>=0&&(a||r)&&(i=t.value-(s||0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=Eg(t.value,n),e(t)))}};var q=V;var dd=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var bn=(e=!0)=>{let t=q.performance&&q.performance.getEntriesByType&&q.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var cn=()=>{let e=bn();return e&&e.activationStart||0};var Ut=(e,t)=>{let n=bn(),r="navigate";return n&&(q.document&&q.document.prerendering||cn()>0?r="prerender":q.document&&q.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:dd(),navigationType:r}};var St=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}};var Bt=e=>{let t=n=>{(n.type==="pagehide"||q.document&&q.document.visibilityState==="hidden")&&e(n)};q.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var jn=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var Ks=-1,Tg=()=>q.document.visibilityState==="hidden"&&!q.document.prerendering?0:1/0,ba=e=>{q.document.visibilityState==="hidden"&&Ks>-1&&(Ks=e.type==="visibilitychange"?e.timeStamp:0,Ig())},bg=()=>{addEventListener("visibilitychange",ba,!0),addEventListener("prerenderingchange",ba,!0)},Ig=()=>{removeEventListener("visibilitychange",ba,!0),removeEventListener("prerenderingchange",ba,!0)},Wn=()=>(q.document&&Ks<0&&(Ks=Tg(),bg()),{get firstHiddenTime(){return Ks}});var un=e=>{q.document&&q.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var wg=[1800,3e3],pd=(e,t={})=>{un(()=>{let n=Wn(),r=Ut("FCP"),s,a=St("paint",o=>{o.forEach(c=>{c.name==="first-contentful-paint"&&(a.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-cn(),0),r.entries.push(c),s(!0)))})});a&&(s=Ft(e,r,wg,t.reportAllChanges))})};var kg=[.1,.25],fd=(e,t={})=>{pd(jn(()=>{let n=Ut("CLS",0),r,s=0,i=[],a=c=>{c.forEach(m=>{if(!m.hadRecentInput){let f=i[0],v=i[i.length-1];s&&f&&v&&m.startTime-v.startTime<1e3&&m.startTime-f.startTime<5e3?(s+=m.value,i.push(m)):(s=m.value,i=[m])}}),s>n.value&&(n.value=s,n.entries=i,r())},o=St("layout-shift",a);o&&(r=Ft(e,n,kg,t.reportAllChanges),Bt(()=>{a(o.takeRecords()),r(!0)}),setTimeout(r,0))}))};var Ag=[100,300],md=(e,t={})=>{un(()=>{let n=Wn(),r=Ut("FID"),s,i=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},a=c=>{c.forEach(i)},o=St("first-input",a);s=Ft(e,r,Ag,t.reportAllChanges),o&&Bt(jn(()=>{a(o.takeRecords()),o.disconnect()}))})};var hd=0,kc=1/0,Ia=0,Rg=e=>{e.forEach(t=>{t.interactionId&&(kc=Math.min(kc,t.interactionId),Ia=Math.max(Ia,t.interactionId),hd=Ia?(Ia-kc)/7+1:0)})},Ac,gd=()=>Ac?hd:performance.interactionCount||0,_d=()=>{"interactionCount"in performance||Ac||(Ac=St("event",Rg,{type:"event",buffered:!0,durationThreshold:0}))};var In=[],Rc=new Map,yd=40,xg=0,Cg=()=>gd()-xg,Sd=()=>{let e=Math.min(In.length-1,Math.floor(Cg()/50));return In[e]},xc=10,Ng=[],vd=e=>{if(Ng.forEach(r=>r(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=In[In.length-1],n=Rc.get(e.interactionId);if(n||In.length<xc||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{let r={id:e.interactionId,latency:e.duration,entries:[e]};Rc.set(r.id,r),In.push(r)}In.sort((r,s)=>s.latency-r.latency),In.length>xc&&In.splice(xc).forEach(r=>Rc.delete(r.id))}};var wa=e=>{let t=q.requestIdleCallback||q.setTimeout,n=-1;return e=jn(e),q.document&&q.document.visibilityState==="hidden"?e():(n=t(e),Bt(e)),n};var Og=[200,500],Ed=(e,t={})=>{"PerformanceEventTiming"in q&&"interactionId"in PerformanceEventTiming.prototype&&un(()=>{_d();let n=Ut("INP"),r,s=a=>{wa(()=>{a.forEach(vd);let o=Sd();o&&o.latency!==n.value&&(n.value=o.latency,n.entries=o.entries,r())})},i=St("event",s,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:yd});r=Ft(e,n,Og,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Bt(()=>{s(i.takeRecords()),r(!0)}))})};var Mg=[2500,4e3],Td={},bd=(e,t={})=>{un(()=>{let n=Wn(),r=Ut("LCP"),s,i=o=>{t.reportAllChanges||(o=o.slice(-1)),o.forEach(c=>{c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-cn(),0),r.entries=[c],s())})},a=St("largest-contentful-paint",i);if(a){s=Ft(e,r,Mg,t.reportAllChanges);let o=jn(()=>{Td[r.id]||(i(a.takeRecords()),a.disconnect(),Td[r.id]=!0,s(!0))});["keydown","click"].forEach(c=>{q.document&&addEventListener(c,()=>wa(o),{once:!0,capture:!0})}),Bt(o)}})};var Dg=[800,1800],Cc=e=>{q.document&&q.document.prerendering?un(()=>Cc(e)):q.document&&q.document.readyState!=="complete"?addEventListener("load",()=>Cc(e),!0):setTimeout(e,0)},Id=(e,t={})=>{let n=Ut("TTFB"),r=Ft(e,n,Dg,t.reportAllChanges);Cc(()=>{let s=bn();s&&(n.value=Math.max(s.responseStart-cn(),0),n.entries=[s],r(!0))})};var Xs={},ka={},wd,kd,Ad,Rd,xd;function pr(e,t=!1){return ei("cls",e,Lg,wd,t)}function Js(e,t=!1){return ei("lcp",e,Fg,Ad,t)}function Zs(e){return ei("fid",e,Pg,kd)}function Nc(e){return ei("ttfb",e,Ug,Rd)}function Qs(e){return ei("inp",e,Bg,xd)}function Kt(e,t){return Cd(e,t),ka[e]||(Hg(e),ka[e]=!0),Nd(e,t)}function Qr(e,t){let n=Xs[e];if(!(!n||!n.length))for(let r of n)try{r(t)}catch(s){Zr&&A.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ht(r)}
Error:`,s)}}function Lg(){return fd(e=>{Qr("cls",{metric:e}),wd=e},{reportAllChanges:!0})}function Pg(){return md(e=>{Qr("fid",{metric:e}),kd=e})}function Fg(){return bd(e=>{Qr("lcp",{metric:e}),Ad=e},{reportAllChanges:!0})}function Ug(){return Id(e=>{Qr("ttfb",{metric:e}),Rd=e})}function Bg(){return Ed(e=>{Qr("inp",{metric:e}),xd=e})}function ei(e,t,n,r,s=!1){Cd(e,t);let i;return ka[e]||(i=n(),ka[e]=!0),r&&t({metric:r}),Nd(e,t,s?i:void 0)}function Hg(e){let t={};e==="event"&&(t.durationThreshold=0),St(e,n=>{Qr(e,{entries:n})},t)}function Cd(e,t){Xs[e]=Xs[e]||[],Xs[e].push(t)}function Nd(e,t,n){return()=>{n&&n();let r=Xs[e];if(!r)return;let s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Od(e){return"duration"in e}function Aa(e){return typeof e=="number"&&isFinite(e)}function ln(e,t,n,{...r}){let s=ee(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ps(e,()=>{let i=Yt({startTime:t,...r});return i&&i.end(n),i})}function Ra(e){let t=Y();if(!t)return;let{name:n,transaction:r,attributes:s,startTime:i}=e,{release:a,environment:o}=t.getOptions(),c=t.getIntegrationByName("Replay"),m=c&&c.getReplayId(),f=ce(),v=f.getUser(),E=v!==void 0?v.email||v.id||v.ip_address:void 0,I;try{I=f.getScopeData().contexts.profile.profile_id}catch{}let w={release:a,environment:o,user:E||void 0,profile_id:I||void 0,replay_id:m||void 0,transaction:r,"user_agent.original":q.navigator&&q.navigator.userAgent,...s};return Yt({name:n,attributes:w,startTime:i,experimental:{standalone:!0}})}function ti(){return q&&q.addEventListener&&q.performance}function Ce(e){return e/1e3}function ni(e){let t="unknown",n="unknown",r="";for(let s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Md(){let e=0,t,n;if(!qg())return;let r=!1;function s(){r||(r=!0,n&&$g(e,t,n),i())}let i=pr(({metric:a})=>{let o=a.entries[a.entries.length-1];o&&(e=a.value,t=o)},!0);Bt(()=>{s()}),setTimeout(()=>{let a=Y();if(!a)return;let o=a.on("startNavigationSpan",()=>{s(),o&&o()}),c=ve(),m=c&&Te(c),f=m&&ee(m);f&&f.op==="pageload"&&(n=m.spanContext().spanId)},0)}function $g(e,t,n){Zr&&A.log(`Sending CLS span (${e})`);let r=Ce((De||0)+(t&&t.startTime||0)),s=ce().getScopeData().transactionName,i=t?tt(t.sources[0]&&t.sources[0].node):"Layout shift",a=Ee({[we]:"auto.http.browser.cls",[ot]:"ui.webvital.cls",[cr]:t&&t.duration||0,"sentry.pageload.span_id":n}),o=Ra({name:i,transaction:s,attributes:a,startTime:r});o&&(o.addEvent("cls",{[Un]:"",[Bn]:e}),o.end(r))}function qg(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var jg=2147483647,Dd=0,Xe={},vt,ri;function Mc({recordClsStandaloneSpans:e}){let t=ti();if(t&&De){t.mark&&q.performance.mark("sentry-tracing-init");let n=Gg(),r=zg(),s=Vg(),i=e?Md():Wg();return()=>{n(),r(),s(),i&&i()}}return()=>{}}function Dc(){Kt("longtask",({entries:e})=>{let t=ve();if(!t)return;let{op:n,start_timestamp:r}=ee(t);for(let s of e){let i=Ce(De+s.startTime),a=Ce(s.duration);n==="navigation"&&r&&i<r||ln(t,i,i+a,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[we]:"auto.ui.browser.metrics"}})}})}function Lc(){new PerformanceObserver(t=>{let n=ve();if(n)for(let r of t.getEntries()){if(!r.scripts[0])continue;let s=Ce(De+r.startTime),{start_timestamp:i,op:a}=ee(n);if(a==="navigation"&&i&&s<i)continue;let o=Ce(r.duration),c={[we]:"auto.ui.browser.metrics"},m=r.scripts[0],{invoker:f,invokerType:v,sourceURL:E,sourceFunctionName:I,sourceCharPosition:w}=m;c["browser.script.invoker"]=f,c["browser.script.invoker_type"]=v,E&&(c["code.filepath"]=E),I&&(c["code.function"]=I),w!==-1&&(c["browser.script.source_char_position"]=w),ln(n,s,s+o,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Pc(){Kt("event",({entries:e})=>{let t=ve();if(t){for(let n of e)if(n.name==="click"){let r=Ce(De+n.startTime),s=Ce(n.duration),i={name:tt(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[we]:"auto.ui.browser.metrics"}},a=xs(n.target);a&&(i.attributes["ui.component_name"]=a),ln(t,r,r+s,i)}}})}function Wg(){return pr(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Xe.cls={value:e.value,unit:""},ri=t)},!0)}function zg(){return Js(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Xe.lcp={value:e.value,unit:"millisecond"},vt=t)},!0)}function Gg(){return Zs(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=Ce(De),r=Ce(t.startTime);Xe.fid={value:e.value,unit:"millisecond"},Xe["mark.fid"]={value:n+r,unit:"second"}})}function Vg(){return Nc(({metric:e})=>{e.entries[e.entries.length-1]&&(Xe.ttfb={value:e.value,unit:"millisecond"})})}function Fc(e,t){let n=ti();if(!n||!n.getEntries||!De)return;let r=Ce(De),s=n.getEntries(),{op:i,start_timestamp:a}=ee(e);if(s.slice(Dd).forEach(o=>{let c=Ce(o.startTime),m=Ce(Math.max(0,o.duration));if(!(i==="navigation"&&a&&r+c<a))switch(o.entryType){case"navigation":{Kg(e,o,r);break}case"mark":case"paint":case"measure":{Yg(e,o,c,m,r);let f=Wn(),v=o.startTime<f.firstHiddenTime;o.name==="first-paint"&&v&&(Xe.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&v&&(Xe.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{Zg(e,o,o.name,c,m,r);break}}}),Dd=Math.max(s.length-1,0),Qg(e),i==="pageload"){t_(Xe);let o=Xe["mark.fid"];o&&Xe.fid&&(ln(e,o.value,o.value+Ce(Xe.fid.value),{name:"first input delay",op:"ui.action",attributes:{[we]:"auto.ui.browser.metrics"}}),delete Xe["mark.fid"]),(!("fcp"in Xe)||!t.recordClsOnPageloadSpan)&&delete Xe.cls,Object.entries(Xe).forEach(([c,m])=>{ea(c,m.value,m.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",cn()),e_(e)}vt=void 0,ri=void 0,Xe={}}function Yg(e,t,n,r,s){let i=bn(!1),a=Ce(i?i.requestStart:0),o=s+Math.max(n,a),c=s+n,m=c+r,f={[we]:"auto.resource.browser.metrics"};return o!==c&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=o),ln(e,o,m,{name:t.name,op:t.entryType,attributes:f}),o}function Kg(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{xa(e,t,r,n)}),xa(e,t,"secureConnection",n,"TLS/SSL"),xa(e,t,"fetch",n,"cache"),xa(e,t,"domainLookup",n,"DNS"),Jg(e,t,n)}function xa(e,t,n,r,s=n){let i=Xg(n),a=t[i],o=t[`${n}Start`];!o||!a||ln(e,r+Ce(o),r+Ce(a),{op:`browser.${s}`,name:t.name,attributes:{[we]:"auto.ui.browser.metrics"}})}function Xg(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Jg(e,t,n){let r=n+Ce(t.requestStart),s=n+Ce(t.responseEnd),i=n+Ce(t.responseStart);t.responseEnd&&(ln(e,r,s,{op:"browser.request",name:t.name,attributes:{[we]:"auto.ui.browser.metrics"}}),ln(e,i,s,{op:"browser.response",name:t.name,attributes:{[we]:"auto.ui.browser.metrics"}}))}function Zg(e,t,n,r,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let a=Pt(n),o={[we]:"auto.resource.browser.metrics"};Oc(o,t,"transferSize","http.response_transfer_size"),Oc(o,t,"encodedBodySize","http.response_content_length"),Oc(o,t,"decodedBodySize","http.decoded_response_content_length");let c=t.deliveryType;c!=null&&(o["http.response_delivery_type"]=c);let m=t.renderBlockingStatus;m&&(o["resource.render_blocking_status"]=m),a.protocol&&(o["url.scheme"]=a.protocol.split(":").pop()),a.host&&(o["server.address"]=a.host),o["url.same_origin"]=n.includes(q.location.origin);let{name:f,version:v}=ni(t.nextHopProtocol);o["network.protocol.name"]=f,o["network.protocol.version"]=v;let E=i+r,I=E+s;ln(e,E,I,{name:n.replace(q.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:o})}function Qg(e){let t=q.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Aa(n.rtt)&&(Xe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Aa(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Aa(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function e_(e){vt&&(vt.element&&e.setAttribute("lcp.element",tt(vt.element)),vt.id&&e.setAttribute("lcp.id",vt.id),vt.url&&e.setAttribute("lcp.url",vt.url.trim().slice(0,200)),vt.loadTime!=null&&e.setAttribute("lcp.loadTime",vt.loadTime),vt.renderTime!=null&&e.setAttribute("lcp.renderTime",vt.renderTime),e.setAttribute("lcp.size",vt.size)),ri&&ri.sources&&ri.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,tt(t.node)))}function Oc(e,t,n,r){let s=t[n];s!=null&&s<jg&&(e[r]=s)}function t_(e){let t=bn(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}var n_=1e3,Ld,Uc,Bc;function si(e){Qe("dom",e),et("dom",r_)}function r_(){if(!q.document)return;let e=$e.bind(null,"dom"),t=Pd(e,!0);q.document.addEventListener("click",t,!1),q.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{let s=q[n],i=s&&s.prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(Fe(i,"addEventListener",function(a){return function(o,c,m){if(o==="click"||o=="keypress")try{let f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},v=f[o]=f[o]||{refCount:0};if(!v.handler){let E=Pd(e);v.handler=E,a.call(this,o,E,m)}v.refCount++}catch{}return a.call(this,o,c,m)}}),Fe(i,"removeEventListener",function(a){return function(o,c,m){if(o==="click"||o=="keypress")try{let f=this.__sentry_instrumentation_handlers__||{},v=f[o];v&&(v.refCount--,v.refCount<=0&&(a.call(this,o,v.handler,m),v.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,o,c,m)}}))})}function s_(e){if(e.type!==Uc)return!1;try{if(!e.target||e.target._sentryId!==Bc)return!1}catch{}return!0}function i_(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Pd(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=a_(n);if(i_(n.type,r))return;Ue(n,"_sentryCaptured",!0),r&&!r._sentryId&&Ue(r,"_sentryId",Be());let s=n.type==="keypress"?"input":n.type;s_(n)||(e({event:n,name:s,global:t}),Uc=n.type,Bc=r?r._sentryId:void 0),clearTimeout(Ld),Ld=q.setTimeout(()=>{Bc=void 0,Uc=void 0},n_)}}function a_(e){try{return e.target}catch{return null}}var Ca;function wn(e){let t="history";Qe(t,e),et(t,o_)}function o_(){if(!Sc())return;let e=q.onpopstate;q.onpopstate=function(...n){let r=q.location.href,s=Ca;if(Ca=r,$e("history",{from:s,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){let s=r.length>2?r[2]:void 0;if(s){let i=Ca,a=String(s);Ca=a,$e("history",{from:i,to:a})}return n.apply(this,r)}}Fe(q.history,"pushState",t),Fe(q.history,"replaceState",t)}var Na={};function Oa(e){let t=Na[e];if(t)return t;let n=q[e];if(Gs(n))return Na[e]=n.bind(q);let r=q.document;if(r&&typeof r.createElement=="function")try{let s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);let i=s.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){Zr&&A.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Na[e]=n.bind(q))}function Ma(e){Na[e]=void 0}function zn(...e){return Oa("setTimeout")(...e)}var Xt="__sentry_xhr_v3__";function ii(e){Qe("xhr",e),et("xhr",c_)}function c_(){if(!q.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){let s=new Error,i=Me()*1e3,a=it(r[0])?r[0].toUpperCase():void 0,o=u_(r[1]);if(!a||!o)return t.apply(n,r);n[Xt]={method:a,url:o,request_headers:{}},a==="POST"&&o.match(/sentry_key/)&&(n.__sentry_own_request__=!0);let c=()=>{let m=n[Xt];if(m&&n.readyState===4){try{m.status_code=n.status}catch{}let f={endTimestamp:Me()*1e3,startTimestamp:i,xhr:n,virtualError:s};$e("xhr",f)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(m,f,v){return c(),m.apply(f,v)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(m,f,v){let[E,I]=v,w=f[Xt];return w&&it(E)&&it(I)&&(w.request_headers[E.toLowerCase()]=I),m.apply(f,v)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){let s=n[Xt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);let i={startTimestamp:Me()*1e3,xhr:n};return $e("xhr",i),t.apply(n,r)}})}function u_(e){if(it(e))return e;try{return e.toString()}catch{}}var Hc=[],Da=new Map;function $c(){if(ti()&&De){let t=l_();return()=>{t()}}return()=>{}}var Fd={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function l_(){return Qs(({metric:e})=>{if(e.value==null)return;let t=e.entries.find(w=>w.duration===e.value&&Fd[w.name]);if(!t)return;let{interactionId:n}=t,r=Fd[t.name],s=Ce(De+t.startTime),i=Ce(e.value),a=ve(),o=a?Te(a):void 0,m=(n!=null?Da.get(n):void 0)||o,f=m?ee(m).description:ce().getScopeData().transactionName,v=tt(t.target),E=Ee({[we]:"auto.http.browser.inp",[ot]:`ui.interaction.${r}`,[cr]:t.duration}),I=Ra({name:v,transaction:f,attributes:E,startTime:s});I&&(I.addEvent("inp",{[Un]:"millisecond",[Bn]:e.value}),I.end(s+i))})}function qc(e){let t=({entries:n})=>{let r=ve(),s=r&&Te(r);n.forEach(i=>{if(!Od(i)||!s)return;let a=i.interactionId;if(a!=null&&!Da.has(a)){if(Hc.length>10){let o=Hc.shift();Da.delete(o)}Hc.push(a),Da.set(a,s)}})};Kt("event",t),Kt("first-input",t)}function Ud(e,t=Oa("fetch")){let n=0,r=0;function s(i){let a=i.body.length;n+=a,r++;let o={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Ma("fetch"),Pn("No fetch implementation available");try{return t(e.url,o).then(c=>(n-=a,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Ma("fetch"),n-=a,r--,Pn(c)}}return la(e,s)}var d_=30;var p_=50;function jc(e,t,n,r){let s={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}var f_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,m_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,h_=/\((\S*)(?::(\d+))(?::(\d+))\)/,g_=e=>{let t=f_.exec(e);if(t){let[,r,s,i]=t;return jc(r,"?",+s,+i)}let n=m_.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){let a=h_.exec(n[2]);a&&(n[2]=a[1],n[3]=a[2],n[4]=a[3])}let[s,i]=Hd(n[1]||"?",n[2]);return jc(i,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},__=[d_,g_],y_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,S_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,v_=e=>{let t=y_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let i=S_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||"?";return[s,r]=Hd(s,r),jc(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},E_=[p_,v_];var T_=[__,E_],Bd=Oi(...T_),Hd=(e,t)=>{let n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:"?",n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var La=1024,b_="Breadcrumbs",I_=((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:b_,setup(n){t.console&&dc(A_(n)),t.dom&&si(k_(n,t.dom)),t.xhr&&ii(R_(n)),t.fetch&&Vs(x_(n)),t.history&&wn(C_(n)),t.sentry&&n.on("beforeSendEvent",w_(n))}}}),$d=I_;function w_(e){return function(n){Y()===e&&yt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:zt(n)},{event:n})}}function k_(e,t){return function(r){if(Y()!==e)return;let s,i,a=typeof t=="object"?t.serializeAttribute:void 0,o=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;o&&o>La&&(Ke&&A.warn(`\`dom.maxStringLength\` cannot exceed ${La}, but a value of ${o} was configured. Sentry will use ${La} instead.`),o=La),typeof a=="string"&&(a=[a]);try{let m=r.event,f=N_(m)?m.target:m;s=tt(f,{keyAttrs:a,maxStringLength:o}),i=xs(f)}catch{s="<unknown>"}if(s.length===0)return;let c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),yt(c,{event:r.event,name:r.name,global:r.global})}}function A_(e){return function(n){if(Y()!==e)return;let r={category:"console",data:{arguments:n.args,logger:"console"},level:zs(n.level),message:Fi(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Fi(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;yt(r,{input:n.args,level:n.level})}}function R_(e){return function(n){if(Y()!==e)return;let{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[Xt];if(!r||!s||!i)return;let{method:a,url:o,status_code:c,body:m}=i,f={method:a,url:o,status_code:c},v={xhr:n.xhr,input:m,startTimestamp:r,endTimestamp:s},E=ga(c);yt({category:"xhr",data:f,type:"http",level:E},v)}}function x_(e){return function(n){if(Y()!==e)return;let{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){let i=n.fetchData,a={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s};yt({category:"fetch",data:i,level:"error",type:"http"},a)}else{let i=n.response,a={...n.fetchData,status_code:i&&i.status},o={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c=ga(a.status_code);yt({category:"fetch",data:a,type:"http",level:c},o)}}}function C_(e){return function(n){if(Y()!==e)return;let r=n.from,s=n.to,i=Pt(J.location.href),a=r?Pt(r):void 0,o=Pt(s);(!a||!a.path)&&(a=i),i.protocol===o.protocol&&i.host===o.host&&(s=o.relative),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),yt({category:"navigation",data:{from:r,to:s}})}}function N_(e){return!!e&&!!e.target}var O_=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],M_="BrowserApiErrors",D_=((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:M_,setupOnce(){t.setTimeout&&Fe(J,"setTimeout",qd),t.setInterval&&Fe(J,"setInterval",qd),t.requestAnimationFrame&&Fe(J,"requestAnimationFrame",L_),t.XMLHttpRequest&&"XMLHttpRequest"in J&&Fe(XMLHttpRequest.prototype,"send",P_);let n=t.eventTarget;n&&(Array.isArray(n)?n:O_).forEach(F_)}}}),jd=D_;function qd(e){return function(...t){let n=t[0];return t[0]=dr(n,{mechanism:{data:{function:ht(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function L_(e){return function(t){return e.apply(this,[dr(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ht(e)},handled:!1,type:"instrument"}})])}}function P_(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Fe(n,s,function(i){let a={mechanism:{data:{function:s,handler:ht(i)},handled:!1,type:"instrument"}},o=ar(i);return o&&(a.mechanism.data.handler=ht(o)),dr(i,a)})}),e.apply(this,t)}}function F_(e){let n=J[e],r=n&&n.prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Fe(r,"addEventListener",function(s){return function(i,a,o){try{U_(a)&&(a.handleEvent=dr(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ht(a),target:e},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[i,dr(a,{mechanism:{data:{function:"addEventListener",handler:ht(a),target:e},handled:!1,type:"instrument"}}),o])}}),Fe(r,"removeEventListener",function(s){return function(i,a,o){try{let c=a.__sentry_wrapped__;c&&s.call(this,i,c,o)}catch{}return s.call(this,i,a,o)}}))}function U_(e){return typeof e.handleEvent=="function"}var Wd=()=>({name:"BrowserSession",setupOnce(){if(typeof J.document>"u"){Ke&&A.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Bs({ignoreDuration:!0}),Hs(),wn(({from:e,to:t})=>{e!==void 0&&e!==t&&(Bs({ignoreDuration:!0}),Hs())})}});var B_="GlobalHandlers",H_=((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:B_,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&($_(n),zd("onerror")),t.onunhandledrejection&&(q_(n),zd("onunhandledrejection"))}}}),Gd=H_;function $_(e){Is(t=>{let{stackParser:n,attachStacktrace:r}=Vd();if(Y()!==e||Tc())return;let{msg:s,url:i,line:a,column:o,error:c}=t,m=z_(Ea(n,c||s,void 0,r,!1),i,a,o);m.level="error",Us(m,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function q_(e){ws(t=>{let{stackParser:n,attachStacktrace:r}=Vd();if(Y()!==e||Tc())return;let s=j_(t),i=sr(s)?W_(s):Ea(n,s,void 0,r,!0);i.level="error",Us(i,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function j_(e){if(sr(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function W_(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function z_(e,t,n,r){let s=e.exception=e.exception||{},i=s.values=s.values||[],a=i[0]=i[0]||{},o=a.stacktrace=a.stacktrace||{},c=o.frames=o.frames||[],m=r,f=n,v=it(t)&&t.length>0?t:Rs();return c.length===0&&c.push({colno:m,filename:v,function:"?",in_app:!0,lineno:f}),e}function zd(e){Ke&&A.log(`Global Handler attached: ${e}`)}function Vd(){let e=Y();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Yd=()=>({name:"HttpContext",preprocessEvent(e){if(!J.navigator&&!J.location&&!J.document)return;let t=e.request&&e.request.url||J.location&&J.location.href,{referrer:n}=J.document||{},{userAgent:r}=J.navigator||{},s={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:s};e.request=i}});var G_="cause",V_=5,Y_="LinkedErrors",K_=((e={})=>{let t=e.limit||V_,n=e.key||G_;return{name:Y_,preprocessEvent(r,s,i){let a=i.getOptions();lc(va,a.stackParser,a.maxValueLength,n,t,r,s)}}}),Kd=K_;function Xd(e){let t=[fa(),da(),jd(),$d(),Gd(),Kd(),ma(),Yd()];return e.autoSessionTracking!==!1&&t.push(Wd()),t}function X_(e={}){let t={defaultIntegrations:Xd(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:J.SENTRY_RELEASE&&J.SENTRY_RELEASE.id?J.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function J_(){let e=typeof J.window<"u"&&J;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,s=J.location&&J.location.href||"",i=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],a=!!r&&J===J.top&&i.some(c=>s.startsWith(`${c}//`)),o=typeof e.nw<"u";return!!r&&!a&&!o}function Wc(e={}){let t=X_(e);if(!t.skipBrowserExtensionCheck&&J_()){Ze(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Ke&&(_a()||A.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let n={...t,stackParser:To(t.stackParser||Bd),integrations:nc(t),transport:t.transport||Ud};return ic(Ta,n)}var Re=V,yu="sentryReplaySession",Z_="replay_event",Su="Unable to send Replay",Q_=3e5,ey=9e5,ty=5e3,ny=5500,ry=6e4,sy=5e3,iy=3,Jd=15e4,Pa=5e3,ay=3e3,oy=300,vu=2e7,cy=4999,uy=15e3,Zd=36e5;function Kc(e,t){return e??t()}function li(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}var ze;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ze||(ze={}));function ly(e){return e.nodeType===e.ELEMENT_NODE}function oi(e){let t=li([e,"optionalAccess",n=>n.host]);return li([t,"optionalAccess",n=>n.shadowRoot])===e}function ci(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function dy(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function py(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function $a(e){try{let t=e.rules||e.cssRules;return t?dy(Array.from(t,Ep).join("")):null}catch{return null}}function fy(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,s=r[n],i=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${i?" !important":""};`}return`${e.selectorText} { ${t} }`}function Ep(e){let t;if(hy(e))try{t=$a(e.styleSheet)||py(e)}catch{}else if(gy(e)){let n=e.cssText,r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=fy(e)),r&&(n=my(n)),r||s)return n}return t||e.cssText}function my(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function hy(e){return"styleSheet"in e}function gy(e){return"selectorText"in e}var qa=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let n=li([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Kc(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){let r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){let r=this.getNode(t);if(r){let s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function _y(){return new qa}function to({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function di({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function as(e){return e.toLowerCase()}function Xc(e){return e.toUpperCase()}var Qd="__rrweb_original__";function yy(e){let t=e.getContext("2d");if(!t)return!0;let n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){let i=t.getImageData,a=Qd in i?i[Qd]:i;if(new Uint32Array(a.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Eu(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?as(t):null}function ja(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Tp(e,t){let n;try{n=new URL(e,Kc(t,()=>window.location.href))}catch{return null}let r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return Kc(li([s,"optionalAccess",i=>i[1]]),()=>null)}var ep={};function bp(e){let t=ep[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);let i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return ep[e]=r.bind(window)}function Jc(...e){return bp("setTimeout")(...e)}function Ip(...e){return bp("clearTimeout")(...e)}function wp(e){try{return e.contentDocument}catch{}}var Sy=1,vy=new RegExp("[^a-z0-9-_:]"),pi=-2;function Tu(){return Sy++}function Ey(e){if(e instanceof HTMLFormElement)return"form";let t=as(e.tagName);return vy.test(t)?"div":t}function Ty(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var es,tp,by=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Iy=/^(?:[a-z+]+:)?\/\//i,wy=/^www\..*/i,ky=/^(data:)([^,]*),(.*)/i;function Wa(e,t){return(e||"").replace(by,(n,r,s,i,a,o)=>{let c=s||a||o,m=r||i||"";if(!c)return n;if(Iy.test(c)||wy.test(c))return`url(${m}${c}${m})`;if(ky.test(c))return`url(${m}${c}${m})`;if(c[0]==="/")return`url(${m}${Ty(t)+c}${m})`;let f=t.split("/"),v=c.split("/");f.pop();for(let E of v)E!=="."&&(E===".."?f.pop():f.push(E));return`url(${m}${f.join("/")}${m})`})}var Ay=/^[^ \t\n\r\u000c]+/,Ry=/^[, \t\n\r\u000c]+/;function xy(e,t){if(t.trim()==="")return t;let n=0;function r(i){let a,o=i.exec(t.substring(n));return o?(a=o[0],n+=a.length,a):""}let s=[];for(;r(Ry),!(n>=t.length);){let i=r(Ay);if(i.slice(-1)===",")i=ns(e,i.substring(0,i.length-1)),s.push(i);else{let a="";i=ns(e,i);let o=!1;for(;;){let c=t.charAt(n);if(c===""){s.push((i+a).trim());break}else if(o)c===")"&&(o=!1);else if(c===","){n+=1,s.push((i+a).trim());break}else c==="("&&(o=!0);a+=c,n+=1}}}return s.join(", ")}var np=new WeakMap;function ns(e,t){return!t||t.trim()===""?t:no(e,t)}function Cy(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function no(e,t){let n=np.get(e);if(n||(n=e.createElement("a"),np.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function kp(e,t,n,r,s,i){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?ns(e,r):n==="srcset"?xy(e,r):n==="style"?Wa(r,no(e)):t==="object"&&n==="data"?ns(e,r):typeof i=="function"?i(n,r,s):r)}function Ap(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Ny(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){let i=e.classList[s];if(t.test(i))return!0}if(n)return e.matches(n)}catch{}return!1}function Oy(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}function mr(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:mr(e.parentNode,t,n,r+1)}function rs(e,t){return n=>{let r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Oy(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function os(e,t,n,r,s,i){try{let a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(a===null)return!1;if(a.tagName==="INPUT"){let m=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(m))return!0}let o=-1,c=-1;if(i){if(c=mr(a,rs(r,s)),c<0)return!0;o=mr(a,rs(t,n),c>=0?c:1/0)}else{if(o=mr(a,rs(t,n)),o<0)return!1;c=mr(a,rs(r,s),o>=0?o:1/0)}return o>=0?c>=0?o<=c:!0:c>=0?!1:!!i}catch{}return!!i}function My(e,t,n){let r=e.contentWindow;if(!r)return;let s=!1,i;try{i=r.document.readyState}catch{return}if(i!=="complete"){let o=Jc(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ip(o),s=!0,t()});return}let a="about:blank";if(r.location.href!==a||e.src===a||e.src==="")return Jc(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Dy(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;let i=Jc(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ip(i),r=!0,t()})}function Ly(e,t){let{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:o,maskAttributeFn:c,maskTextClass:m,unmaskTextClass:f,maskTextSelector:v,unmaskTextSelector:E,inlineStylesheet:I,maskInputOptions:w={},maskTextFn:R,maskInputFn:$,dataURLOptions:k={},inlineImages:K,recordCanvas:oe,keepIframeSrcFn:pe,newlyAddedElement:se=!1}=t,D=Py(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ze.Document,childNodes:[],compatMode:e.compatMode}:{type:ze.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ze.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:D};case e.ELEMENT_NODE:return Uy(e,{doc:n,blockClass:s,blockSelector:i,unblockSelector:a,inlineStylesheet:I,maskAttributeFn:c,maskInputOptions:w,maskInputFn:$,dataURLOptions:k,inlineImages:K,recordCanvas:oe,keepIframeSrcFn:pe,newlyAddedElement:se,rootId:D,maskAllText:o,maskTextClass:m,unmaskTextClass:f,maskTextSelector:v,unmaskTextSelector:E});case e.TEXT_NODE:return Fy(e,{doc:n,maskAllText:o,maskTextClass:m,unmaskTextClass:f,maskTextSelector:v,unmaskTextSelector:E,maskTextFn:R,maskInputOptions:w,maskInputFn:$,rootId:D});case e.CDATA_SECTION_NODE:return{type:ze.CDATA,textContent:"",rootId:D};case e.COMMENT_NODE:return{type:ze.Comment,textContent:e.textContent||"",rootId:D};default:return!1}}function Py(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return n===1?void 0:n}function Fy(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:c,maskInputFn:m,rootId:f}=t,v=e.parentNode&&e.parentNode.tagName,E=e.textContent,I=v==="STYLE"?!0:void 0,w=v==="SCRIPT"?!0:void 0,R=v==="TEXTAREA"?!0:void 0;if(I&&E){try{e.nextSibling||e.previousSibling||li([e,"access",k=>k.parentNode,"access",k=>k.sheet,"optionalAccess",k=>k.cssRules])&&(E=$a(e.parentNode.sheet))}catch(k){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${k}`,e)}E=Wa(E,no(t.doc))}w&&(E="SCRIPT_PLACEHOLDER");let $=os(e,r,i,s,a,n);if(!I&&!w&&!R&&E&&$&&(E=o?o(E,e.parentElement):E.replace(/[\S]/g,"*")),R&&E&&(c.textarea||$)&&(E=m?m(E,e.parentNode):E.replace(/[\S]/g,"*")),v==="OPTION"&&E){let k=to({type:null,tagName:v,maskInputOptions:c});E=di({isMasked:os(e,r,i,s,a,k),element:e,value:E,maskInputFn:m})}return{type:ze.Text,textContent:E||"",isStyle:I,rootId:f}}function Uy(e,t){let{doc:n,blockClass:r,blockSelector:s,unblockSelector:i,inlineStylesheet:a,maskInputOptions:o={},maskAttributeFn:c,maskInputFn:m,dataURLOptions:f={},inlineImages:v,recordCanvas:E,keepIframeSrcFn:I,newlyAddedElement:w=!1,rootId:R,maskAllText:$,maskTextClass:k,unmaskTextClass:K,maskTextSelector:oe,unmaskTextSelector:pe}=t,se=Ny(e,r,s,i),D=Ey(e),M={},Z=e.attributes.length;for(let L=0;L<Z;L++){let S=e.attributes[L];S.name&&!Ap(D,S.name,S.value)&&(M[S.name]=kp(n,D,as(S.name),S.value,e,c))}if(D==="link"&&a){let L=Array.from(n.styleSheets).find(G=>G.href===e.href),S=null;L&&(S=$a(L)),S&&(M.rel=null,M.href=null,M.crossorigin=null,M._cssText=Wa(S,L.href))}if(D==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let L=$a(e.sheet);L&&(M._cssText=Wa(L,no(n)))}if(D==="input"||D==="textarea"||D==="select"||D==="option"){let L=e,S=Eu(L),G=ja(L,Xc(D),S),Se=L.checked;if(S!=="submit"&&S!=="button"&&G){let be=os(L,k,oe,K,pe,to({type:S,tagName:Xc(D),maskInputOptions:o}));M.value=di({isMasked:be,element:L,value:G,maskInputFn:m})}Se&&(M.checked=Se)}if(D==="option"&&(e.selected&&!o.select?M.selected=!0:delete M.selected),D==="canvas"&&E){if(e.__context==="2d")yy(e)||(M.rr_dataURL=e.toDataURL(f.type,f.quality));else if(!("__context"in e)){let L=e.toDataURL(f.type,f.quality),S=n.createElement("canvas");S.width=e.width,S.height=e.height;let G=S.toDataURL(f.type,f.quality);L!==G&&(M.rr_dataURL=L)}}if(D==="img"&&v){es||(es=n.createElement("canvas"),tp=es.getContext("2d"));let L=e,S=L.currentSrc||L.getAttribute("src")||"<unknown-src>",G=L.crossOrigin,Se=()=>{L.removeEventListener("load",Se);try{es.width=L.naturalWidth,es.height=L.naturalHeight,tp.drawImage(L,0,0),M.rr_dataURL=es.toDataURL(f.type,f.quality)}catch(be){if(L.crossOrigin!=="anonymous"){L.crossOrigin="anonymous",L.complete&&L.naturalWidth!==0?Se():L.addEventListener("load",Se);return}else console.warn(`Cannot inline img src=${S}! Error: ${be}`)}L.crossOrigin==="anonymous"&&(G?M.crossOrigin=G:L.removeAttribute("crossorigin"))};L.complete&&L.naturalWidth!==0?Se():L.addEventListener("load",Se)}if((D==="audio"||D==="video")&&(M.rr_mediaState=e.paused?"paused":"played",M.rr_mediaCurrentTime=e.currentTime),w||(e.scrollLeft&&(M.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(M.rr_scrollTop=e.scrollTop)),se){let{width:L,height:S}=e.getBoundingClientRect();M={class:M.class,rr_width:`${L}px`,rr_height:`${S}px`}}D==="iframe"&&!I(M.src)&&(!se&&!wp(e)&&(M.rr_src=M.src),delete M.src);let H;try{customElements.get(D)&&(H=!0)}catch{}return{type:ze.Element,tagName:D,attributes:M,childNodes:[],isSVG:Cy(e)||void 0,needBlock:se,rootId:R,isCustom:H}}function Ae(e){return e==null?"":e.toLowerCase()}function By(e,t){if(t.comment&&e.type===ze.Comment)return!0;if(e.type===ze.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Tp(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(Ae(e.attributes.name).match(/^msapplication-tile(image|color)$/)||Ae(e.attributes.name)==="application-name"||Ae(e.attributes.rel)==="icon"||Ae(e.attributes.rel)==="apple-touch-icon"||Ae(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&Ae(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(Ae(e.attributes.property).match(/^(og|twitter|fb):/)||Ae(e.attributes.name).match(/^(og|twitter):/)||Ae(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(Ae(e.attributes.name)==="robots"||Ae(e.attributes.name)==="googlebot"||Ae(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(Ae(e.attributes.name)==="author"||Ae(e.attributes.name)==="generator"||Ae(e.attributes.name)==="framework"||Ae(e.attributes.name)==="publisher"||Ae(e.attributes.name)==="progid"||Ae(e.attributes.property).match(/^article:/)||Ae(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(Ae(e.attributes.name)==="google-site-verification"||Ae(e.attributes.name)==="yandex-verification"||Ae(e.attributes.name)==="csrf-token"||Ae(e.attributes.name)==="p:domain_verify"||Ae(e.attributes.name)==="verify-v1"||Ae(e.attributes.name)==="verification"||Ae(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ss(e,t){let{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:m,maskTextSelector:f,unmaskTextSelector:v,skipChild:E=!1,inlineStylesheet:I=!0,maskInputOptions:w={},maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOMOptions:K,dataURLOptions:oe={},inlineImages:pe=!1,recordCanvas:se=!1,onSerialize:D,onIframeLoad:M,iframeLoadTimeout:Z=5e3,onStylesheetLoad:H,stylesheetLoadTimeout:L=5e3,keepIframeSrcFn:S=()=>!1,newlyAddedElement:G=!1}=t,{preserveWhiteSpace:Se=!0}=t,be=Ly(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:o,unblockSelector:a,maskTextClass:c,unmaskTextClass:m,maskTextSelector:f,unmaskTextSelector:v,inlineStylesheet:I,maskInputOptions:w,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,dataURLOptions:oe,inlineImages:pe,recordCanvas:se,keepIframeSrcFn:S,newlyAddedElement:G});if(!be)return console.warn(e,"not serialized"),null;let He;r.hasNode(e)?He=r.getId(e):By(be,K)||!Se&&be.type===ze.Text&&!be.isStyle&&!be.textContent.replace(/^\s+|\s+$/gm,"").length?He=pi:He=Tu();let ae=Object.assign(be,{id:He});if(r.add(e,ae),He===pi)return null;D&&D(e);let Pe=!E;if(ae.type===ze.Element){Pe=Pe&&!ae.needBlock,delete ae.needBlock;let ge=e.shadowRoot;ge&&ci(ge)&&(ae.isShadowHost=!0)}if((ae.type===ze.Document||ae.type===ze.Element)&&Pe){K.headWhitespace&&ae.type===ze.Element&&ae.tagName==="head"&&(Se=!1);let ge={doc:n,mirror:r,blockClass:s,blockSelector:i,maskAllText:o,unblockSelector:a,maskTextClass:c,unmaskTextClass:m,maskTextSelector:f,unmaskTextSelector:v,skipChild:E,inlineStylesheet:I,maskInputOptions:w,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOMOptions:K,dataURLOptions:oe,inlineImages:pe,recordCanvas:se,preserveWhiteSpace:Se,onSerialize:D,onIframeLoad:M,iframeLoadTimeout:Z,onStylesheetLoad:H,stylesheetLoadTimeout:L,keepIframeSrcFn:S};for(let Ne of Array.from(e.childNodes)){let ft=ss(Ne,ge);ft&&ae.childNodes.push(ft)}if(ly(e)&&e.shadowRoot)for(let Ne of Array.from(e.shadowRoot.childNodes)){let ft=ss(Ne,ge);ft&&(ci(e.shadowRoot)&&(ft.isShadow=!0),ae.childNodes.push(ft))}}return e.parentNode&&oi(e.parentNode)&&ci(e.parentNode)&&(ae.isShadow=!0),ae.type===ze.Element&&ae.tagName==="iframe"&&My(e,()=>{let ge=wp(e);if(ge&&M){let Ne=ss(ge,{doc:ge,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:m,maskTextSelector:f,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:I,maskInputOptions:w,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOMOptions:K,dataURLOptions:oe,inlineImages:pe,recordCanvas:se,preserveWhiteSpace:Se,onSerialize:D,onIframeLoad:M,iframeLoadTimeout:Z,onStylesheetLoad:H,stylesheetLoadTimeout:L,keepIframeSrcFn:S});Ne&&M(e,Ne)}},Z),ae.type===ze.Element&&ae.tagName==="link"&&typeof ae.attributes.rel=="string"&&(ae.attributes.rel==="stylesheet"||ae.attributes.rel==="preload"&&typeof ae.attributes.href=="string"&&Tp(ae.attributes.href)==="css")&&Dy(e,()=>{if(H){let ge=ss(e,{doc:n,mirror:r,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:c,unmaskTextClass:m,maskTextSelector:f,unmaskTextSelector:v,skipChild:!1,inlineStylesheet:I,maskInputOptions:w,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOMOptions:K,dataURLOptions:oe,inlineImages:pe,recordCanvas:se,preserveWhiteSpace:Se,onSerialize:D,onIframeLoad:M,iframeLoadTimeout:Z,onStylesheetLoad:H,stylesheetLoadTimeout:L,keepIframeSrcFn:S});ge&&H(e,ge)}},L),ae}function Hy(e,t){let{mirror:n=new qa,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:c=null,maskTextSelector:m=null,unmaskTextSelector:f=null,inlineStylesheet:v=!0,inlineImages:E=!1,recordCanvas:I=!1,maskAllInputs:w=!1,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOM:K=!1,dataURLOptions:oe,preserveWhiteSpace:pe,onSerialize:se,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:Z,stylesheetLoadTimeout:H,keepIframeSrcFn:L=()=>!1}=t||{};return ss(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:o,unmaskTextClass:c,maskTextSelector:m,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:v,maskInputOptions:w===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:w===!1?{}:w,maskAttributeFn:R,maskTextFn:$,maskInputFn:k,slimDOMOptions:K===!0||K==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:K==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:K===!1?{}:K,dataURLOptions:oe,inlineImages:E,recordCanvas:I,preserveWhiteSpace:pe,onSerialize:se,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:Z,stylesheetLoadTimeout:H,keepIframeSrcFn:L,newlyAddedElement:!1})}function Gn(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}function pt(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}var ts=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,rp={map:{},getId(){return console.error(ts),-1},getNode(){return console.error(ts),null},removeNodeFromMap(){console.error(ts)},has(){return console.error(ts),!1},reset(){console.error(ts)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(rp=new Proxy(rp,{get(e,t,n){return t==="map"&&console.error(ts),Reflect.get(e,t,n)}}));function fi(e,t,n={}){let r=null,s=0;return function(...i){let a=Date.now();!s&&n.leading===!1&&(s=a);let o=t-(a-s),c=this;o<=0||o>t?(r&&(Gy(r),r=null),s=a,e.apply(c,i)):!r&&n.trailing!==!1&&(r=ro(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,i)},o))}}function Rp(e,t,n,r,s=window){let i=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(a){ro(()=>{n.set.call(this,a)},0),i&&i.set&&i.set.call(this,a)}}),()=>Rp(e,t,i||{},!0)}function bu(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}var za=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(za=()=>new Date().getTime());function xp(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Gn([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||Gn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||Gn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Gn([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||Gn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||Gn([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Cp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Np(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Op(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function Nt(e,t,n,r,s){if(!e)return!1;let i=Op(e);if(!i)return!1;let a=rs(t,n);if(!s){let m=r&&i.matches(r);return a(i)&&!m}let o=mr(i,a),c=-1;return o<0?!1:(r&&(c=mr(i,rs(null,r))),o>-1&&c<0?!0:o<c)}function $y(e,t){return t.getId(e)!==-1}function zc(e,t){return t.getId(e)===pi}function Mp(e,t){if(oi(e))return!1;let n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Mp(e.parentNode,t):!0:!0}function Zc(e){return!!e.changedTouches}function qy(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Dp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Lp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Qc(e){return!!Gn([e,"optionalAccess",t=>t.shadowRoot])}var eu=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return vc(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function Pp(e){let t=null;return Gn([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function jy(e){let t=e,n;for(;n=Pp(t);)t=n;return t}function Wy(e){let t=e.ownerDocument;if(!t)return!1;let n=jy(e);return t.contains(n)}function Fp(e){let t=e.ownerDocument;return t?t.contains(e)||Wy(e):!1}var sp={};function Iu(e){let t=sp[e];if(t)return t;let n=window.document,r=window[e];if(n&&typeof n.createElement=="function")try{let s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);let i=s.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(s)}catch{}return sp[e]=r.bind(window)}function zy(...e){return Iu("requestAnimationFrame")(...e)}function ro(...e){return Iu("setTimeout")(...e)}function Gy(...e){return Iu("clearTimeout")(...e)}var me=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(me||{}),ie=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ie||{}),dt=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(dt||{}),kn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(kn||{}),ip;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(ip||(ip={}));var ap;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(ap||(ap={}));function wu(e){try{return e.contentDocument}catch{}}function Vy(e){try{return e.contentWindow}catch{}}function Yy(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}function op(e){return"__ln"in e}var tu=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=Yy([n,"optionalAccess",s=>s.next])||null;return n}addNode(t){let n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&op(t.previousSibling)){let r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&op(t.nextSibling)&&t.nextSibling.__ln.previous){let r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){let n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},cp=(e,t)=>`${e}@${t}`,nu=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],n=new Set,r=new tu,s=c=>{let m=c,f=pi;for(;f===pi;)m=m&&m.nextSibling,f=m&&this.mirror.getId(m);return f},i=c=>{if(!c.parentNode||!Fp(c))return;let m=oi(c.parentNode)?this.mirror.getId(Pp(c)):this.mirror.getId(c.parentNode),f=s(c);if(m===-1||f===-1)return r.addNode(c);let v=ss(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:E=>{Dp(E,this.mirror)&&!Nt(E,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(E),Lp(E,this.mirror)&&this.stylesheetManager.trackLinkElement(E),Qc(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(E,I)=>{Nt(E,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(E,I),E.contentWindow&&this.canvasManager.addWindow(E.contentWindow),this.shadowDomManager.observeAttachShadow(E))},onStylesheetLoad:(E,I)=>{this.stylesheetManager.attachLinkElement(E,I)}});v&&(t.push({parentId:m,nextId:f,node:v}),n.add(v.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)up(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||i(c);for(let c of this.addedSet)!lp(this.droppedSet,c)&&!up(this.removes,c,this.mirror)||lp(this.movedSet,c)?i(c):this.droppedSet.add(c);let a=null;for(;r.length;){let c=null;if(a){let m=this.mirror.getId(a.value.parentNode),f=s(a.value);m!==-1&&f!==-1&&(c=a)}if(!c){let m=r.tail;for(;m;){let f=m;if(m=m.previous,f){let v=this.mirror.getId(f.value.parentNode);if(s(f.value)===-1)continue;if(v!==-1){c=f;break}else{let I=f.value;if(I.parentNode&&I.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let w=I.parentNode.host;if(this.mirror.getId(w)!==-1){c=f;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}a=c.previous,r.removeNode(c.value),i(c.value)}let o={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:m}=c;if(typeof m.style=="string"){let f=JSON.stringify(c.styleDiff),v=JSON.stringify(c._unchangedStyles);f.length<m.style.length&&(f+v).split("var(").length===m.style.split("var(").length&&(m.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:m}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!o.texts.length&&!o.attributes.length&&!o.removes.length&&!o.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(o))},this.processMutation=t=>{if(!zc(t.target,this.mirror))switch(t.type){case"characterData":{let n=t.target.textContent;!Nt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:os(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Op(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{let n=t.target,r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){let a=Eu(n),o=n.tagName;s=ja(n,o,a);let c=to({maskInputOptions:this.maskInputOptions,tagName:o,type:a}),m=os(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=di({isMasked:m,element:n,value:s,maskInputFn:this.maskInputFn})}if(Nt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let i=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!wu(n))r="rr_src";else return;if(i||(i={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(t.target,i)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Ap(n.tagName,r)&&(i.attributes[r]=kp(this.doc,as(n.tagName),as(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let a=this.unattachedDoc.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(let o of Array.from(n.style)){let c=n.style.getPropertyValue(o),m=n.style.getPropertyPriority(o);c!==a.style.getPropertyValue(o)||m!==a.style.getPropertyPriority(o)?m===""?i.styleDiff[o]=c:i.styleDiff[o]=[c,m]:i._unchangedStyles[o]=[c,m]}for(let o of Array.from(a.style))n.style.getPropertyValue(o)===""&&(i.styleDiff[o]=!1)}break}case"childList":{if(Nt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{let r=this.mirror.getId(n),s=oi(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Nt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||zc(n,this.mirror)||!$y(n,this.mirror)||(this.addedSet.has(n)?(ru(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Mp(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[cp(r,s)]?ru(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:oi(t.target)&&ci(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(zc(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[cp(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Nt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Qc(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function ru(e,t){e.delete(t),t.childNodes.forEach(n=>ru(e,n))}function up(e,t,n){return e.length===0?!1:Ky(e,t,n)}function Ky(e,t,n){let r=t.parentNode;for(;r;){let s=n.getId(r);if(e.some(i=>i.id===s))return!0;r=r.parentNode}return!1}function lp(e,t){return e.size===0?!1:Up(e,t)}function Up(e,t){let{parentNode:n}=t;return n?e.has(n)?!0:Up(e,n):!1}var ui;function Xy(e){ui=e}function Jy(){ui=void 0}var ye=e=>ui?((...n)=>{try{return e(...n)}catch(r){if(ui&&ui(r)===!0)return()=>{};throw r}}):e;function Zt(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}var is=[];function yi(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Bp(e,t){let n=new nu;is.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,s=Zt([window,"optionalAccess",a=>a.Zone,"optionalAccess",a=>a.__symbol__,"optionalCall",a=>a("MutationObserver")]);s&&window[s]&&(r=window[s]);let i=new r(ye(a=>{e.onMutation&&e.onMutation(a)===!1||n.processMutations.bind(n)(a)}));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Zy({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};let s=typeof t.mousemove=="number"?t.mousemove:50,i=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,a=[],o,c=fi(ye(v=>{let E=Date.now()-o;e(a.map(I=>(I.timeOffset-=E,I)),v),a=[],o=null}),i),m=ye(fi(ye(v=>{let E=yi(v),{clientX:I,clientY:w}=Zc(v)?v.changedTouches[0]:v;o||(o=za()),a.push({x:I,y:w,id:r.getId(E),timeOffset:za()-o}),c(typeof DragEvent<"u"&&v instanceof DragEvent?ie.Drag:v instanceof MouseEvent?ie.MouseMove:ie.TouchMove)}),s,{trailing:!1})),f=[pt("mousemove",m,n),pt("touchmove",m,n),pt("drag",m,n)];return ye(()=>{f.forEach(v=>v())})}function Qy({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:a}){if(a.mouseInteraction===!1)return()=>{};let o=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,c=[],m=null,f=v=>E=>{let I=yi(E);if(Nt(I,r,s,i,!0))return;let w=null,R=v;if("pointerType"in E){switch(E.pointerType){case"mouse":w=kn.Mouse;break;case"touch":w=kn.Touch;break;case"pen":w=kn.Pen;break}w===kn.Touch?dt[v]===dt.MouseDown?R="TouchStart":dt[v]===dt.MouseUp&&(R="TouchEnd"):kn.Pen}else Zc(E)&&(w=kn.Touch);w!==null?(m=w,(R.startsWith("Touch")&&w===kn.Touch||R.startsWith("Mouse")&&w===kn.Mouse)&&(w=null)):dt[v]===dt.Click&&(w=m,m=null);let $=Zc(E)?E.changedTouches[0]:E;if(!$)return;let k=n.getId(I),{clientX:K,clientY:oe}=$;ye(e)({type:dt[R],id:k,x:K,y:oe,...w!==null&&{pointerType:w}})};return Object.keys(dt).filter(v=>Number.isNaN(Number(v))&&!v.endsWith("_Departed")&&o[v]!==!1).forEach(v=>{let E=as(v),I=f(v);if(window.PointerEvent)switch(dt[v]){case dt.MouseDown:case dt.MouseUp:E=E.replace("mouse","pointer");break;case dt.TouchStart:case dt.TouchEnd:return}c.push(pt(E,I,t))}),ye(()=>{c.forEach(v=>v())})}function Hp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,sampling:a}){let o=ye(fi(ye(c=>{let m=yi(c);if(!m||Nt(m,r,s,i,!0))return;let f=n.getId(m);if(m===t&&t.defaultView){let v=xp(t.defaultView);e({id:f,x:v.left,y:v.top})}else e({id:f,x:m.scrollLeft,y:m.scrollTop})}),a.scroll||100));return pt("scroll",o,t)}function eS({viewportResizeCb:e},{win:t}){let n=-1,r=-1,s=ye(fi(ye(()=>{let i=Cp(),a=Np();(n!==i||r!==a)&&(e({width:Number(a),height:Number(i)}),n=i,r=a)}),200));return pt("resize",s,t)}var tS=["INPUT","TEXTAREA","SELECT"],dp=new WeakMap;function nS({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,ignoreClass:a,ignoreSelector:o,maskInputOptions:c,maskInputFn:m,sampling:f,userTriggeredOnInput:v,maskTextClass:E,unmaskTextClass:I,maskTextSelector:w,unmaskTextSelector:R}){function $(M){let Z=yi(M),H=M.isTrusted,L=Z&&Xc(Z.tagName);if(L==="OPTION"&&(Z=Z.parentElement),!Z||!L||tS.indexOf(L)<0||Nt(Z,r,s,i,!0))return;let S=Z;if(S.classList.contains(a)||o&&S.matches(o))return;let G=Eu(Z),Se=ja(S,L,G),be=!1,He=to({maskInputOptions:c,tagName:L,type:G}),ae=os(Z,E,w,I,R,He);(G==="radio"||G==="checkbox")&&(be=Z.checked),Se=di({isMasked:ae,element:Z,value:Se,maskInputFn:m}),k(Z,v?{text:Se,isChecked:be,userTriggered:H}:{text:Se,isChecked:be});let Pe=Z.name;G==="radio"&&Pe&&be&&t.querySelectorAll(`input[type="radio"][name="${Pe}"]`).forEach(ge=>{if(ge!==Z){let Ne=di({isMasked:ae,element:ge,value:ja(ge,L,G),maskInputFn:m});k(ge,v?{text:Ne,isChecked:!be,userTriggered:!1}:{text:Ne,isChecked:!be})}})}function k(M,Z){let H=dp.get(M);if(!H||H.text!==Z.text||H.isChecked!==Z.isChecked){dp.set(M,Z);let L=n.getId(M);ye(e)({...Z,id:L})}}let oe=(f.input==="last"?["change"]:["input","change"]).map(M=>pt(M,ye($),t)),pe=t.defaultView;if(!pe)return()=>{oe.forEach(M=>M())};let se=pe.Object.getOwnPropertyDescriptor(pe.HTMLInputElement.prototype,"value"),D=[[pe.HTMLInputElement.prototype,"value"],[pe.HTMLInputElement.prototype,"checked"],[pe.HTMLSelectElement.prototype,"value"],[pe.HTMLTextAreaElement.prototype,"value"],[pe.HTMLSelectElement.prototype,"selectedIndex"],[pe.HTMLOptionElement.prototype,"selected"]];return se&&se.set&&oe.push(...D.map(M=>Rp(M[0],M[1],{set(){ye($)({target:this,isTrusted:!1})}},!1,pe))),ye(()=>{oe.forEach(M=>M())})}function Ga(e){let t=[];function n(r,s){if(Fa("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Fa("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Fa("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Fa("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){let a=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(a)}else if(r.parentStyleSheet){let a=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(a)}return s}return n(e,t)}function Vn(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function rS({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:ye((f,v,E)=>{let[I,w]=E,{id:R,styleId:$}=Vn(v,t,n.styleMirror);return(R&&R!==-1||$&&$!==-1)&&e({id:R,styleId:$,adds:[{rule:I,index:w}]}),f.apply(v,E)})});let i=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:ye((f,v,E)=>{let[I]=E,{id:w,styleId:R}=Vn(v,t,n.styleMirror);return(w&&w!==-1||R&&R!==-1)&&e({id:w,styleId:R,removes:[{index:I}]}),f.apply(v,E)})});let a;r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:ye((f,v,E)=>{let[I]=E,{id:w,styleId:R}=Vn(v,t,n.styleMirror);return(w&&w!==-1||R&&R!==-1)&&e({id:w,styleId:R,replace:I}),f.apply(v,E)})}));let o;r.CSSStyleSheet.prototype.replaceSync&&(o=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(o,{apply:ye((f,v,E)=>{let[I]=E,{id:w,styleId:R}=Vn(v,t,n.styleMirror);return(w&&w!==-1||R&&R!==-1)&&e({id:w,styleId:R,replaceSync:I}),f.apply(v,E)})}));let c={};Ua("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Ua("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Ua("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Ua("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));let m={};return Object.entries(c).forEach(([f,v])=>{m[f]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(m[f].insertRule,{apply:ye((E,I,w)=>{let[R,$]=w,{id:k,styleId:K}=Vn(I.parentStyleSheet,t,n.styleMirror);return(k&&k!==-1||K&&K!==-1)&&e({id:k,styleId:K,adds:[{rule:R,index:[...Ga(I),$||0]}]}),E.apply(I,w)})}),v.prototype.deleteRule=new Proxy(m[f].deleteRule,{apply:ye((E,I,w)=>{let[R]=w,{id:$,styleId:k}=Vn(I.parentStyleSheet,t,n.styleMirror);return($&&$!==-1||k&&k!==-1)&&e({id:$,styleId:k,removes:[{index:[...Ga(I),R]}]}),E.apply(I,w)})})}),ye(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=i,a&&(r.CSSStyleSheet.prototype.replace=a),o&&(r.CSSStyleSheet.prototype.replaceSync=o),Object.entries(c).forEach(([f,v])=>{v.prototype.insertRule=m[f].insertRule,v.prototype.deleteRule=m[f].deleteRule})})}function $p({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);let s=n.nodeName==="#document"?Zt([n,"access",a=>a.defaultView,"optionalAccess",a=>a.Document]):Zt([n,"access",a=>a.ownerDocument,"optionalAccess",a=>a.defaultView,"optionalAccess",a=>a.ShadowRoot]),i=Zt([s,"optionalAccess",a=>a.prototype])?Object.getOwnPropertyDescriptor(Zt([s,"optionalAccess",a=>a.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!i?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Zt([i,"access",a=>a.get,"optionalAccess",a=>a.call,"call",a=>a(this)])},set(a){let o=Zt([i,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,a)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(a,r)}catch{}return o}}),ye(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))}function sS({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){let i=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:ye((o,c,m)=>{let[f,v,E]=m;if(n.has(f))return i.apply(c,[f,v,E]);let{id:I,styleId:w}=Vn(Zt([c,"access",R=>R.parentRule,"optionalAccess",R=>R.parentStyleSheet]),t,r.styleMirror);return(I&&I!==-1||w&&w!==-1)&&e({id:I,styleId:w,set:{property:f,value:v,priority:E},index:Ga(c.parentRule)}),o.apply(c,m)})});let a=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:ye((o,c,m)=>{let[f]=m;if(n.has(f))return a.apply(c,[f]);let{id:v,styleId:E}=Vn(Zt([c,"access",I=>I.parentRule,"optionalAccess",I=>I.parentStyleSheet]),t,r.styleMirror);return(v&&v!==-1||E&&E!==-1)&&e({id:v,styleId:E,remove:{property:f},index:Ga(c.parentRule)}),o.apply(c,m)})}),ye(()=>{s.CSSStyleDeclaration.prototype.setProperty=i,s.CSSStyleDeclaration.prototype.removeProperty=a})}function iS({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:i,doc:a}){let o=ye(m=>fi(ye(f=>{let v=yi(f);if(!v||Nt(v,t,n,r,!0))return;let{currentTime:E,volume:I,muted:w,playbackRate:R}=v;e({type:m,id:s.getId(v),currentTime:E,volume:I,muted:w,playbackRate:R})}),i.media||500)),c=[pt("play",o(0),a),pt("pause",o(1),a),pt("seeked",o(2),a),pt("volumechange",o(3),a),pt("ratechange",o(4),a)];return ye(()=>{c.forEach(m=>m())})}function aS({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],s=new WeakMap,i=n.FontFace;n.FontFace=function(c,m,f){let v=new i(c,m,f);return s.set(v,{family:c,buffer:typeof m!="string",descriptors:f,fontSource:typeof m=="string"?m:JSON.stringify(Array.from(new Uint8Array(m)))}),v};let a=bu(t.fonts,"add",function(o){return function(c){return ro(ye(()=>{let m=s.get(c);m&&(e(m),s.delete(c))}),0),o.apply(this,[c])}});return r.push(()=>{n.FontFace=i}),r.push(a),ye(()=>{r.forEach(o=>o())})}function oS(e){let{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:i,selectionCb:a}=e,o=!0,c=ye(()=>{let m=t.getSelection();if(!m||o&&Zt([m,"optionalAccess",E=>E.isCollapsed]))return;o=m.isCollapsed||!1;let f=[],v=m.rangeCount||0;for(let E=0;E<v;E++){let I=m.getRangeAt(E),{startContainer:w,startOffset:R,endContainer:$,endOffset:k}=I;Nt(w,r,s,i,!0)||Nt($,r,s,i,!0)||f.push({start:n.getId(w),startOffset:R,end:n.getId($),endOffset:k})}a({ranges:f})});return c(),pt("selectionchange",c)}function cS({doc:e,customElementCb:t}){let n=e.defaultView;return!n||!n.customElements?()=>{}:bu(n.customElements,"define",function(s){return function(i,a,o){try{t({define:{name:i}})}catch{}return s.apply(this,[i,a,o])}})}function uS(e,t={}){let n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Bp(e,e.doc));let s=Zy(e),i=Qy(e),a=Hp(e),o=eS(e,{win:n}),c=nS(e),m=iS(e),f=()=>{},v=()=>{},E=()=>{},I=()=>{};e.recordDOM&&(f=rS(e,{win:n}),v=$p(e,e.doc),E=sS(e,{win:n}),e.collectFonts&&(I=aS(e)));let w=oS(e),R=cS(e),$=[];for(let k of e.plugins)$.push(k.observer(k.callback,n,k.options));return ye(()=>{is.forEach(k=>k.reset()),Zt([r,"optionalAccess",k=>k.disconnect,"call",k=>k()]),s(),i(),a(),o(),c(),m(),f(),v(),E(),I(),w(),R(),$.forEach(k=>k())})}function Fa(e){return typeof window[e]<"u"}function Ua(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var mi=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){let i=r||this.getIdToRemoteIdMap(t),a=s||this.getRemoteIdToIdMap(t),o=i.get(n);return o||(o=this.generateIdFn(),i.set(n,o),a.set(o,n)),o}getIds(t,n){let r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(i=>this.getId(t,i,r,s))}getRemoteId(t,n,r){let s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;let i=s.get(n);return i||-1}getRemoteIds(t,n){let r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}};function pp(e){let t,n=e[0],r=1;for(;r<e.length;){let s=e[r],i=e[r+1];if(r+=2,(s==="optionalAccess"||s==="optionalCall")&&n==null)return;s==="access"||s==="optionalAccess"?(t=n,n=i(n)):(s==="call"||s==="optionalCall")&&(n=i((...a)=>n.call(t,...a)),t=void 0)}return n}var su=class{constructor(){this.crossOriginIframeMirror=new mi(Tu),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},iu=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new mi(Tu),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new mi(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),pp([this,"access",s=>s.loadListener,"optionalCall",s=>s(t)]);let r=wu(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){let n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;let s=this.crossOriginIframeMap.get(t.source);if(!s)return;let i=this.transformCrossOriginEvent(s,n.data.event);i&&this.wrappedEmit(i,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case me.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);let r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:me.IncrementalSnapshot,data:{source:ie.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case me.Meta:case me.Load:case me.DomContentLoaded:return!1;case me.Plugin:return n;case me.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case me.IncrementalSnapshot:switch(n.data.source){case ie.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);let s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(r.node,s)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case ie.Drag:case ie.TouchMove:case ie.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case ie.ViewportResize:return!1;case ie.MediaInteraction:case ie.MouseInteraction:case ie.Scroll:case ie.CanvasMutation:case ie.Input:return this.replaceIds(n.data,t,["id"]),n;case ie.StyleSheetRule:case ie.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case ie.Font:return n;case ie.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case ie.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),pp([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(s=>{this.replaceStyleIds(s,t,["styleId"])})]),n}}return!1}replace(t,n,r,s){for(let i of s)!Array.isArray(n[i])&&typeof n[i]!="number"||(Array.isArray(n[i])?n[i]=t.getIds(r,n[i]):n[i]=t.getId(r,n[i]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ze.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}},au=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},ou=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!ci(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let r=Bp({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Hp({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ro(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push($p({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let n=wu(t),r=Vy(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){let r=this;this.restoreHandlers.push(bu(t.prototype,"attachShadow",function(s){return function(i){let a=s.call(this,i);return this.shadowRoot&&Fp(this)&&r.addShadowRoot(this.shadowRoot,n),a}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Va=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},cu=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new eu,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;let r={id:n,styleIds:[]},s=[];for(let i of t){let a;this.styleMirror.has(i)?a=this.styleMirror.getId(i):(a=this.styleMirror.add(i),s.push({styleId:a,rules:Array.from(i.rules||CSSRule,(o,c)=>({rule:Ep(o),index:c}))})),r.styleIds.push(a)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},uu=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){let r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,zy(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}},Le,Ya;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=Jr([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var Jt=_y();function An(e={}){let{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:o="rr-ignore",ignoreSelector:c=null,maskAllText:m=!1,maskTextClass:f="rr-mask",unmaskTextClass:v=null,maskTextSelector:E=null,unmaskTextSelector:I=null,inlineStylesheet:w=!0,maskAllInputs:R,maskInputOptions:$,slimDOMOptions:k,maskAttributeFn:K,maskInputFn:oe,maskTextFn:pe,maxCanvasSize:se=null,packFn:D,sampling:M={},dataURLOptions:Z={},mousemoveWait:H,recordDOM:L=!0,recordCanvas:S=!1,recordCrossOriginIframes:G=!1,recordAfter:Se=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:be=!1,collectFonts:He=!1,inlineImages:ae=!1,plugins:Pe,keepIframeSrcFn:ge=()=>!1,ignoreCSSAttributes:Ne=new Set([]),errorHandler:ft,onMutation:er,getCanvasManager:ki}=e;Xy(ft);let en=G?window.parent===window:!0,Ot=!1;if(!en)try{window.parent.document&&(Ot=!1)}catch{Ot=!0}if(en&&!t)throw new Error("emit function is required");if(!en&&!Ot)return()=>{};H!==void 0&&M.mousemove===void 0&&(M.mousemove=H),Jt.reset();let ys=R===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:$!==void 0?$:{},tr=k===!0||k==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:k==="all",headMetaDescKeywords:k==="all"}:k||{};qy();let Ss,vs=0,Ai=_e=>{for(let T of Pe||[])T.eventProcessor&&(_e=T.eventProcessor(_e));return D&&!Ot&&(_e=D(_e)),_e};Le=(_e,T)=>{let l=_e;if(l.timestamp=za(),Jr([is,"access",g=>g[0],"optionalAccess",g=>g.isFrozen,"call",g=>g()])&&l.type!==me.FullSnapshot&&!(l.type===me.IncrementalSnapshot&&l.data.source===ie.Mutation)&&is.forEach(g=>g.unfreeze()),en)Jr([t,"optionalCall",g=>g(Ai(l),T)]);else if(Ot){let g={type:"rrweb",event:Ai(l),origin:window.location.origin,isCheckout:T};window.parent.postMessage(g,"*")}if(l.type===me.FullSnapshot)Ss=l,vs=0;else if(l.type===me.IncrementalSnapshot){if(l.data.source===ie.Mutation&&l.data.isAttachIframe)return;vs++;let g=r&&vs>=r,d=n&&Ss&&l.timestamp-Ss.timestamp>n;(g||d)&&Es(!0)}};let Dn=_e=>{Le({type:me.IncrementalSnapshot,data:{source:ie.Mutation,..._e}})},Ri=_e=>Le({type:me.IncrementalSnapshot,data:{source:ie.Scroll,..._e}}),ho=_e=>Le({type:me.IncrementalSnapshot,data:{source:ie.CanvasMutation,..._e}}),go=_e=>Le({type:me.IncrementalSnapshot,data:{source:ie.AdoptedStyleSheet,..._e}}),Mt=new cu({mutationCb:Dn,adoptedStyleSheetCb:go}),le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new su:new iu({mirror:Jt,mutationCb:Dn,stylesheetManager:Mt,recordCrossOriginIframes:G,wrappedEmit:Le});for(let _e of Pe||[])_e.getMirror&&_e.getMirror({nodeMirror:Jt,crossOriginIframeMirror:le.crossOriginIframeMirror,crossOriginIframeStyleMirror:le.crossOriginIframeStyleMirror});let Mr=new uu,Dr=dS(ki,{mirror:Jt,win:window,mutationCb:_e=>Le({type:me.IncrementalSnapshot,data:{source:ie.CanvasMutation,..._e}}),recordCanvas:S,blockClass:s,blockSelector:i,unblockSelector:a,maxCanvasSize:se,sampling:M.canvas,dataURLOptions:Z,errorHandler:ft}),bt=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new au:new ou({mutationCb:Dn,scrollCb:Ri,bypassOptions:{onMutation:er,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:m,maskTextClass:f,unmaskTextClass:v,maskTextSelector:E,unmaskTextSelector:I,inlineStylesheet:w,maskInputOptions:ys,dataURLOptions:Z,maskAttributeFn:K,maskTextFn:pe,maskInputFn:oe,recordCanvas:S,inlineImages:ae,sampling:M,slimDOMOptions:tr,iframeManager:le,stylesheetManager:Mt,canvasManager:Dr,keepIframeSrcFn:ge,processedNodeManager:Mr},mirror:Jt}),Es=(_e=!1)=>{if(!L)return;Le({type:me.Meta,data:{href:window.location.href,width:Np(),height:Cp()}},_e),Mt.reset(),bt.init(),is.forEach(l=>l.lock());let T=Hy(document,{mirror:Jt,blockClass:s,blockSelector:i,unblockSelector:a,maskAllText:m,maskTextClass:f,unmaskTextClass:v,maskTextSelector:E,unmaskTextSelector:I,inlineStylesheet:w,maskAllInputs:ys,maskAttributeFn:K,maskInputFn:oe,maskTextFn:pe,slimDOM:tr,dataURLOptions:Z,recordCanvas:S,inlineImages:ae,onSerialize:l=>{Dp(l,Jt)&&le.addIframe(l),Lp(l,Jt)&&Mt.trackLinkElement(l),Qc(l)&&bt.addShadowRoot(l.shadowRoot,document)},onIframeLoad:(l,g)=>{le.attachIframe(l,g),l.contentWindow&&Dr.addWindow(l.contentWindow),bt.observeAttachShadow(l)},onStylesheetLoad:(l,g)=>{Mt.attachLinkElement(l,g)},keepIframeSrcFn:ge});if(!T)return console.warn("Failed to snapshot the document");Le({type:me.FullSnapshot,data:{node:T,initialOffset:xp(window)}}),is.forEach(l=>l.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Mt.adoptStyleSheets(document.adoptedStyleSheets,Jt.getId(document))};Ya=Es;try{let _e=[],T=g=>ye(uS)({onMutation:er,mutationCb:Dn,mousemoveCb:(d,h)=>Le({type:me.IncrementalSnapshot,data:{source:h,positions:d}}),mouseInteractionCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.MouseInteraction,...d}}),scrollCb:Ri,viewportResizeCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.ViewportResize,...d}}),inputCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.Input,...d}}),mediaInteractionCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.MediaInteraction,...d}}),styleSheetRuleCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.StyleSheetRule,...d}}),styleDeclarationCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.StyleDeclaration,...d}}),canvasMutationCb:ho,fontCb:d=>Le({type:me.IncrementalSnapshot,data:{source:ie.Font,...d}}),selectionCb:d=>{Le({type:me.IncrementalSnapshot,data:{source:ie.Selection,...d}})},customElementCb:d=>{Le({type:me.IncrementalSnapshot,data:{source:ie.CustomElement,...d}})},blockClass:s,ignoreClass:o,ignoreSelector:c,maskAllText:m,maskTextClass:f,unmaskTextClass:v,maskTextSelector:E,unmaskTextSelector:I,maskInputOptions:ys,inlineStylesheet:w,sampling:M,recordDOM:L,recordCanvas:S,inlineImages:ae,userTriggeredOnInput:be,collectFonts:He,doc:g,maskAttributeFn:K,maskInputFn:oe,maskTextFn:pe,keepIframeSrcFn:ge,blockSelector:i,unblockSelector:a,slimDOMOptions:tr,dataURLOptions:Z,mirror:Jt,iframeManager:le,stylesheetManager:Mt,shadowDomManager:bt,processedNodeManager:Mr,canvasManager:Dr,ignoreCSSAttributes:Ne,plugins:Jr([Pe,"optionalAccess",d=>d.filter,"call",d=>d(h=>h.observer),"optionalAccess",d=>d.map,"call",d=>d(h=>({observer:h.observer,options:h.options,callback:p=>Le({type:me.Plugin,data:{plugin:h.name,payload:p}})}))])||[]},{});le.addLoadListener(g=>{try{_e.push(T(g.contentDocument))}catch(d){console.warn(d)}});let l=()=>{Es(),_e.push(T(document))};return document.readyState==="interactive"||document.readyState==="complete"?l():(_e.push(pt("DOMContentLoaded",()=>{Le({type:me.DomContentLoaded,data:{}}),Se==="DOMContentLoaded"&&l()})),_e.push(pt("load",()=>{Le({type:me.Load,data:{}}),Se==="load"&&l()},window))),()=>{_e.forEach(g=>g()),Mr.destroy(),Ya=void 0,Jy()}}catch(_e){console.warn(_e)}}function lS(e){if(!Ya)throw new Error("please take full snapshot after start recording");Ya(e)}An.mirror=Jt;An.takeFullSnapshot=lS;function dS(e,t){try{return e?e(t):new Va}catch{return console.warn("Unable to initialize CanvasManager"),new Va}}var pS=3,fS=5;function ku(e){return e>9999999999?e:e*1e3}function Gc(e){return e>9999999999?e/1e3:e}function Si(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:me.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:lt(t,10,1e3)}}),t.category==="console")))}var mS="button,a";function qp(e){return e.closest(mS)||e}function jp(e){let t=Wp(e);return!t||!(t instanceof Element)?t:qp(t)}function Wp(e){return hS(e)?e.target:e}function hS(e){return typeof e=="object"&&!!e&&"target"in e}var Yn;function gS(e){return Yn||(Yn=[],_S()),Yn.push(e),()=>{let t=Yn?Yn.indexOf(e):-1;t>-1&&Yn.splice(t,1)}}function _S(){Fe(Re,"open",function(e){return function(...t){if(Yn)try{Yn.forEach(n=>n())}catch{}return e.apply(Re,t)}})}var yS=new Set([ie.Mutation,ie.StyleSheetRule,ie.StyleDeclaration,ie.AdoptedStyleSheet,ie.CanvasMutation,ie.Selection,ie.MediaInteraction]);function SS(e,t,n){e.handleClick(t,n)}var lu=class{constructor(t,n,r=Si){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){let t=gS(()=>{this._lastMutation=fp()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(ES(n,this._ignoreSelector)||!TS(t))return;let r={timestamp:Gc(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Gc(t)}registerScroll(t=Date.now()){this._lastScroll=Gc(t)}registerClick(t){let n=qp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){let t=[],n=fp();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(let r of t){let s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,i=!r&&!s,{clickCount:a,clickBreadcrumb:o}=t;if(i){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,m=c<this._timeout*1e3?"mutation":"timeout",f={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.slowClickDetected",data:{...o.data,url:Re.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:m,clickCount:a||1}};this._addBreadcrumbEvent(n,f);return}if(a>1){let c={type:"default",message:o.message,timestamp:o.timestamp,category:"ui.multiClick",data:{...o.data,url:Re.location.href,route:n.getCurrentRoute(),clickCount:a,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=zn(()=>this._checkClicks(),1e3)}},vS=["A","BUTTON","INPUT"];function ES(e,t){return!!(!vS.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function TS(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function fp(){return Date.now()/1e3}function bS(e,t){try{if(!IS(t))return;let{source:n}=t.data;if(yS.has(n)&&e.registerMutation(t.timestamp),n===ie.Scroll&&e.registerScroll(t.timestamp),wS(t)){let{type:r,id:s}=t.data,i=An.mirror.getNode(s);i instanceof HTMLElement&&r===dt.Click&&e.registerClick(i)}}catch{}}function IS(e){return e.type===pS}function wS(e){return e.data.source===ie.MouseInteraction}function dn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ka;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(Ka||(Ka={}));var kS=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function AS(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let n in e)if(kS.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}var RS=e=>t=>{if(!e.isEnabled())return;let n=xS(t);if(!n)return;let r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&s&&s.target&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&SS(e.clickDetector,n,jp(t.event)),Si(e,n)};function zp(e,t){let n=An.mirror.getId(e),r=n&&An.mirror.getNode(n),s=r&&An.mirror.getMeta(r),i=s&&NS(s)?s:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map(a=>a.type===Ka.Text&&a.textContent).filter(Boolean).map(a=>a.trim()).join(""),attributes:AS(i.attributes)}}:{}}}function xS(e){let{target:t,message:n}=CS(e);return dn({category:`ui.${e.name}`,...zp(t,n)})}function CS(e){let t=e.name==="click",n,r=null;try{r=t?jp(e.event):Wp(e.event),n=tt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function NS(e){return e.type===Ka.Element}function OS(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=MS(t);n&&Si(e,n)}function MS(e){let{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i,target:a}=e;if(!a||DS(a)||!i)return null;let o=t||r||s,c=i.length===1;if(!o&&c)return null;let m=tt(a,{maxStringLength:200})||"<unknown>",f=zp(a,m);return dn({category:"ui.keyDown",message:m,data:{...f.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:i}})}function DS(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var LS={resource:HS,paint:US,navigation:BS};function Ba(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n))}}function PS(e){return e.map(FS).filter(Boolean)}function FS(e){let t=LS[e.entryType];return t?t(e):null}function cs(e){return((De||Re.performance.timeOrigin)+e)/1e3}function US(e){let{duration:t,entryType:n,name:r,startTime:s}=e,i=cs(s);return{type:n,name:r,start:i,end:i+t,data:void 0}}function BS(e){let{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,domInteractive:m,loadEventStart:f,loadEventEnd:v,redirectCount:E,startTime:I,transferSize:w,type:R}=e;return s===0?null:{type:`${t}.${R}`,start:cs(I),end:cs(i),name:n,data:{size:w,decodedBodySize:r,encodedBodySize:a,duration:s,domInteractive:m,domContentLoadedEventStart:o,domContentLoadedEventEnd:c,loadEventStart:f,loadEventEnd:v,domComplete:i,redirectCount:E}}}function HS(e){let{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:i,decodedBodySize:a,encodedBodySize:o,responseStatus:c,transferSize:m}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:cs(i),end:cs(s),name:r,data:{size:m,statusCode:c,decodedBodySize:a,encodedBodySize:o}}}function $S(e){let t=e.entries[e.entries.length-1],n=t&&t.element?[t.element]:void 0;return so(e,"largest-contentful-paint",n)}function qS(e){return e.sources!==void 0}function jS(e){let t=[],n=[];for(let r of e.entries)if(qS(r)){let s=[];for(let i of r.sources)if(i.node){n.push(i.node);let a=An.mirror.getId(i.node);a&&s.push(a)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return so(e,"cumulative-layout-shift",n,t)}function WS(e){let t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return so(e,"first-input-delay",n)}function zS(e){let t=e.entries[e.entries.length-1],n=t&&t.target?[t.target]:void 0;return so(e,"interaction-to-next-paint",n)}function so(e,t,n,r){let s=e.value,i=e.rating,a=cs(s);return{type:"web-vital",name:t,start:a,end:a,data:{value:s,size:s,rating:i,nodeIds:n?n.map(o=>An.mirror.getId(o)):void 0,attributions:r}}}function GS(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Kt(s,n))}),r.push(Js(Ba($S,e)),pr(Ba(jS,e)),Zs(Ba(WS,e)),Qs(Ba(zS,e))),()=>{r.forEach(s=>s())}}var te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,VS='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function YS(){let e=new Blob([VS]);return URL.createObjectURL(e)}var mp=["info","warn","error","log"],Ha="[Replay] ";function Vc(e,t="info"){yt({category:"console",data:{logger:"replay"},level:t,message:`${Ha}${e}`},{level:t})}function KS(){let e=!1,t=!1,n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=r.captureExceptions,t=r.traceInternals}};return te?(mp.forEach(r=>{n[r]=(...s)=>{A[r](Ha,...s),t&&Vc(s.join(""),zs(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),A.error(Ha,r),e?Tn(r):t&&Vc(r,"error")},n.infoTick=(...r)=>{A.info(Ha,...r),t&&setTimeout(()=>Vc(r[0]),0)}):mp.forEach(r=>{n[r]=()=>{}}),n}var re=KS(),hi=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${vu}.`)}},Xa=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>vu)throw new hi;this.events.push(t)}finish(){return new Promise(t=>{let n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(n=>n.timestamp).sort()[0];return t?ku(t):null}},du=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){te&&re.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){let r=this._getAndIncrementId();return new Promise((s,i)=>{let a=({data:o})=>{let c=o;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",a),!c.success){te&&re.error("Error in compression worker: ",c.response),i(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",a),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}},pu=class{constructor(t){this._worker=new du(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let n=ku(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);let r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>vu?Promise.reject(new hi):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{te&&re.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},fu=class{constructor(t){this._fallback=new Xa,this._compression=new pu(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){te&&re.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(let i of t)s.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(i){te&&re.exception(i,"Failed to add events when switching buffers.")}}};function XS({useCompression:e,workerUrl:t}){if(e&&window.Worker){let n=JS(t);if(n)return n}return te&&re.info("Using simple buffer"),new Xa}function JS(e){try{let t=e||ZS();if(!t)return;te&&re.info(`Using compression worker${e?` from ${e}`:""}`);let n=new Worker(t);return new fu(n)}catch(t){te&&re.exception(t,"Failed to create compression worker")}}function ZS(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?YS():""}function Au(){try{return"sessionStorage"in Re&&!!Re.sessionStorage}catch{return!1}}function QS(e){ev(),e.session=void 0}function ev(){if(Au())try{Re.sessionStorage.removeItem(yu)}catch{}}function Gp(e){return e===void 0?!1:Math.random()<e}function Vp(e){let t=Date.now(),n=e.id||Be(),r=e.started||t,s=e.lastActivity||t,i=e.segmentId||0,a=e.sampled,o=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:i,sampled:a,previousSessionId:o}}function Ru(e){if(Au())try{Re.sessionStorage.setItem(yu,JSON.stringify(e))}catch{}}function tv(e,t){return Gp(e)?"session":t?"buffer":!1}function hp({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let s=tv(e,t),i=Vp({sampled:s,previousSessionId:r});return n&&Ru(i),i}function nv(){if(!Au())return null;try{let e=Re.sessionStorage.getItem(yu);if(!e)return null;let t=JSON.parse(e);return te&&re.infoTick("Loading existing session"),Vp(t)}catch{return null}}function mu(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function Yp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return mu(e.started,t,r)||mu(e.lastActivity,n,r)}function Kp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!Yp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Yc({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let s=r.stickySession&&nv();return s?Kp(s,{sessionIdleExpire:e,maxReplayDuration:t})?(te&&re.infoTick("Session in sessionStorage is expired, creating new one..."),hp(r,{previousSessionId:s.id})):s:(te&&re.infoTick("Creating new session"),hp(r,{previousSessionId:n}))}function rv(e){return e.type===me.Custom}function xu(e,t,n){return Jp(e,t)?(Xp(e,t,n),!0):!1}function sv(e,t,n){return Jp(e,t)?Xp(e,t,n):Promise.resolve(null)}async function Xp(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let i=e.getOptions(),a=iv(t,i.beforeAddRecordingEvent);return a?await r.addEvent(a):void 0}catch(i){let a=i&&i instanceof hi,o=a?"addEventSizeExceeded":"addEvent";if(a&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(i),await e.stop({reason:o});let c=Y();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function Jp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=ku(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(te&&re.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function iv(e,t){try{if(typeof t=="function"&&rv(e))return t(e)}catch(n){return te&&re.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Cu(e){return!e.type}function hu(e){return e.type==="transaction"}function av(e){return e.type==="replay_event"}function gp(e){return e.type==="feedback"}function ov(e){return(t,n)=>{if(!e.isEnabled()||!Cu(t)&&!hu(t))return;let r=n&&n.statusCode;if(!(!r||r<200||r>=300)){if(hu(t)){cv(e,t);return}uv(e,t)}}}function cv(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function uv(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||zn(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function lv(e){return t=>{!e.isEnabled()||!Cu(t)||dv(e,t)}}function dv(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let r=dn({category:"replay.hydrate-error",data:{url:Rs()}});Si(e,r)}}function pv(e){let t=Y();t&&t.on("beforeAddBreadcrumb",n=>fv(e,n))}function fv(e,t){if(!e.isEnabled()||!Zp(t))return;let n=mv(t);n&&Si(e,n)}function mv(e){return!Zp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?hv(e):dn(e)}function hv(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return dn(e);let n=!1,r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>Pa?(n=!0,`${s.slice(0,Pa)}\u2026`):s;if(typeof s=="object")try{let i=lt(s,7);return JSON.stringify(i).length>Pa?(n=!0,`${JSON.stringify(i,null,2).slice(0,Pa)}\u2026`):i}catch{}return s});return dn({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Zp(e){return!!e.category}function gv(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Qp(){let e=ce().getPropagationContext().dsc;e&&delete e.replay_id;let t=ve();if(t){let n=ut(t);delete n.replay_id}}function _v(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:me.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function yv(e,t){return e.recordingMode!=="buffer"||t.message===Su||!t.exception||t.type?!1:Gp(e.getOptions().errorSampleRate)}function Sv(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:av(t)?(delete t.breadcrumbs,t):!Cu(t)&&!hu(t)&&!gp(t)?t:e.checkAndHandleExpiredSession()?gp(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),_v(e,t),t):gv(t,n)&&!e.getOptions()._experiments.captureExceptions?(te&&re.log("Ignoring error from rrweb internals",t),null):((yv(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Qp(),t),{id:"Replay"})}function io(e,t){return t.map(({type:n,start:r,end:s,name:i,data:a})=>{let o=e.throttledAddEvent({type:me.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:i,startTimestamp:r,endTimestamp:s,data:a}}});return typeof o=="string"?Promise.resolve(null):o})}function vv(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function Ev(e){return t=>{if(!e.isEnabled())return;let n=vv(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(io(e,[n]),!1)))}}function Tv(e,t){return te&&e.getOptions()._experiments.traceInternals?!1:oc(t,Y())}function ef(e,t){e.isEnabled()&&t!==null&&(Tv(e,t.name)||e.addUpdate(()=>(io(e,[t]),!0)))}function ao(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=sf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function tf(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function nf(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[sf(e)];if(!e)return[void 0]}catch(t){return te&&re.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return te&&re.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ja(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function rf(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:s,method:i,statusCode:a,request:o,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:Ee({method:i,statusCode:a,request:o,response:c})}}function gi(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Kn(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:s,warnings:i}=bv(n);return r.body=s,i&&i.length>0&&(r._meta={warnings:i}),r}function gu(e,t){return Object.entries(e).reduce((n,[r,s])=>{let i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=s),n},{})}function sf(e){return new URLSearchParams(e).toString()}function bv(e){if(!e||typeof e!="string")return{body:e};let t=e.length>Jd,n=Iv(e);if(t){let r=e.slice(0,Jd);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Iv(e){let t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Za(e,t){let n=wv(e);return Dt(n,t)}function wv(e,t=Re.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Re.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function kv(e,t,n){try{let r=await Rv(e,t,n),s=rf("resource.fetch",r);ef(n.replay,s)}catch(r){te&&re.exception(r,"Failed to capture fetch breadcrumb")}}function Av(e,t){let{input:n,response:r}=t,s=n?af(n):void 0,i=ao(s),a=r?tf(r.headers.get("content-length")):void 0;i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}async function Rv(e,t,n){let r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r}=t,{url:a,method:o,status_code:c=0,request_body_size:m,response_body_size:f}=e.data,v=Za(a,n.networkDetailAllowUrls)&&!Za(a,n.networkDetailDenyUrls),E=v?xv(n,t.input,m):gi(m),I=await Cv(v,n,t.response,f);return{startTimestamp:s,endTimestamp:i,url:a,method:o,statusCode:c,request:E,response:I}}function xv({networkCaptureBodies:e,networkRequestHeaders:t},n,r){let s=n?Mv(n,t):{};if(!e)return Kn(s,r,void 0);let i=af(n),[a,o]=nf(i),c=Kn(s,r,a);return o?Ja(c,o):c}async function Cv(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return gi(s);let i=r?of(r.headers,n):{};if(!r||!t&&s!==void 0)return Kn(i,s,void 0);let[a,o]=await Ov(r),c=Nv(a,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:i});return o?Ja(c,o):c}function Nv(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{let i=e&&e.length&&n===void 0?ao(e):n;return r?t?Kn(s,i,e):Kn(s,i,void 0):gi(i)}catch(i){return te&&re.exception(i,"Failed to serialize response body"),Kn(s,n,void 0)}}async function Ov(e){let t=Dv(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Lv(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(te&&re.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(te&&re.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function af(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function of(e,t){let n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Mv(e,t){return e.length===1&&typeof e[0]!="string"?_p(e[0],t):e.length===2?_p(e[1],t):{}}function _p(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?of(n,t):Array.isArray(n)?{}:gu(n,t):{}}function Dv(e){try{return e.clone()}catch(t){te&&re.exception(t,"Failed to clone response body")}}function Lv(e){return new Promise((t,n)=>{let r=zn(()=>n(new Error("Timeout while trying to read response body")),500);Pv(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function Pv(e){return await e.text()}async function Fv(e,t,n){try{let r=Bv(e,t,n),s=rf("resource.xhr",r);ef(n.replay,s)}catch(r){te&&re.exception(r,"Failed to capture xhr breadcrumb")}}function Uv(e,t){let{xhr:n,input:r}=t;if(!n)return;let s=ao(r),i=n.getResponseHeader("content-length")?tf(n.getResponseHeader("content-length")):jv(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}function Bv(e,t,n){let r=Date.now(),{startTimestamp:s=r,endTimestamp:i=r,input:a,xhr:o}=t,{url:c,method:m,status_code:f=0,request_body_size:v,response_body_size:E}=e.data;if(!c)return null;if(!o||!Za(c,n.networkDetailAllowUrls)||Za(c,n.networkDetailDenyUrls)){let D=gi(v),M=gi(E);return{startTimestamp:s,endTimestamp:i,url:c,method:m,statusCode:f,request:D,response:M}}let I=o[Xt],w=I?gu(I.request_headers,n.networkRequestHeaders):{},R=gu(Hv(o),n.networkResponseHeaders),[$,k]=n.networkCaptureBodies?nf(a):[void 0],[K,oe]=n.networkCaptureBodies?$v(o):[void 0],pe=Kn(w,v,$),se=Kn(R,E,K);return{startTimestamp:s,endTimestamp:i,url:c,method:m,statusCode:f,request:k?Ja(pe,k):pe,response:oe?Ja(se,oe):se}}function Hv(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{let[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}function $v(e){let t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return qv(e.response,e.responseType)}catch(n){t.push(n)}return te&&re.warn("Failed to get xhr response body",...t),[void 0]}function qv(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return te&&re.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return te&&re.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function jv(e,t){try{let n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ao(n)}catch{return}}function Wv(e){let t=Y();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on("beforeAddBreadcrumb",(c,m)=>zv(o,c,m))}catch{}}function zv(e,t,n){if(t.data)try{Gv(t)&&Yv(n)&&(Uv(t,n),Fv(t,n,e)),Vv(t)&&Kv(n)&&(Av(t,n),kv(t,n,e))}catch(r){te&&re.exception(r,"Error when enriching network breadcrumb")}}function Gv(e){return e.category==="xhr"}function Vv(e){return e.category==="fetch"}function Yv(e){return e&&e.xhr}function Kv(e){return e&&e.response}function Xv(e){let t=Y();si(RS(e)),wn(Ev(e)),pv(e),Wv(e);let n=Sv(e);ca(n),t&&(t.on("beforeSendEvent",lv(e)),t.on("afterSendEvent",ov(e)),t.on("createDsc",r=>{let s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",(r,s)=>{let i=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&i&&r.contexts&&r.contexts.feedback&&(r.contexts.feedback.replay_id=i)}))}async function Jv(e){try{return Promise.all(io(e,[Zv(Re.performance.memory)]))}catch{return[]}}function Zv(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Qv(e,t,n){let r,s,i,a=n&&n.maxWait?Math.max(n.maxWait,t):0;function o(){return c(),r=e(),r}function c(){s!==void 0&&clearTimeout(s),i!==void 0&&clearTimeout(i),s=i=void 0}function m(){return s!==void 0||i!==void 0?o():r}function f(){return s&&clearTimeout(s),s=zn(o,t),a&&i===void 0&&(i=zn(o,a)),r}return f.cancel=c,f.flush=m,f}var fr=V.navigator;function eE(){return/iPhone|iPad|iPod/i.test(fr&&fr.userAgent||"")||/Macintosh/i.test(fr&&fr.userAgent||"")&&fr&&fr.maxTouchPoints&&fr.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function tE(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){te&&re.warn("Received replay event after session expired.");return}let s=r||!t;t=!0,e.clickDetector&&bS(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!xu(e,n,s))return!0;if(!s)return!1;let i=e.session;if(rE(e,s),e.recordingMode==="buffer"&&i&&e.eventBuffer){let a=e.eventBuffer.getEarliestTimestamp();a&&(te&&re.info(`Updating session start time to earliest event in buffer to ${new Date(a)}`),i.started=a,e.getOptions().stickySession&&Ru(i))}return i&&i.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function nE(e){let t=e.getOptions();return{type:me.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function rE(e,t){!t||!e.session||e.session.segmentId!==0||xu(e,nE(e),!1)}function sE(e,t,n,r){return Ct(Ls(e,Yr(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function iE({recordingData:e,headers:t}){let n,r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{let i=new TextEncoder().encode(r);n=new Uint8Array(i.length+e.length),n.set(i),n.set(e,i.length)}return n}async function aE({client:e,scope:t,replayId:n,event:r}){let s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,i={event_id:n,integrations:s};e.emit("preprocessEvent",r,i);let a=await Fs(e.getOptions(),r,i,t,e,qe());if(!a)return null;a.platform=a.platform||"javascript";let o=e.getSdkMetadata(),{name:c,version:m}=o&&o.sdk||{};return a.sdk={...a.sdk,name:c||"sentry.javascript.unknown",version:m||"0.0.0"},a}async function oE({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:i}){let a=iE({recordingData:e,headers:{segment_id:n}}),{urls:o,errorIds:c,traceIds:m,initialTimestamp:f}=r,v=Y(),E=ce(),I=v&&v.getTransport(),w=v&&v.getDsn();if(!v||!I||!w||!i.sampled)return at({});let R={type:Z_,replay_start_timestamp:f/1e3,timestamp:s/1e3,error_ids:c,trace_ids:m,urls:o,replay_id:t,segment_id:n,replay_type:i.sampled},$=await aE({scope:E,client:v,replayId:t,event:R});if(!$)return v.recordDroppedEvent("event_processor","replay",R),te&&re.info("An event processor returned `null`, will not send event."),at({});delete $.sdkProcessingMetadata;let k=sE($,a,w,v.getOptions().tunnel),K;try{K=await I.send(k)}catch(pe){let se=new Error(Su);try{se.cause=pe}catch{}throw se}if(typeof K.statusCode=="number"&&(K.statusCode<200||K.statusCode>=300))throw new Qa(K.statusCode);let oe=js({},K);if(qs(oe,"replay"))throw new _i(oe);return K}var Qa=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},_i=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function cf(e,t={count:0,interval:sy}){let{recordingData:n,onError:r}=e;if(n.length)try{return await oE(e),!0}catch(s){if(s instanceof Qa||s instanceof _i)throw s;if(oa("Replays",{_retryCount:t.count}),r&&r(s),t.count>=iy){let i=new Error(`${Su} - max retries exceeded`);try{i.cause=s}catch{}throw i}return t.interval*=++t.count,new Promise((i,a)=>{zn(async()=>{try{await cf(e,t),i(!0)}catch(o){a(o)}},t.interval)})}}var uf="__THROTTLED",cE="__SKIPPED";function uE(e,t,n){let r=new Map,s=o=>{let c=o-n;r.forEach((m,f)=>{f<c&&r.delete(f)})},i=()=>[...r.values()].reduce((o,c)=>o+c,0),a=!1;return(...o)=>{let c=Math.floor(Date.now()/1e3);if(s(c),i()>=t){let f=a;return a=!0,f?cE:uf}a=!1;let m=r.get(c)||0;return r.set(c,m+1),e(...o)}}var _u=class e{constructor({options:t,recordingOptions:n}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Q_,sessionIdleExpire:ey},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Qv(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=uE((a,o)=>sv(this,a,o),300,5);let{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),i=r?{threshold:Math.min(ay,r),timeout:r,scrollTimeout:oy,ignoreSelector:s?s.join(","):""}:void 0;if(i&&(this.clickDetector=new lu(this,i)),te){let a=t._experiments;re.setConfig({captureExceptions:!!a.captureExceptions,traceInternals:!!a.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){te&&re.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){te&&re.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",te&&re.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){te&&re.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){te&&re.info("Buffering is in progress, call `flush()` to save the replay");return}te&&re.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=Yc({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){te&&re.info("Buffering is in progress, call `flush()` to save the replay");return}te&&re.infoTick("Starting replay in buffer mode");let t=Yc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=An({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:ry}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:tE(this),...eE(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{te&&re.info(`Stopping Replay${n?` triggered by ${n}`:""}`),Qp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,QS(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),te&&re.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),te&&re.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let n=Date.now();te&&re.info("Converting buffer to session"),await this.flushImmediate();let r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&mu(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${Re.location.pathname}${Re.location.hash}${Re.location.search}`,n=`${Re.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){let r=this._throttledAddEvent(t,n);if(r===uf){let s=dn({category:"replay.throttled"});this.addUpdate(()=>!xu(this,{type:fS,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){let t=this.lastActiveSpan||ve(),n=t&&Te(t),s=(n&&ee(n).data||{})[Ge];if(!(!n||!s||!["route","custom"].includes(s)))return ee(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=XS({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let n=this._options.errorSampleRate>0,r=Yc({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;let t=this.session;return Kp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{Re.document.addEventListener("visibilitychange",this._handleVisibilityChange),Re.addEventListener("blur",this._handleWindowBlur),Re.addEventListener("focus",this._handleWindowFocus),Re.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Xv(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=GS(this)}_removeListeners(){try{Re.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Re.removeEventListener("blur",this._handleWindowBlur),Re.removeEventListener("focus",this._handleWindowFocus),Re.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{Re.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=dn({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=dn({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{OS(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Yp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){te&&re.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:me.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=PS(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(io(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;let r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){te&&re.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await Jv(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let r=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await cf({replayId:t,recordingData:i,segmentId:s,eventContext:r,session:this.session,timestamp:n,onError:a=>this.handleException(a)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});let r=Y();if(r){let s=n instanceof _i?"ratelimit_backoff":"send_error";r.recordDroppedEvent(s,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){te&&re.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();let i=s<this._options.minReplayDuration,a=s>this._options.maxReplayDuration+5e3;if(i||a){te&&re.info(`Session duration (${Math.floor(s/1e3)}s) is too ${i?"short":"long"}, not sending replay.`),i&&this._debouncedFlush();return}let o=this.eventBuffer;o&&this.session.segmentId===0&&!o.hasCheckout&&te&&re.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(m){this.handleException(m)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ru(this.session)}__init6(){this._onMutationHandler=t=>{let n=t.length,r=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=r&&n>r;if(n>s||i){let a=dn({category:"replay.mutations",data:{count:n,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function ai(e,t){return[...e,...t].join(",")}function lE({mask:e,unmask:t,block:n,unblock:r,ignore:s}){let i=["base","iframe[srcdoc]:not([src])"],a=ai(e,[".sentry-mask","[data-sentry-mask]"]),o=ai(t,[]);return{maskTextSelector:a,unmaskTextSelector:o,blockSelector:ai(n,[".sentry-block","[data-sentry-block]",...i]),unblockSelector:ai(r,[]),ignoreSelector:ai(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function dE({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:i}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?i:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i}var yp='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',pE=["content-length","content-type","accept"],Sp=!1,Nu=(e=>new eo(e)),eo=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=ty,flushMaxDelay:n=ny,minReplayDuration:r=cy,maxReplayDuration:s=Zd,stickySession:i=!0,useCompression:a=!0,workerUrl:o,_experiments:c={},maskAllText:m=!0,maskAllInputs:f=!0,blockAllMedia:v=!0,mutationBreadcrumbLimit:E=750,mutationLimit:I=1e4,slowClickTimeout:w=7e3,slowClickIgnoreSelectors:R=[],networkDetailAllowUrls:$=[],networkDetailDenyUrls:k=[],networkCaptureBodies:K=!0,networkRequestHeaders:oe=[],networkResponseHeaders:pe=[],mask:se=[],maskAttributes:D=["title","placeholder"],unmask:M=[],block:Z=[],unblock:H=[],ignore:L=[],maskFn:S,beforeAddRecordingEvent:G,beforeErrorSampling:Se,onError:be}={}){this.name=e.id;let He=lE({mask:se,unmask:M,block:Z,unblock:H,ignore:L});if(this._recordingOptions={maskAllInputs:f,maskAllText:m,maskInputOptions:{password:!0},maskTextFn:S,maskInputFn:S,maskAttributeFn:(ae,Pe,ge)=>dE({maskAttributes:D,maskAllText:m,privacyOptions:He,key:ae,value:Pe,el:ge}),...He,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:ae=>{try{ae.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,uy),maxReplayDuration:Math.min(s,Zd),stickySession:i,useCompression:a,workerUrl:o,blockAllMedia:v,maskAllInputs:f,maskAllText:m,mutationBreadcrumbLimit:E,mutationLimit:I,slowClickTimeout:w,slowClickIgnoreSelectors:R,networkDetailAllowUrls:$,networkDetailDenyUrls:k,networkCaptureBodies:K,networkRequestHeaders:vp(oe),networkResponseHeaders:vp(pe),beforeAddRecordingEvent:G,beforeErrorSampling:Se,onError:be,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${yp}`:yp),this._isInitialized&&ya())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Sp}set _isInitialized(t){Sp=t}afterAllSetup(t){!ya()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let n=fE(this._initialOptions,t);this._replay=new _u({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}};eo.__initStatic();function fE(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...Ee(e)},s=$n(n.replaysSessionSampleRate),i=$n(n.replaysOnErrorSampleRate);return s==null&&i==null&&Ze(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),i!=null&&(r.errorSampleRate=i),r}function vp(e){return[...pE,...e.map(t=>t.toLowerCase())]}var lf=new WeakMap,Ou=new Map,vi={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function pf(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:a,tracePropagationTargets:o}={traceFetch:vi.traceFetch,traceXHR:vi.traceXHR,trackFetchStreamPerformance:vi.trackFetchStreamPerformance,...t},c=typeof i=="function"?i:v=>!0,m=v=>gE(v,o),f={};n&&(e.addEventProcessor(v=>(v.type==="transaction"&&v.spans&&v.spans.forEach(E=>{if(E.op==="http.client"){let I=Ou.get(E.span_id);I&&(E.timestamp=I/1e3,Ou.delete(E.span_id))}}),v)),s&&gc(v=>{if(v.response){let E=lf.get(v.response);E&&v.endTimestamp&&Ou.set(E,v.endTimestamp)}}),Vs(v=>{let E=pc(v,c,m,f);if(v.response&&v.fetchData.__span&&lf.set(v.response,v.fetchData.__span),E){let I=ff(v.fetchData.url),w=I?Pt(I).host:void 0;E.setAttributes({"http.url":I,"server.address":w})}a&&E&&df(E)})),r&&ii(v=>{let E=_E(v,c,m,f);a&&E&&df(E)})}function mE(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function df(e){let{url:t}=ee(e).data||{};if(!t||typeof t!="string")return;let n=Kt("resource",({entries:r})=>{r.forEach(s=>{mE(s)&&s.name.endsWith(t)&&(hE(s).forEach(a=>e.setAttribute(...a)),setTimeout(n))})})}function pn(e=0){return((De||performance.timeOrigin)+e)/1e3}function hE(e){let{name:t,version:n}=ni(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),De?[...r,["http.request.redirect_start",pn(e.redirectStart)],["http.request.fetch_start",pn(e.fetchStart)],["http.request.domain_lookup_start",pn(e.domainLookupStart)],["http.request.domain_lookup_end",pn(e.domainLookupEnd)],["http.request.connect_start",pn(e.connectStart)],["http.request.secure_connection_start",pn(e.secureConnectionStart)],["http.request.connection_end",pn(e.connectEnd)],["http.request.request_start",pn(e.requestStart)],["http.request.response_start",pn(e.responseStart)],["http.request.response_end",pn(e.responseEnd)]]:r}function gE(e,t){let n=J.location&&J.location.href;if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}let i=r.origin===s;return t?Dt(r.toString(),t)||i&&Dt(r.pathname,t):i}else{let r=!!e.match(/^\/(?!\/)/);return t?Dt(e,t):r}}function _E(e,t,n,r){let s=e.xhr,i=s&&s[Xt];if(!s||s.__sentry_own_request__||!i)return;let a=ct()&&t(i.url);if(e.endTimestamp&&a){let v=s.__sentry_xhr_span_id__;if(!v)return;let E=r[v];E&&i.status_code!==void 0&&(Gr(E,i.status_code),E.end(),delete r[v]);return}let o=ff(i.url),c=o?Pt(o).host:void 0,m=!!ve(),f=a&&m?Yt({name:`${i.method} ${i.url}`,attributes:{type:"xhr","http.method":i.method,"http.url":o,url:i.url,"server.address":c,[we]:"auto.http.browser",[ot]:"http.client"}}):new xt;return s.__sentry_xhr_span_id__=f.spanContext().spanId,r[s.__sentry_xhr_span_id__]=f,n(i.url)&&yE(s,ct()&&m?f:void 0),f}function yE(e,t){let{"sentry-trace":n,baggage:r}=Ws({span:t});n&&SE(e,n,r)}function SE(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch{}}function ff(e){try{return new URL(e,J.location.origin).href}catch{return}}function mf(){J&&J.document?J.document.addEventListener("visibilitychange",()=>{let e=ve();if(!e)return;let t=Te(e);if(J.document.hidden&&t){let n="cancelled",{op:r,status:s}=ee(t);Ke&&A.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:2,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Ke&&A.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var vE="BrowserTracing",EE={...Xr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...vi},Mu=((e={})=>{Xi();let{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:s,enableStandaloneClsSpans:i},beforeStartSpan:a,idleTimeout:o,finalTimeout:c,childSpanTimeout:m,markBackgroundSpan:f,traceFetch:v,traceXHR:E,trackFetchStreamPerformance:I,shouldCreateSpanForRequest:w,enableHTTPTimings:R,instrumentPageLoad:$,instrumentNavigation:k}={...EE,...e},K=Mc({recordClsStandaloneSpans:i||!1});t&&$c(),r&&V.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?Lc():n&&Dc(),s&&Pc();let oe={name:void 0,source:void 0};function pe(se,D){let M=D.op==="pageload",Z=a?a(D):D,H=Z.attributes||{};D.name!==Z.name&&(H[Ge]="custom",Z.attributes=H),oe.name=Z.name,oe.source=H[Ge];let L=na(Z,{idleTimeout:o,finalTimeout:c,childSpanTimeout:m,disableAutoFinish:M,beforeSpanEnd:G=>{K(),Fc(G,{recordClsOnPageloadSpan:!i})}});function S(){["interactive","complete"].includes(J.document.readyState)&&se.emit("idleSpanEnableAutoFinish",L)}return M&&J.document&&(J.document.addEventListener("readystatechange",()=>{S()}),S()),L}return{name:vE,afterAllSetup(se){let D,M=J.location&&J.location.href;function Z(){D&&!ee(D).timestamp&&(Ke&&A.log(`[Tracing] Finishing current active span with op: ${ee(D).op}`),D.end())}se.on("startNavigationSpan",H=>{Y()===se&&(Z(),D=pe(se,{op:"navigation",...H}))}),se.on("startPageLoadSpan",(H,L={})=>{if(Y()!==se)return;Z();let S=L.sentryTrace||hf("sentry-trace"),G=L.baggage||hf("baggage"),Se=Bo(S,G);ce().setPropagationContext(Se),D=pe(se,{op:"pageload",...H})}),se.on("spanEnd",H=>{let L=ee(H).op;if(H!==Te(H)||L!=="navigation"&&L!=="pageload")return;let S=ce(),G=S.getPropagationContext();S.setPropagationContext({...G,sampled:G.sampled!==void 0?G.sampled:Lt(H),dsc:G.dsc||ut(H)})}),J.location&&($&&gf(se,{name:J.location.pathname,startTime:De?De/1e3:void 0,attributes:{[Ge]:"url",[we]:"auto.pageload.browser"}}),k&&wn(({to:H,from:L})=>{if(L===void 0&&M&&M.indexOf(H)!==-1){M=void 0;return}L!==H&&(M=void 0,_f(se,{name:J.location.pathname,attributes:{[Ge]:"url",[we]:"auto.navigation.browser"}}))})),f&&mf(),s&&TE(o,c,m,oe),t&&qc(),pf(se,{traceFetch:v,traceXHR:E,trackFetchStreamPerformance:I,tracePropagationTargets:se.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:w,enableHTTPTimings:R})}}});function gf(e,t,n){e.emit("startPageLoadSpan",t,n),ce().setTransactionName(t.name);let r=ve();return(r&&ee(r).op)==="pageload"?r:void 0}function _f(e,t){qe().setPropagationContext({traceId:gt()}),ce().setPropagationContext({traceId:gt()}),e.emit("startNavigationSpan",t),ce().setTransactionName(t.name);let n=ve();return(n&&ee(n).op)==="navigation"?n:void 0}function hf(e){let t=xo(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function TE(e,t,n,r){let s,i=()=>{let a="ui.action.click",o=ve(),c=o&&Te(o);if(c){let m=ee(c).op;if(["navigation","pageload"].includes(m)){Ke&&A.warn(`[Tracing] Did not create ${a} span because a pageload or navigation span is in progress.`);return}}if(s&&(s.setAttribute(zr,"interactionInterrupted"),s.end(),s=void 0),!r.name){Ke&&A.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}s=na({name:r.name,op:a,attributes:{[Ge]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n})};J.document&&addEventListener("click",i,{once:!1,capture:!0})}function yf(){let e=window.SENTRY_DSN;if(!e){console.log("Sentry DSN not configured, skipping Sentry initialization");return}try{Wc({dsn:e,integrations:[Mu(),Nu()],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:window.ENVIRONMENT||"development",beforeSend(t){return window.ENVIRONMENT==="development"?null:t}}),console.log("Sentry frontend tracking initialized successfully")}catch(t){console.error("Failed to initialize Sentry:",t)}}function Sf(e,t){t?En(n=>{Object.entries(t).forEach(([r,s])=>{n.setContext(r,typeof s=="object"?s:{value:s})}),Tn(e)}):Tn(e)}function vf(e,t,n){yt({message:e,category:t||"user-action",data:n,level:"info"})}function Ef(){let e=document.querySelector(".brand-full"),t=document.querySelector(".brand-compact");e&&sessionStorage.getItem("brandAnimated")==="1"&&(e.classList.add("reverse-animated"),sessionStorage.setItem("brandAnimated","0"),setTimeout(()=>{e.classList.remove("reverse-animated")},800)),t&&sessionStorage.getItem("brandAnimated")!=="1"&&(t.classList.add("animated"),sessionStorage.setItem("brandAnimated","1"))}function oo(e){let n=Array.from((e||document).querySelectorAll("img.lazy"));if(n.length===0)return;let r=s=>{let i=s.getAttribute("data-lqip");i&&(!s.getAttribute("src")||s.getAttribute("src")?.[0]==="#")&&(s.src=i)};if(n.forEach(s=>{if(s.dataset.lazyInitialized)return;s.dataset.lazyInitialized="1";let i=()=>{let o=s.getAttribute("data-src");try{let c=s.currentSrc||s.src||"";(!o||c===o)&&s.classList.add("loaded")}catch{s.classList.add("loaded")}},a=()=>{s.classList.add("loaded")};s.addEventListener("load",i),s.addEventListener("error",a),r(s),s.complete&&(s.naturalWidth&&s.naturalWidth>0?i():a())}),"IntersectionObserver"in window){let s=new IntersectionObserver((i,a)=>{i.forEach(o=>{if(!o.isIntersecting)return;let c=o.target,m=c.getAttribute("data-src");m&&c.src!==m&&(c.src=m),a.unobserve(c)})},{root:null,rootMargin:"200px",threshold:.01});n.forEach(i=>{i.classList.contains("loaded")||s.observe(i)})}else n.forEach(s=>{let i=s.getAttribute("data-src");i&&!s.classList.contains("loaded")&&s.src!==i&&(s.src=i)})}function Tf(){let e=document.getElementById("drawer-panel"),t=document.getElementById("drawer-backdrop");if(!e||!t)return;function n(s){let i=e.dataset.drawerPushed==="true";document.body.classList.remove("drawer-open"),e.innerHTML="",e.setAttribute("aria-hidden","true"),t.setAttribute("aria-hidden","true"),s&&i&&history.back(),delete e.dataset.drawerPushed}function r(s,i,a,o){e.innerHTML=i,e.setAttribute("aria-hidden","false"),t.setAttribute("aria-hidden","false"),document.body.classList.add("drawer-open");let c=e.querySelector(".drawer-close");c&&c.addEventListener("click",()=>n(!0),{once:!0});let m=e.querySelector(".drawer-back-link");m&&m.addEventListener("click",f=>{f.preventDefault(),n(!0)},{once:!0});try{oo(e),Array.from(e.querySelectorAll("img.lazy")).forEach(f=>{let v=f.getAttribute("data-src");v&&f.src!==v&&(f.src=v)})}catch(f){console.warn("initLazyImages failed",f)}if(a){let f=o?`/id/${s}?page=${o}`:`/id/${s}`;history.pushState({drawer:!0,number:s,page:o},"",f),e.dataset.drawerPushed="true"}else e.dataset.drawerPushed="false"}t.addEventListener("click",()=>n(!0)),document.addEventListener("click",s=>{let i=s.target.closest(".id-card");if(!i)return;s.preventDefault();let a=i.getAttribute("href")||i.querySelector("a")?.getAttribute("href");if(!a)return;let o=a.match(/\/id\/(\d+)/);if(!o)return;let c=o[1],f=new URL(a,window.location.origin).searchParams.get("page"),v=f?`/id/${c}?partial=1&page=${f}`:`/id/${c}?partial=1`;fetch(v).then(E=>{if(!E.ok)throw new Error("fetch failed");return E.text()}).then(E=>r(parseInt(c),E,!0,f)).catch(E=>{console.error(E),window.location.href=a})}),document.addEventListener("click",s=>{let i=s.target.closest(".drawer-link");if(!i)return;s.preventDefault();let a=i.getAttribute("href");if(!a)return;let o=a+(a.includes("?")?"&partial=1":"?partial=1");fetch(o).then(c=>{if(!c.ok)throw new Error("fetch failed");return c.text()}).then(c=>r(0,c,!1,null)).catch(c=>{console.error(c),window.location.href=a})}),window.addEventListener("popstate",s=>{if(document.body.classList.contains("drawer-open")){let a=location.pathname.match(/\/id\/(\d+)/);if(a){let o=a[1],c=new URLSearchParams(location.search).get("page"),m=c?`/id/${o}?partial=1&page=${c}`:`/id/${o}?partial=1`;fetch(m).then(f=>f.text()).then(f=>r(parseInt(o),f,!1,c))}else n(!1)}else{let i=location.pathname.match(/\/id\/(\d+)/);if(i&&document.querySelector(".id-grid")){let a=i[1],o=new URLSearchParams(location.search).get("page"),c=o?`/id/${a}?partial=1&page=${o}`:`/id/${a}?partial=1`;fetch(c).then(m=>m.text()).then(m=>r(parseInt(a),m,!1,o))}}})}function bf(){document.addEventListener("submit",e=>{let t=e.target;if(!t||t.id!=="requestBagForm")return;e.preventDefault();let n=t.querySelector('input[name="email"]'),r=t.querySelector("button[type=submit]"),s=t.querySelector("#requestResult");if(!n||!r||!s)return;let i=n.value.trim();if(!i||!i.includes("@")){s.style.display="block",s.style.color="#d32f2f",s.innerText="Bitte gib eine g\xFCltige E\u2011Mail an.";return}r.disabled=!0,r.innerText="sende...",vf("Bag request form submitted","form",{email:i}),fetch("/werkzeug-anfordern",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}).then(a=>a.json()).then(a=>{a.status==="ok"?t.innerHTML='<p style="font-weight:500;">Danke! Wir benachrichtigen dich per E\u2011Mail, sobald ein Werkzeug verf\xFCgbar ist.</p>':(s.style.display="block",s.style.color="#d32f2f",s.innerText=a.error||"Etwas ging schief.",r.disabled=!1,r.innerText="anfragen")}).catch(a=>{Sf(a,{context:"bag-request-form",email:i}),s.style.display="block",s.style.color="#d32f2f",s.innerText="Netzwerkfehler. Bitte versuche es erneut.",r.disabled=!1,r.innerText="anfragen"})})}var Uf=nm(wf());var Nr={};em(Nr,{BRAND:()=>KE,DIRTY:()=>hr,EMPTY_PATH:()=>AE,INVALID:()=>Q,NEVER:()=>MT,OK:()=>rt,ParseStatus:()=>Je,Schema:()=>de,ZodAny:()=>Zn,ZodArray:()=>Nn,ZodBigInt:()=>_r,ZodBoolean:()=>yr,ZodBranded:()=>Ti,ZodCatch:()=>xr,ZodDate:()=>Sr,ZodDefault:()=>Rr,ZodDiscriminatedUnion:()=>po,ZodEffects:()=>qt,ZodEnum:()=>kr,ZodError:()=>Et,ZodFirstPartyTypeKind:()=>ne,ZodFunction:()=>mo,ZodIntersection:()=>br,ZodIssueCode:()=>C,ZodLazy:()=>Ir,ZodLiteral:()=>wr,ZodMap:()=>ms,ZodNaN:()=>gs,ZodNativeEnum:()=>Ar,ZodNever:()=>Qt,ZodNull:()=>Er,ZodNullable:()=>hn,ZodNumber:()=>gr,ZodObject:()=>Tt,ZodOptional:()=>Ht,ZodParsedType:()=>B,ZodPipeline:()=>bi,ZodPromise:()=>Qn,ZodReadonly:()=>Cr,ZodRecord:()=>fo,ZodSchema:()=>de,ZodSet:()=>hs,ZodString:()=>Jn,ZodSymbol:()=>ps,ZodTransformer:()=>qt,ZodTuple:()=>mn,ZodType:()=>de,ZodUndefined:()=>vr,ZodUnion:()=>Tr,ZodUnknown:()=>Cn,ZodVoid:()=>fs,addIssueToContext:()=>F,any:()=>sT,array:()=>cT,bigint:()=>QE,boolean:()=>Pf,coerce:()=>OT,custom:()=>Mf,date:()=>eT,datetimeRegex:()=>Nf,defaultErrorMap:()=>Rn,discriminatedUnion:()=>pT,effect:()=>IT,enum:()=>ET,function:()=>yT,getErrorMap:()=>us,getParsedType:()=>fn,instanceof:()=>JE,intersection:()=>fT,isAborted:()=>uo,isAsync:()=>ls,isDirty:()=>lo,isValid:()=>Xn,late:()=>XE,lazy:()=>ST,literal:()=>vT,makeIssue:()=>Ei,map:()=>gT,nan:()=>ZE,nativeEnum:()=>TT,never:()=>aT,null:()=>rT,nullable:()=>kT,number:()=>Lf,object:()=>uT,objectUtil:()=>Du,oboolean:()=>NT,onumber:()=>CT,optional:()=>wT,ostring:()=>xT,pipeline:()=>RT,preprocess:()=>AT,promise:()=>bT,quotelessJson:()=>IE,record:()=>hT,set:()=>_T,setErrorMap:()=>kE,strictObject:()=>lT,string:()=>Df,symbol:()=>tT,transformer:()=>IT,tuple:()=>mT,undefined:()=>nT,union:()=>dT,unknown:()=>iT,util:()=>he,void:()=>oT});var he;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{let i={};for(let a of s)i[a]=a;return i},e.getValidEnumValues=s=>{let i=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),a={};for(let o of i)a[o]=s[o];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let a in s)Object.prototype.hasOwnProperty.call(s,a)&&i.push(a);return i},e.find=(s,i)=>{for(let a of s)if(i(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(he||(he={}));var Du;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Du||(Du={}));var B=he.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fn=e=>{switch(typeof e){case"undefined":return B.undefined;case"string":return B.string;case"number":return Number.isNaN(e)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(e)?B.array:e===null?B.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?B.promise:typeof Map<"u"&&e instanceof Map?B.map:typeof Set<"u"&&e instanceof Set?B.set:typeof Date<"u"&&e instanceof Date?B.date:B.object;default:return B.unknown}};var C=he.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),IE=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Et=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){let n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(let a of i.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){let m=a.path[c];c===a.path.length-1?(o[m]=o[m]||{_errors:[]},o[m]._errors.push(n(a))):o[m]=o[m]||{_errors:[]},o=o[m],c++}}};return s(this),r}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,he.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){let n={},r=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Et.create=e=>new Et(e);var wE=(e,t)=>{let n;switch(e.code){case C.invalid_type:e.received===B.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case C.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,he.jsonStringifyReplacer)}`;break;case C.unrecognized_keys:n=`Unrecognized key(s) in object: ${he.joinValues(e.keys,", ")}`;break;case C.invalid_union:n="Invalid input";break;case C.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${he.joinValues(e.options)}`;break;case C.invalid_enum_value:n=`Invalid enum value. Expected ${he.joinValues(e.options)}, received '${e.received}'`;break;case C.invalid_arguments:n="Invalid function arguments";break;case C.invalid_return_type:n="Invalid function return type";break;case C.invalid_date:n="Invalid date";break;case C.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:he.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case C.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case C.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case C.custom:n="Invalid input";break;case C.invalid_intersection_types:n="Intersection results could not be merged";break;case C.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case C.not_finite:n="Number must be finite";break;default:n=t.defaultError,he.assertNever(e)}return{message:n}},Rn=wE;var kf=Rn;function kE(e){kf=e}function us(){return kf}var Ei=e=>{let{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],a={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",c=r.filter(m=>!!m).slice().reverse();for(let m of c)o=m(a,{data:t,defaultError:o}).message;return{...s,path:i,message:o}},AE=[];function F(e,t){let n=us(),r=Ei({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Rn?void 0:Rn].filter(s=>!!s)});e.common.issues.push(r)}var Je=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){let r=[];for(let s of n){if(s.status==="aborted")return Q;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){let r=[];for(let s of n){let i=await s.key,a=await s.value;r.push({key:i,value:a})}return e.mergeObjectSync(t,r)}static mergeObjectSync(t,n){let r={};for(let s of n){let{key:i,value:a}=s;if(i.status==="aborted"||a.status==="aborted")return Q;i.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(r[i.value]=a.value)}return{status:t.value,value:r}}},Q=Object.freeze({status:"aborted"}),hr=e=>({status:"dirty",value:e}),rt=e=>({status:"valid",value:e}),uo=e=>e.status==="aborted",lo=e=>e.status==="dirty",Xn=e=>e.status==="valid",ls=e=>typeof Promise<"u"&&e instanceof Promise;var W;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(W||(W={}));var $t=class{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Af=(e,t)=>{if(Xn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new Et(e.common.issues);return this._error=n,this._error}}};function ue(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,o)=>{let{message:c}=e;return a.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:c??n??o.defaultError}},description:s}}var de=class{get description(){return this._def.description}_getType(t){return fn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Je,ctx:{common:t.parent.common,data:t.data,parsedType:fn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let n=this._parse(t);if(ls(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){let n=this._parse(t);return Promise.resolve(n)}parse(t,n){let r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){let r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fn(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Af(r,s)}"~validate"(t){let n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fn(t)};if(!this["~standard"].async)try{let r=this._parseSync({data:t,path:[],parent:n});return Xn(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>Xn(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){let r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fn(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(ls(s)?s:Promise.resolve(s));return Af(r,i)}refine(t,n){let r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{let a=t(s),o=()=>i.addIssue({code:C.custom,...r(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new qt({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ht.create(this,this._def)}nullable(){return hn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Nn.create(this)}promise(){return Qn.create(this,this._def)}or(t){return Tr.create([this,t],this._def)}and(t){return br.create(this,t,this._def)}transform(t){return new qt({...ue(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let n=typeof t=="function"?t:()=>t;return new Rr({...ue(this._def),innerType:this,defaultValue:n,typeName:ne.ZodDefault})}brand(){return new Ti({typeName:ne.ZodBranded,type:this,...ue(this._def)})}catch(t){let n=typeof t=="function"?t:()=>t;return new xr({...ue(this._def),innerType:this,catchValue:n,typeName:ne.ZodCatch})}describe(t){let n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bi.create(this,t)}readonly(){return Cr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},RE=/^c[^\s-]{8,}$/i,xE=/^[0-9a-z]+$/,CE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,OE=/^[a-z0-9_-]{21}$/i,ME=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,DE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,LE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,PE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Lu,FE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,UE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,BE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,HE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$E=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xf="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jE=new RegExp(`^${xf}$`);function Cf(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function WE(e){return new RegExp(`^${Cf(e)}$`)}function Nf(e){let t=`${xf}T${Cf(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function zE(e,t){return!!((t==="v4"||!t)&&FE.test(e)||(t==="v6"||!t)&&BE.test(e))}function GE(e,t){if(!ME.test(e))return!1;try{let[n]=e.split(".");if(!n)return!1;let r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function VE(e,t){return!!((t==="v4"||!t)&&UE.test(e)||(t==="v6"||!t)&&HE.test(e))}var Jn=class e extends de{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==B.string){let i=this._getOrReturnCtx(t);return F(i,{code:C.invalid_type,expected:B.string,received:i.parsedType}),Q}let r=new Je,s;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),F(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),F(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){let a=t.data.length>i.value,o=t.data.length<i.value;(a||o)&&(s=this._getOrReturnCtx(t,s),a?F(s,{code:C.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&F(s,{code:C.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")LE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"email",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Lu||(Lu=new RegExp(PE,"u")),Lu.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"emoji",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")NE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"uuid",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")OE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"nanoid",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")RE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"cuid",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")xE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"cuid2",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")CE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"ulid",code:C.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),F(s,{validation:"url",code:C.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"regex",code:C.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Nf(i).test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?jE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?WE(i).test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{code:C.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?DE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"duration",code:C.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?zE(t.data,i.version)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"ip",code:C.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?GE(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"jwt",code:C.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?VE(t.data,i.version)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"cidr",code:C.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?$E.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"base64",code:C.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?qE.test(t.data)||(s=this._getOrReturnCtx(t,s),F(s,{validation:"base64url",code:C.invalid_string,message:i.message}),r.dirty()):he.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:C.invalid_string,...W.errToObj(r)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...W.errToObj(t)})}url(t){return this._addCheck({kind:"url",...W.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...W.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...W.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...W.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...W.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...W.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...W.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...W.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...W.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...W.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...W.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...W.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...W.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...W.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...W.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...W.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...W.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...W.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...W.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...W.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...W.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...W.errToObj(n)})}nonempty(t){return this.min(1,W.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Jn.create=e=>new Jn({checks:[],typeName:ne.ZodString,coerce:e?.coerce??!1,...ue(e)});function YE(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return i%a/10**s}var gr=class e extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==B.number){let i=this._getOrReturnCtx(t);return F(i,{code:C.invalid_type,expected:B.number,received:i.parsedType}),Q}let r,s=new Je;for(let i of this._def.checks)i.kind==="int"?he.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{code:C.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?YE(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),F(r,{code:C.not_finite,message:i.message}),s.dirty()):he.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,W.toString(n))}gt(t,n){return this.setLimit("min",t,!1,W.toString(n))}lte(t,n){return this.setLimit("max",t,!0,W.toString(n))}lt(t,n){return this.setLimit("max",t,!1,W.toString(n))}setLimit(t,n,r,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:W.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:W.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:W.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(t)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&he.isInteger(t.value))}get isFinite(){let t=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};gr.create=e=>new gr({checks:[],typeName:ne.ZodNumber,coerce:e?.coerce||!1,...ue(e)});var _r=class e extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==B.bigint)return this._getInvalidInput(t);let r,s=new Je;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),F(r,{code:C.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):he.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){let n=this._getOrReturnCtx(t);return F(n,{code:C.invalid_type,expected:B.bigint,received:n.parsedType}),Q}gte(t,n){return this.setLimit("min",t,!0,W.toString(n))}gt(t,n){return this.setLimit("min",t,!1,W.toString(n))}lte(t,n){return this.setLimit("max",t,!0,W.toString(n))}lt(t,n){return this.setLimit("max",t,!1,W.toString(n))}setLimit(t,n,r,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:W.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:W.toString(n)})}get minValue(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};_r.create=e=>new _r({checks:[],typeName:ne.ZodBigInt,coerce:e?.coerce??!1,...ue(e)});var yr=class extends de{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==B.boolean){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.boolean,received:r.parsedType}),Q}return rt(t.data)}};yr.create=e=>new yr({typeName:ne.ZodBoolean,coerce:e?.coerce||!1,...ue(e)});var Sr=class e extends de{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==B.date){let i=this._getOrReturnCtx(t);return F(i,{code:C.invalid_type,expected:B.date,received:i.parsedType}),Q}if(Number.isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return F(i,{code:C.invalid_date}),Q}let r=new Je,s;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),F(s,{code:C.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),F(s,{code:C.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):he.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:W.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:W.toString(n)})}get minDate(){let t=null;for(let n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};Sr.create=e=>new Sr({checks:[],coerce:e?.coerce||!1,typeName:ne.ZodDate,...ue(e)});var ps=class extends de{_parse(t){if(this._getType(t)!==B.symbol){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.symbol,received:r.parsedType}),Q}return rt(t.data)}};ps.create=e=>new ps({typeName:ne.ZodSymbol,...ue(e)});var vr=class extends de{_parse(t){if(this._getType(t)!==B.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.undefined,received:r.parsedType}),Q}return rt(t.data)}};vr.create=e=>new vr({typeName:ne.ZodUndefined,...ue(e)});var Er=class extends de{_parse(t){if(this._getType(t)!==B.null){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.null,received:r.parsedType}),Q}return rt(t.data)}};Er.create=e=>new Er({typeName:ne.ZodNull,...ue(e)});var Zn=class extends de{constructor(){super(...arguments),this._any=!0}_parse(t){return rt(t.data)}};Zn.create=e=>new Zn({typeName:ne.ZodAny,...ue(e)});var Cn=class extends de{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rt(t.data)}};Cn.create=e=>new Cn({typeName:ne.ZodUnknown,...ue(e)});var Qt=class extends de{_parse(t){let n=this._getOrReturnCtx(t);return F(n,{code:C.invalid_type,expected:B.never,received:n.parsedType}),Q}};Qt.create=e=>new Qt({typeName:ne.ZodNever,...ue(e)});var fs=class extends de{_parse(t){if(this._getType(t)!==B.undefined){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.void,received:r.parsedType}),Q}return rt(t.data)}};fs.create=e=>new fs({typeName:ne.ZodVoid,...ue(e)});var Nn=class e extends de{_parse(t){let{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==B.array)return F(n,{code:C.invalid_type,expected:B.array,received:n.parsedType}),Q;if(s.exactLength!==null){let a=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(a||o)&&(F(n,{code:a?C.too_big:C.too_small,minimum:o?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(F(n,{code:C.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(F(n,{code:C.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>s.type._parseAsync(new $t(n,a,n.path,o)))).then(a=>Je.mergeArray(r,a));let i=[...n.data].map((a,o)=>s.type._parseSync(new $t(n,a,n.path,o)));return Je.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:W.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:W.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:W.toString(n)}})}nonempty(t){return this.min(1,t)}};Nn.create=(e,t)=>new Nn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...ue(t)});function ds(e){if(e instanceof Tt){let t={};for(let n in e.shape){let r=e.shape[n];t[n]=Ht.create(ds(r))}return new Tt({...e._def,shape:()=>t})}else return e instanceof Nn?new Nn({...e._def,type:ds(e.element)}):e instanceof Ht?Ht.create(ds(e.unwrap())):e instanceof hn?hn.create(ds(e.unwrap())):e instanceof mn?mn.create(e.items.map(t=>ds(t))):e}var Tt=class e extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),n=he.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==B.object){let m=this._getOrReturnCtx(t);return F(m,{code:C.invalid_type,expected:B.object,received:m.parsedType}),Q}let{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Qt&&this._def.unknownKeys==="strip"))for(let m in s.data)a.includes(m)||o.push(m);let c=[];for(let m of a){let f=i[m],v=s.data[m];c.push({key:{status:"valid",value:m},value:f._parse(new $t(s,v,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Qt){let m=this._def.unknownKeys;if(m==="passthrough")for(let f of o)c.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(m==="strict")o.length>0&&(F(s,{code:C.unrecognized_keys,keys:o}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let m=this._def.catchall;for(let f of o){let v=s.data[f];c.push({key:{status:"valid",value:f},value:m._parse(new $t(s,v,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let m=[];for(let f of c){let v=await f.key,E=await f.value;m.push({key:v,value:E,alwaysSet:f.alwaysSet})}return m}).then(m=>Je.mergeObjectSync(r,m)):Je.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return W.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{let s=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:W.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ne.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let n={};for(let r of he.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new e({...this._def,shape:()=>n})}omit(t){let n={};for(let r of he.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new e({...this._def,shape:()=>n})}deepPartial(){return ds(this)}partial(t){let n={};for(let r of he.objectKeys(this.shape)){let s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new e({...this._def,shape:()=>n})}required(t){let n={};for(let r of he.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ht;)i=i._def.innerType;n[r]=i}return new e({...this._def,shape:()=>n})}keyof(){return Of(he.objectKeys(this.shape))}};Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:Qt.create(),typeName:ne.ZodObject,...ue(t)});Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:Qt.create(),typeName:ne.ZodObject,...ue(t)});Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:Qt.create(),typeName:ne.ZodObject,...ue(t)});var Tr=class extends de{_parse(t){let{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;let a=i.map(o=>new Et(o.ctx.common.issues));return F(n,{code:C.invalid_union,unionErrors:a}),Q}if(n.common.async)return Promise.all(r.map(async i=>{let a={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(s);{let i,a=[];for(let c of r){let m={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:m});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:m}),m.common.issues.length&&a.push(m.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;let o=a.map(c=>new Et(c));return F(n,{code:C.invalid_union,unionErrors:o}),Q}}get options(){return this._def.options}};Tr.create=(e,t)=>new Tr({options:e,typeName:ne.ZodUnion,...ue(t)});var xn=e=>e instanceof Ir?xn(e.schema):e instanceof qt?xn(e.innerType()):e instanceof wr?[e.value]:e instanceof kr?e.options:e instanceof Ar?he.objectValues(e.enum):e instanceof Rr?xn(e._def.innerType):e instanceof vr?[void 0]:e instanceof Er?[null]:e instanceof Ht?[void 0,...xn(e.unwrap())]:e instanceof hn?[null,...xn(e.unwrap())]:e instanceof Ti||e instanceof Cr?xn(e.unwrap()):e instanceof xr?xn(e._def.innerType):[],po=class e extends de{_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==B.object)return F(n,{code:C.invalid_type,expected:B.object,received:n.parsedType}),Q;let r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(F(n,{code:C.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){let s=new Map;for(let i of n){let a=xn(i.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let o of a){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,i)}}return new e({typeName:ne.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ue(r)})}};function Pu(e,t){let n=fn(e),r=fn(t);if(e===t)return{valid:!0,data:e};if(n===B.object&&r===B.object){let s=he.objectKeys(t),i=he.objectKeys(e).filter(o=>s.indexOf(o)!==-1),a={...e,...t};for(let o of i){let c=Pu(e[o],t[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===B.array&&r===B.array){if(e.length!==t.length)return{valid:!1};let s=[];for(let i=0;i<e.length;i++){let a=e[i],o=t[i],c=Pu(a,o);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===B.date&&r===B.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var br=class extends de{_parse(t){let{status:n,ctx:r}=this._processInputParams(t),s=(i,a)=>{if(uo(i)||uo(a))return Q;let o=Pu(i.value,a.value);return o.valid?((lo(i)||lo(a))&&n.dirty(),{status:n.value,value:o.data}):(F(r,{code:C.invalid_intersection_types}),Q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,a])=>s(i,a)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};br.create=(e,t,n)=>new br({left:e,right:t,typeName:ne.ZodIntersection,...ue(n)});var mn=class e extends de{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.array)return F(r,{code:C.invalid_type,expected:B.array,received:r.parsedType}),Q;if(r.data.length<this._def.items.length)return F(r,{code:C.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Q;!this._def.rest&&r.data.length>this._def.items.length&&(F(r,{code:C.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let i=[...r.data].map((a,o)=>{let c=this._def.items[o]||this._def.rest;return c?c._parse(new $t(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(i).then(a=>Je.mergeArray(n,a)):Je.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mn({items:e,typeName:ne.ZodTuple,rest:null,...ue(t)})};var fo=class e extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.object)return F(r,{code:C.invalid_type,expected:B.object,received:r.parsedType}),Q;let s=[],i=this._def.keyType,a=this._def.valueType;for(let o in r.data)s.push({key:i._parse(new $t(r,o,r.path,o)),value:a._parse(new $t(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Je.mergeObjectAsync(n,s):Je.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof de?new e({keyType:t,valueType:n,typeName:ne.ZodRecord,...ue(r)}):new e({keyType:Jn.create(),valueType:t,typeName:ne.ZodRecord,...ue(n)})}},ms=class extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.map)return F(r,{code:C.invalid_type,expected:B.map,received:r.parsedType}),Q;let s=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([o,c],m)=>({key:s._parse(new $t(r,o,r.path,[m,"key"])),value:i._parse(new $t(r,c,r.path,[m,"value"]))}));if(r.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let c of a){let m=await c.key,f=await c.value;if(m.status==="aborted"||f.status==="aborted")return Q;(m.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(m.value,f.value)}return{status:n.value,value:o}})}else{let o=new Map;for(let c of a){let m=c.key,f=c.value;if(m.status==="aborted"||f.status==="aborted")return Q;(m.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(m.value,f.value)}return{status:n.value,value:o}}}};ms.create=(e,t,n)=>new ms({valueType:t,keyType:e,typeName:ne.ZodMap,...ue(n)});var hs=class e extends de{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==B.set)return F(r,{code:C.invalid_type,expected:B.set,received:r.parsedType}),Q;let s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(F(r,{code:C.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(F(r,{code:C.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());let i=this._def.valueType;function a(c){let m=new Set;for(let f of c){if(f.status==="aborted")return Q;f.status==="dirty"&&n.dirty(),m.add(f.value)}return{status:n.value,value:m}}let o=[...r.data.values()].map((c,m)=>i._parse(new $t(r,c,r.path,m)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(t,n){return new e({...this._def,minSize:{value:t,message:W.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:W.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};hs.create=(e,t)=>new hs({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...ue(t)});var mo=class e extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==B.function)return F(n,{code:C.invalid_type,expected:B.function,received:n.parsedType}),Q;function r(o,c){return Ei({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,us(),Rn].filter(m=>!!m),issueData:{code:C.invalid_arguments,argumentsError:c}})}function s(o,c){return Ei({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,us(),Rn].filter(m=>!!m),issueData:{code:C.invalid_return_type,returnTypeError:c}})}let i={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Qn){let o=this;return rt(async function(...c){let m=new Et([]),f=await o._def.args.parseAsync(c,i).catch(I=>{throw m.addIssue(r(c,I)),m}),v=await Reflect.apply(a,this,f);return await o._def.returns._def.type.parseAsync(v,i).catch(I=>{throw m.addIssue(s(v,I)),m})})}else{let o=this;return rt(function(...c){let m=o._def.args.safeParse(c,i);if(!m.success)throw new Et([r(c,m.error)]);let f=Reflect.apply(a,this,m.data),v=o._def.returns.safeParse(f,i);if(!v.success)throw new Et([s(f,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:mn.create(t).rest(Cn.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new e({args:t||mn.create([]).rest(Cn.create()),returns:n||Cn.create(),typeName:ne.ZodFunction,...ue(r)})}},Ir=class extends de{get schema(){return this._def.getter()}_parse(t){let{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Ir.create=(e,t)=>new Ir({getter:e,typeName:ne.ZodLazy,...ue(t)});var wr=class extends de{_parse(t){if(t.data!==this._def.value){let n=this._getOrReturnCtx(t);return F(n,{received:n.data,code:C.invalid_literal,expected:this._def.value}),Q}return{status:"valid",value:t.data}}get value(){return this._def.value}};wr.create=(e,t)=>new wr({value:e,typeName:ne.ZodLiteral,...ue(t)});function Of(e,t){return new kr({values:e,typeName:ne.ZodEnum,...ue(t)})}var kr=class e extends de{_parse(t){if(typeof t.data!="string"){let n=this._getOrReturnCtx(t),r=this._def.values;return F(n,{expected:he.joinValues(r),received:n.parsedType,code:C.invalid_type}),Q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let n=this._getOrReturnCtx(t),r=this._def.values;return F(n,{received:n.data,code:C.invalid_enum_value,options:r}),Q}return rt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let n of this._def.values)t[n]=n;return t}get Values(){let t={};for(let n of this._def.values)t[n]=n;return t}get Enum(){let t={};for(let n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return e.create(t,{...this._def,...n})}exclude(t,n=this._def){return e.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};kr.create=Of;var Ar=class extends de{_parse(t){let n=he.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==B.string&&r.parsedType!==B.number){let s=he.objectValues(n);return F(r,{expected:he.joinValues(s),received:r.parsedType,code:C.invalid_type}),Q}if(this._cache||(this._cache=new Set(he.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let s=he.objectValues(n);return F(r,{received:r.data,code:C.invalid_enum_value,options:s}),Q}return rt(t.data)}get enum(){return this._def.values}};Ar.create=(e,t)=>new Ar({values:e,typeName:ne.ZodNativeEnum,...ue(t)});var Qn=class extends de{unwrap(){return this._def.type}_parse(t){let{ctx:n}=this._processInputParams(t);if(n.parsedType!==B.promise&&n.common.async===!1)return F(n,{code:C.invalid_type,expected:B.promise,received:n.parsedType}),Q;let r=n.parsedType===B.promise?n.data:Promise.resolve(n.data);return rt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Qn.create=(e,t)=>new Qn({type:e,typeName:ne.ZodPromise,...ue(t)});var qt=class extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:a=>{F(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let a=s.transform(r.data,i);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Q;let c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?Q:c.status==="dirty"?hr(c.value):n.value==="dirty"?hr(c.value):c});{if(n.value==="aborted")return Q;let o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Q:o.status==="dirty"?hr(o.value):n.value==="dirty"?hr(o.value):o}}if(s.type==="refinement"){let a=o=>{let c=s.refinement(o,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Q:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Xn(a))return Q;let o=s.transform(a.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Xn(a)?Promise.resolve(s.transform(a.value,i)).then(o=>({status:n.value,value:o})):Q);he.assertNever(s)}};qt.create=(e,t,n)=>new qt({schema:e,typeName:ne.ZodEffects,effect:t,...ue(n)});qt.createWithPreprocess=(e,t,n)=>new qt({schema:t,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...ue(n)});var Ht=class extends de{_parse(t){return this._getType(t)===B.undefined?rt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Ht.create=(e,t)=>new Ht({innerType:e,typeName:ne.ZodOptional,...ue(t)});var hn=class extends de{_parse(t){return this._getType(t)===B.null?rt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};hn.create=(e,t)=>new hn({innerType:e,typeName:ne.ZodNullable,...ue(t)});var Rr=class extends de{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return n.parsedType===B.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Rr.create=(e,t)=>new Rr({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ue(t)});var xr=class extends de{_parse(t){let{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ls(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Et(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Et(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};xr.create=(e,t)=>new xr({innerType:e,typeName:ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ue(t)});var gs=class extends de{_parse(t){if(this._getType(t)!==B.nan){let r=this._getOrReturnCtx(t);return F(r,{code:C.invalid_type,expected:B.nan,received:r.parsedType}),Q}return{status:"valid",value:t.data}}};gs.create=e=>new gs({typeName:ne.ZodNaN,...ue(e)});var KE=Symbol("zod_brand"),Ti=class extends de{_parse(t){let{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},bi=class e extends de{_parse(t){let{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Q:i.status==="dirty"?(n.dirty(),hr(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{let s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Q:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new e({in:t,out:n,typeName:ne.ZodPipeline})}},Cr=class extends de{_parse(t){let n=this._def.innerType._parse(t),r=s=>(Xn(s)&&(s.value=Object.freeze(s.value)),s);return ls(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}};Cr.create=(e,t)=>new Cr({innerType:e,typeName:ne.ZodReadonly,...ue(t)});function Rf(e,t){let n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Mf(e,t={},n){return e?Zn.create().superRefine((r,s)=>{let i=e(r);if(i instanceof Promise)return i.then(a=>{if(!a){let o=Rf(t,r),c=o.fatal??n??!0;s.addIssue({code:"custom",...o,fatal:c})}});if(!i){let a=Rf(t,r),o=a.fatal??n??!0;s.addIssue({code:"custom",...a,fatal:o})}}):Zn.create()}var XE={object:Tt.lazycreate},ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));var JE=(e,t={message:`Input not instance of ${e.name}`})=>Mf(n=>n instanceof e,t),Df=Jn.create,Lf=gr.create,ZE=gs.create,QE=_r.create,Pf=yr.create,eT=Sr.create,tT=ps.create,nT=vr.create,rT=Er.create,sT=Zn.create,iT=Cn.create,aT=Qt.create,oT=fs.create,cT=Nn.create,uT=Tt.create,lT=Tt.strictCreate,dT=Tr.create,pT=po.create,fT=br.create,mT=mn.create,hT=fo.create,gT=ms.create,_T=hs.create,yT=mo.create,ST=Ir.create,vT=wr.create,ET=kr.create,TT=Ar.create,bT=Qn.create,IT=qt.create,wT=Ht.create,kT=hn.create,AT=qt.createWithPreprocess,RT=bi.create,xT=()=>Df().optional(),CT=()=>Lf().optional(),NT=()=>Pf().optional(),OT={string:(e=>Jn.create({...e,coerce:!0})),number:(e=>gr.create({...e,coerce:!0})),boolean:(e=>yr.create({...e,coerce:!0})),bigint:(e=>_r.create({...e,coerce:!0})),date:(e=>Sr.create({...e,coerce:!0}))};var MT=Q;var VD=Nr.object({player_name:Nr.string().min(2,"Name muss mindestens 2 Zeichen lang sein").max(100,"Name darf maximal 100 Zeichen lang sein"),player_city:Nr.string().min(2,"Ort muss mindestens 2 Zeichen lang sein").max(100,"Ort darf maximal 100 Zeichen lang sein"),agree_privacy:Nr.literal(!0,{errorMap:()=>({message:"Datenschutzerkl\xE4rung muss akzeptiert werden"})})});var Fu,wi=new Set,On=!1,Uu=null,gn=-1,Bu=[];function DT(){if(!Uu){let e=window.GEOCODING_API_URL||"http://localhost:8081",t=window.MEILI_SEARCH_KEY||"";Uu=new Uf.MeiliSearch({host:e,apiKey:t})}return Uu}function LT(){let e=document.createElement("div");return e.id="city-dropdown",e.className="city-dropdown",e.style.display="none",e}function PT(e,t){let n=e.getBoundingClientRect();t.style.position="absolute",t.style.top=`${n.bottom+window.scrollY}px`,t.style.left=`${n.left+window.scrollX}px`,t.style.width=`${n.width}px`}function FT(e,t,n){if(n.length===0){t.style.display="none";return}Bu=n,gn=-1,t.innerHTML=n.map((r,s)=>`<div class="city-dropdown-item" data-index="${s}">${r}</div>`).join(""),PT(e,t),t.style.display="block",t.querySelectorAll(".city-dropdown-item").forEach(r=>{r.addEventListener("click",()=>{let s=r.textContent||"";Bf(e,t,s)})})}function Or(e){e.style.display="none",gn=-1}function Bf(e,t,n){e.value=n,On=!0,e.classList.add("city-selected"),Or(t);let r=document.querySelector(".submit-btn");Ii(r)}function UT(e,t,n){let r=n.querySelectorAll(".city-dropdown-item");e.key==="ArrowDown"?(e.preventDefault(),gn=Math.min(gn+1,r.length-1),Ff(r)):e.key==="ArrowUp"?(e.preventDefault(),gn=Math.max(gn-1,-1),Ff(r)):e.key==="Enter"?(e.preventDefault(),gn>=0&&gn<Bu.length&&Bf(t,n,Bu[gn])):e.key==="Escape"&&Or(n)}function Ff(e){e.forEach((t,n)=>{n===gn?(t.classList.add("highlighted"),t.scrollIntoView({block:"nearest"})):t.classList.remove("highlighted")})}function Hf(){let e=document.getElementById("playerCity"),t=document.querySelector(".submit-btn");if(!e)return;t&&(t.disabled=!0,t.classList.add("disabled"));let n=DT(),r=LT();e.parentNode&&e.parentNode.insertBefore(r,e.nextSibling);let s="";e.addEventListener("input",()=>{let i=e.value.trim();if(On=!1,e.classList.remove("city-selected"),Ii(t),_s(),wi.has(i)){On=!0,e.classList.add("city-selected"),Ii(t),_s(),Or(r);return}if(i.length<2){Or(r);return}i!==s&&(s=i,Fu&&clearTimeout(Fu),Fu=window.setTimeout(()=>{BT(i,e,r,n)},300))}),e.addEventListener("keydown",i=>{r.style.display==="block"&&UT(i,e,r)}),document.addEventListener("click",i=>{!e.contains(i.target)&&!r.contains(i.target)&&Or(r)}),e.addEventListener("change",()=>{let i=e.value.trim();wi.has(i)&&(On=!0,e.classList.add("city-selected"),Ii(t),_s())}),e.addEventListener("blur",()=>{setTimeout(()=>{let i=e.value.trim();wi.has(i)?(On=!0,e.classList.add("city-selected"),Ii(t),_s()):Or(r)},200)})}async function BT(e,t,n,r){try{let s=await r.index("cities").search(e,{limit:10,attributesToRetrieve:["name"]});wi.clear();let i=new Set,a=[];s.hits.forEach(o=>{let c=o.name;c&&!i.has(c)&&(i.add(c),wi.add(c),a.push(c))}),FT(t,n,a)}catch(s){console.error("[CityAutocomplete] Error fetching cities:",s),Or(n)}}function $f(){let e=document.getElementById("playerName"),t=document.getElementById("privacyCheckbox"),n=document.querySelector(".submit-btn"),r=document.getElementById("nameForm");if(!e||!t||!n)return;let s=()=>{let i=e.value.trim().length>=2,a=t.checked,c=i&&a&&On;n.disabled=!c,c?n.classList.remove("disabled"):n.classList.add("disabled"),_s()};e.addEventListener("input",s),t.addEventListener("change",s),n.disabled=!0,n.classList.add("disabled"),r&&r.addEventListener("submit",i=>{let a=e.value.trim().length>=2,o=t.checked;return a&&o&&On?!0:(i.preventDefault(),alert("Bitte f\xFClle alle Felder korrekt aus und w\xE4hle einen Ort aus der Liste!"),!1)}),_s()}function Ii(e){if(!e)return;let t=document.getElementById("playerName"),n=document.getElementById("privacyCheckbox");if(!t||!n)return;let r=t.value.trim().length>=2,s=n.checked,i=r&&s&&On;e.disabled=!i,i?e.classList.remove("disabled"):e.classList.add("disabled")}function _s(){let e=document.getElementById("playerName"),t=document.getElementById("privacyCheckbox"),n=document.querySelector(".submit-btn"),r=document.getElementById("statusName"),s=document.getElementById("statusCity"),i=document.getElementById("statusPrivacy"),a=document.getElementById("statusButton");if(!e||!t||!n)return;let o=e.value.trim().length>=2,c=t.checked;r&&(o?(r.innerHTML="\u2705 Name: G\xFCltig",r.style.color="green"):(r.innerHTML="\u274C Name: Nicht ausgef\xFCllt",r.style.color="red")),s&&(On?(s.innerHTML="\u2705 Ort: Ausgew\xE4hlt",s.style.color="green"):(s.innerHTML="\u274C Ort: Nicht ausgew\xE4hlt",s.style.color="red")),i&&(c?(i.innerHTML="\u2705 Datenschutz: Akzeptiert",i.style.color="green"):(i.innerHTML="\u274C Datenschutz: Nicht akzeptiert",i.style.color="red")),a&&(n.disabled?(a.innerHTML="\u274C Submit-Button: Deaktiviert",a.style.color="red"):(a.innerHTML="\u2705 Submit-Button: Aktiviert",a.style.color="green"))}function Mn(e){return e instanceof Error?e.message:"Unbekannter Fehler"}function qf(){let e=document.getElementById("createTokenForm");e&&(e.onsubmit=async function(t){t.preventDefault();let n=document.getElementById("bagName").value,r=parseInt(document.getElementById("maxUploads").value);try{let s=await fetch("/admin/tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bag_name:n,max_uploads:r})}),i=await s.json();if(s.ok){let a=document.getElementById("createResult");a.style.display="block",a.style.background="#e8f5e9",a.style.padding="1rem",a.style.borderRadius="4px",a.innerHTML=`
        <strong>\u2705 Token erstellt!</strong><br>
        <small>Token-ID: ${i.token_id}</small><br>
        <a href="${i.qr_url}?format=svg" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (SVG) herunterladen</a> | 
        <a href="${i.qr_url}?format=png" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (PNG) herunterladen</a><br>
        <small style="word-break: break-all;">URL: ${i.upload_url} <button id="copyNewUrlBtn" style="margin-left:0.5rem; padding:0.2rem 0.4rem; border-radius:4px;">\u{1F517} Kopieren</button></small>
      `;let o=document.getElementById("copyNewUrlBtn");o&&(o.onclick=async function(){try{await navigator.clipboard.writeText(i.upload_url),alert("URL kopiert")}catch{prompt("URL kopieren:",i.upload_url)}}),setTimeout(()=>location.reload(),3e3)}else alert("Fehler: "+(i.error||"Unbekannter Fehler"))}catch(s){let i=s instanceof Error?s.message:"Unbekannter Fehler";alert("Fehler: "+i)}}),GT()}async function HT(e,t){if(confirm(`${t} wirklich zur\xFCcksetzen? Der Upload-Counter wird auf 0 gesetzt.`))try{let r=await(await fetch(`/admin/tokens/${e}/reset`,{method:"POST"})).json();alert(r.message||"Token wurde zur\xFCckgesetzt"),location.reload()}catch(n){alert("Fehler: "+Mn(n))}}async function $T(e,t){if(confirm(`${t} wirklich deaktivieren?`))try{let r=await(await fetch(`/admin/tokens/${e}/deactivate`,{method:"POST"})).json();alert(r.status||"Token wurde deaktiviert"),location.reload()}catch(n){alert("Fehler: "+Mn(n))}}async function qT(e){let t=document.getElementById(`quota-${e}`),n=parseInt(t.value);if(n<=0){alert("Kontingent muss gr\xF6\xDFer als 0 sein");return}try{let s=await(await fetch(`/admin/tokens/${e}/quota`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({max_uploads:n})})).json();alert(`\u2705 Kontingent auf ${s.max_uploads} aktualisiert`),location.reload()}catch(r){alert("Fehler: "+Mn(r))}}function jT(e,t,n){let r=`/admin/tokens/${e}/qr?format=${n}`;window.open(r,"_blank")}async function WT(e,t){let n=encodeURIComponent(e),r=`${location.origin}/upload?token=${n}`;try{await navigator.clipboard.writeText(r),alert("URL kopiert: "+r)}catch{prompt("URL kopieren:",r)}}async function zT(e,t){if(confirm("Als erledigt markieren?"))try{let n=await fetch(`/admin/werkzeug-anfragen/${e}/complete`,{method:"POST"}),r=await n.json();if(n.ok){let s=t.closest("li"),i=document.createElement("span");i.style.color="#4CAF50",i.style.fontWeight="600",i.textContent="\u2705 Erledigt",t.replaceWith(i),s&&(s.style.opacity="0.8")}else alert("Fehler: "+(r.error||"Unbekannter Fehler"))}catch(n){alert("Fehler: "+Mn(n))}}function GT(){document.addEventListener("click",e=>{let n=e.target.closest("a.filter-btn");if(!n||!n.closest(".admin-section"))return;e.preventDefault();let r=n.getAttribute("href");if(!r)return;let s=r.includes("?")?r+"&partial=1":r+"?partial=1";fetch(s).then(i=>{if(!i.ok)throw new Error("fetch failed");return i.text()}).then(i=>{let c=new DOMParser().parseFromString(i,"text/html").querySelector("#bagRequestsContainer");if(!c){window.location.href=r;return}let m=document.getElementById("bagRequestsContainer");m&&(m.innerHTML=c.innerHTML),document.querySelectorAll(".admin-section a.filter-btn").forEach(f=>f.classList.remove("active")),n.classList.add("active"),history.pushState(null,"",r)}).catch(i=>{console.error(i),window.location.href=r})})}async function VT(e,t){if(confirm("Contribution wirklich l\xF6schen? Dies wird das Bild aus der Datenbank und dem Storage entfernen."))try{let n=await fetch(`/admin/contributions/${e}/delete`,{method:"POST"}),r=await n.json();if(n.ok){let s=document.getElementById(`contrib-${e}`);s&&(s.style.opacity="0",s.style.transition="opacity 0.3s",setTimeout(()=>s.remove(),300)),alert("Contribution erfolgreich gel\xF6scht")}else alert("Fehler: "+(r.error||"Unbekannter Fehler"))}catch(n){alert("Fehler: "+Mn(n))}}typeof window<"u"&&(window.resetToken=HT,window.deactivateToken=$T,window.updateQuota=qT,window.downloadQR=jT,window.copyUploadURL=WT,window.markBagRequestDone=zT,window.deleteContribution=VT);function Wf(){let e=document.getElementById("drop-zone"),t=document.getElementById("fileInput"),n=document.getElementById("preview"),r=document.getElementById("drop-text");if(!e||!t||!n||!r)return;e.addEventListener("click",()=>t.click()),e.addEventListener("dragover",o=>{o.preventDefault(),e.classList.add("active")}),e.addEventListener("dragleave",()=>e.classList.remove("active")),e.addEventListener("drop",o=>{o.preventDefault(),e.classList.remove("active"),o.dataTransfer?.files.length&&(t.files=o.dataTransfer.files,jf(o.dataTransfer.files[0],n,r))}),t.addEventListener("change",o=>{let c=o.target;c.files?.length&&jf(c.files[0],n,r)});let s=document.getElementById("commentInput"),i=document.getElementById("charCount");s&&i&&s.addEventListener("input",o=>{let c=o.target;i.textContent=c.value.length.toString()});let a=document.getElementById("uploadForm");a&&(a.onsubmit=function(){let o=document.getElementById("submitBtn");o&&(o.disabled=!0,o.innerText="optimiere...")}),YT()}function jf(e,t,n){let r=new FileReader;r.onload=s=>{s.target?.result&&(t.src=s.target.result,t.style.display="block",n.style.display="none")},r.readAsDataURL(e)}function YT(){try{let e=new URLSearchParams(location.search),t=e.get("number");if(t){let r=document.getElementById("deriveInput");if(r){r.value=t;let s=r.querySelector(`option[value="${t}"]`);s&&s.disabled&&(r.value="")}}if(e.get("uploaded")==="1"){let r=document.getElementById("deriveInput"),s=document.getElementById("fileInput"),i=document.getElementById("preview"),a=document.getElementById("drop-text"),o=document.getElementById("submitBtn");if(r&&(r.value=""),s)try{s.value=""}catch(m){console.warn("Could not reset file input:",m)}i&&(i.src="#",i.style.display="none"),a&&(a.style.display="block"),o&&(o.disabled=!1,o.innerText="Hochladen");let c=document.getElementById("uploadResult");if(!c){c=document.createElement("div"),c.id="uploadResult",c.style.marginTop="1rem",c.style.fontWeight="500";let m=document.querySelector(".container.upload"),f=document.querySelector(".session-uploads");m&&f&&m.insertBefore(c,f)}c.innerText="Upload erfolgreich!",c.style.color="#2e7d32",c.style.display="block",setTimeout(()=>{c&&(c.style.display="none")},4e3);try{e.delete("uploaded");let m=location.pathname+(e.toString()?"?"+e.toString():"");history.replaceState(null,"",m)}catch{}}}catch{}}async function KT(e,t){if(confirm("Upload wirklich l\xF6schen? Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden."))try{let r=new URLSearchParams(location.search).get("token")||"",s=await fetch(`/upload/contributions/${e}/delete?token=${encodeURIComponent(r)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),i=await s.json();s.ok?location.reload():alert("Fehler: "+(i.error||"Unbekannter Fehler"))}catch(n){alert("Fehler: "+Mn(n))}}async function XT(){if(confirm("Session wirklich beenden? Das Werkzeug wird zur\xFCckgesetzt und kann an den n\xE4chsten Spieler weitergegeben werden."))try{let t=new URLSearchParams(location.search).get("token")||"",n=await fetch(`/upload/end-session?token=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await n.json();n.ok?(alert(r.message||"Session beendet"),location.href="/upload?token="+encodeURIComponent(t)):alert("Fehler: "+(r.error||"Unbekannter Fehler"))}catch(e){alert("Fehler: "+Mn(e))}}typeof window<"u"&&(window.deleteSessionUpload=KT,window.endSession=XT);var zf=["\u{1F3E0}","\u{1F194}","\u{1F4AF}","\u{1F6A8}"];function JT(e){let t=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
      <text y="80" font-size="80">${e}</text>
    </svg>
  `;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`}function ZT(){return zf[Math.floor(Math.random()*zf.length)]}function QT(){if(typeof document>"u"||!document.head)return;let e=ZT(),t=JT(e),n=document.querySelector("link[rel~='icon']");n||(n=document.createElement("link"),n.rel="icon",document.head.appendChild(n)),n.href=t}QT();yf(),Ef(),Tf(),bf(),Hf(),$f(),oo(),qf(),Wf();})();
//# sourceMappingURL=main.js.map
