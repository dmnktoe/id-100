"use strict";(()=>{var LT=Object.create;var Ad=Object.defineProperty;var PT=Object.getOwnPropertyDescriptor;var UT=Object.getOwnPropertyNames;var FT=Object.getPrototypeOf,BT=Object.prototype.hasOwnProperty;var HT=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),VT=(e,t)=>{for(var r in t)Ad(e,r,{get:t[r],enumerable:!0})},zT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of UT(t))!BT.call(e,i)&&i!==r&&Ad(e,i,{get:()=>t[i],enumerable:!(n=PT(t,i))||n.enumerable});return e};var $T=(e,t,r)=>(r=e!=null?LT(FT(e)):{},zT(t||!e||!e.__esModule?Ad(r,"default",{value:e,enumerable:!0}):r,e));var fT=HT((vd,dT)=>{(function(e,t){typeof vd=="object"&&typeof dT<"u"?t(vd):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.window=e.window||{}))})(vd,(function(e){"use strict";var t={ALL:"all",LAST:"last",FREQUENCY:"frequency"},r={JSON:"application/json",CSV:"text/csv",NDJSON:"application/x-ndjson"},n={TASK_SUCCEEDED:"succeeded",TASK_PROCESSING:"processing",TASK_FAILED:"failed",TASK_ENQUEUED:"enqueued",TASK_CANCELED:"canceled"},i={DOCUMENTS_ADDITION_OR_UPDATE:"documentAdditionOrUpdate",DOCUMENT_DELETION:"documentDeletion",DUMP_CREATION:"dumpCreation",INDEX_CREATION:"indexCreation",INDEX_DELETION:"indexDeletion",INDEXES_SWAP:"indexSwap",INDEX_UPDATE:"indexUpdate",SETTINGS_UPDATE:"settingsUpdate",SNAPSHOT_CREATION:"snapshotCreation",TASK_CANCELATION:"taskCancelation",TASK_DELETION:"taskDeletion"},a={INDEX_CREATION_FAILED:"index_creation_failed",MISSING_INDEX_UID:"missing_index_uid",INDEX_ALREADY_EXISTS:"index_already_exists",INDEX_NOT_FOUND:"index_not_found",INVALID_INDEX_UID:"invalid_index_uid",INDEX_NOT_ACCESSIBLE:"index_not_accessible",INVALID_INDEX_OFFSET:"invalid_index_offset",INVALID_INDEX_LIMIT:"invalid_index_limit",INVALID_STATE:"invalid_state",PRIMARY_KEY_INFERENCE_FAILED:"primary_key_inference_failed",INDEX_PRIMARY_KEY_ALREADY_EXISTS:"index_primary_key_already_exists",INVALID_INDEX_PRIMARY_KEY:"invalid_index_primary_key",DOCUMENTS_FIELDS_LIMIT_REACHED:"document_fields_limit_reached",MISSING_DOCUMENT_ID:"missing_document_id",INVALID_DOCUMENT_ID:"invalid_document_id",INVALID_CONTENT_TYPE:"invalid_content_type",MISSING_CONTENT_TYPE:"missing_content_type",INVALID_DOCUMENT_FIELDS:"invalid_document_fields",INVALID_DOCUMENT_LIMIT:"invalid_document_limit",INVALID_DOCUMENT_OFFSET:"invalid_document_offset",INVALID_DOCUMENT_FILTER:"invalid_document_filter",MISSING_DOCUMENT_FILTER:"missing_document_filter",INVALID_DOCUMENT_VECTORS_FIELD:"invalid_document_vectors_field",PAYLOAD_TOO_LARGE:"payload_too_large",MISSING_PAYLOAD:"missing_payload",MALFORMED_PAYLOAD:"malformed_payload",NO_SPACE_LEFT_ON_DEVICE:"no_space_left_on_device",INVALID_STORE_FILE:"invalid_store_file",INVALID_RANKING_RULES:"missing_document_id",INVALID_REQUEST:"invalid_request",INVALID_DOCUMENT_GEO_FIELD:"invalid_document_geo_field",INVALID_SEARCH_Q:"invalid_search_q",INVALID_SEARCH_OFFSET:"invalid_search_offset",INVALID_SEARCH_LIMIT:"invalid_search_limit",INVALID_SEARCH_PAGE:"invalid_search_page",INVALID_SEARCH_HITS_PER_PAGE:"invalid_search_hits_per_page",INVALID_SEARCH_ATTRIBUTES_TO_RETRIEVE:"invalid_search_attributes_to_retrieve",INVALID_SEARCH_ATTRIBUTES_TO_CROP:"invalid_search_attributes_to_crop",INVALID_SEARCH_CROP_LENGTH:"invalid_search_crop_length",INVALID_SEARCH_ATTRIBUTES_TO_HIGHLIGHT:"invalid_search_attributes_to_highlight",INVALID_SEARCH_SHOW_MATCHES_POSITION:"invalid_search_show_matches_position",INVALID_SEARCH_FILTER:"invalid_search_filter",INVALID_SEARCH_SORT:"invalid_search_sort",INVALID_SEARCH_FACETS:"invalid_search_facets",INVALID_SEARCH_HIGHLIGHT_PRE_TAG:"invalid_search_highlight_pre_tag",INVALID_SEARCH_HIGHLIGHT_POST_TAG:"invalid_search_highlight_post_tag",INVALID_SEARCH_CROP_MARKER:"invalid_search_crop_marker",INVALID_SEARCH_MATCHING_STRATEGY:"invalid_search_matching_strategy",INVALID_SEARCH_VECTOR:"invalid_search_vector",INVALID_SEARCH_ATTRIBUTES_TO_SEARCH_ON:"invalid_search_attributes_to_search_on",BAD_REQUEST:"bad_request",DOCUMENT_NOT_FOUND:"document_not_found",INTERNAL:"internal",INVALID_API_KEY:"invalid_api_key",INVALID_API_KEY_DESCRIPTION:"invalid_api_key_description",INVALID_API_KEY_ACTIONS:"invalid_api_key_actions",INVALID_API_KEY_INDEXES:"invalid_api_key_indexes",INVALID_API_KEY_EXPIRES_AT:"invalid_api_key_expires_at",API_KEY_NOT_FOUND:"api_key_not_found",IMMUTABLE_API_KEY_UID:"immutable_api_key_uid",IMMUTABLE_API_KEY_ACTIONS:"immutable_api_key_actions",IMMUTABLE_API_KEY_INDEXES:"immutable_api_key_indexes",IMMUTABLE_API_KEY_EXPIRES_AT:"immutable_api_key_expires_at",IMMUTABLE_API_KEY_CREATED_AT:"immutable_api_key_created_at",IMMUTABLE_API_KEY_UPDATED_AT:"immutable_api_key_updated_at",MISSING_AUTHORIZATION_HEADER:"missing_authorization_header",UNRETRIEVABLE_DOCUMENT:"unretrievable_document",MAX_DATABASE_SIZE_LIMIT_REACHED:"database_size_limit_reached",TASK_NOT_FOUND:"task_not_found",DUMP_PROCESS_FAILED:"dump_process_failed",DUMP_NOT_FOUND:"dump_not_found",INVALID_SWAP_DUPLICATE_INDEX_FOUND:"invalid_swap_duplicate_index_found",INVALID_SWAP_INDEXES:"invalid_swap_indexes",MISSING_SWAP_INDEXES:"missing_swap_indexes",MISSING_MASTER_KEY:"missing_master_key",INVALID_TASK_TYPES:"invalid_task_types",INVALID_TASK_UIDS:"invalid_task_uids",INVALID_TASK_STATUSES:"invalid_task_statuses",INVALID_TASK_LIMIT:"invalid_task_limit",INVALID_TASK_FROM:"invalid_task_from",INVALID_TASK_CANCELED_BY:"invalid_task_canceled_by",MISSING_TASK_FILTERS:"missing_task_filters",TOO_MANY_OPEN_FILES:"too_many_open_files",IO_ERROR:"io_error",INVALID_TASK_INDEX_UIDS:"invalid_task_index_uids",IMMUTABLE_INDEX_UID:"immutable_index_uid",IMMUTABLE_INDEX_CREATED_AT:"immutable_index_created_at",IMMUTABLE_INDEX_UPDATED_AT:"immutable_index_updated_at",INVALID_SETTINGS_DISPLAYED_ATTRIBUTES:"invalid_settings_displayed_attributes",INVALID_SETTINGS_SEARCHABLE_ATTRIBUTES:"invalid_settings_searchable_attributes",INVALID_SETTINGS_FILTERABLE_ATTRIBUTES:"invalid_settings_filterable_attributes",INVALID_SETTINGS_SORTABLE_ATTRIBUTES:"invalid_settings_sortable_attributes",INVALID_SETTINGS_RANKING_RULES:"invalid_settings_ranking_rules",INVALID_SETTINGS_STOP_WORDS:"invalid_settings_stop_words",INVALID_SETTINGS_SYNONYMS:"invalid_settings_synonyms",INVALID_SETTINGS_DISTINCT_ATTRIBUTE:"invalid_settings_distinct_attribute",INVALID_SETTINGS_TYPO_TOLERANCE:"invalid_settings_typo_tolerance",INVALID_SETTINGS_FACETING:"invalid_settings_faceting",INVALID_SETTINGS_PAGINATION:"invalid_settings_pagination",INVALID_SETTINGS_SEARCH_CUTOFF_MS:"invalid_settings_search_cutoff_ms",INVALID_SETTINGS_LOCALIZED_ATTRIBUTES:"invalid_settings_localized_attributes",INVALID_TASK_BEFORE_ENQUEUED_AT:"invalid_task_before_enqueued_at",INVALID_TASK_AFTER_ENQUEUED_AT:"invalid_task_after_enqueued_at",INVALID_TASK_BEFORE_STARTED_AT:"invalid_task_before_started_at",INVALID_TASK_AFTER_STARTED_AT:"invalid_task_after_started_at",INVALID_TASK_BEFORE_FINISHED_AT:"invalid_task_before_finished_at",INVALID_TASK_AFTER_FINISHED_AT:"invalid_task_after_finished_at",MISSING_API_KEY_ACTIONS:"missing_api_key_actions",MISSING_API_KEY_INDEXES:"missing_api_key_indexes",MISSING_API_KEY_EXPIRES_AT:"missing_api_key_expires_at",INVALID_API_KEY_LIMIT:"invalid_api_key_limit",INVALID_API_KEY_OFFSET:"invalid_api_key_offset",INVALID_FACET_SEARCH_FACET_NAME:"invalid_facet_search_facet_name",MISSING_FACET_SEARCH_FACET_NAME:"missing_facet_search_facet_name",INVALID_FACET_SEARCH_FACET_QUERY:"invalid_facet_search_facet_query",INVALID_SEARCH_RANKING_SCORE_THRESHOLD:"invalid_search_ranking_score_threshold",INVALID_SIMILAR_RANKING_SCORE_THRESHOLD:"invalid_similar_ranking_score_threshold"};function o(x,m){(m==null||m>x.length)&&(m=x.length);for(var _=0,h=Array(m);_<m;_++)h[_]=x[_];return h}function s(x){if(Array.isArray(x))return x}function c(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function u(x,m,_,h,v,g,p){try{var y=x[g](p),b=y.value}catch(R){return void _(R)}y.done?m(b):Promise.resolve(b).then(h,v)}function l(x){return function(){var m=this,_=arguments;return new Promise(function(h,v){var g=x.apply(m,_);function p(b){u(g,h,v,p,y,"next",b)}function y(b){u(g,h,v,p,y,"throw",b)}p(void 0)})}}function d(x,m,_){return m=C(m),M(x,Y()?Reflect.construct(m,_||[],C(x).constructor):m.apply(x,_))}function f(x,m){if(!(x instanceof m))throw new TypeError("Cannot call a class as a function")}function S(x,m,_){if(Y())return Reflect.construct.apply(null,arguments);var h=[null];h.push.apply(h,m);var v=new(x.bind.apply(x,h));return _&&Z(v,_.prototype),v}function T(x,m){for(var _=0;_<m.length;_++){var h=m[_];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(x,Xe(h.key),h)}}function I(x,m,_){return m&&T(x.prototype,m),_&&T(x,_),Object.defineProperty(x,"prototype",{writable:!1}),x}function k(x,m){var _=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!_){if(Array.isArray(x)||(_=ze(x))||m){_&&(x=_);var h=0,v=function(){};return{s:v,n:function(){return h>=x.length?{done:!0}:{done:!1,value:x[h++]}},e:function(b){throw b},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,p=!0,y=!1;return{s:function(){_=_.call(x)},n:function(){var b=_.next();return p=b.done,b},e:function(b){y=!0,g=b},f:function(){try{p||_.return==null||_.return()}finally{if(y)throw g}}}}function w(x,m,_){return(m=Xe(m))in x?Object.defineProperty(x,m,{value:_,enumerable:!0,configurable:!0,writable:!0}):x[m]=_,x}function C(x){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},C(x)}function $(x,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(m&&m.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),m&&Z(x,m)}function W(x){try{return Function.toString.call(x).indexOf("[native code]")!==-1}catch{return typeof x=="function"}}function Y(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y=function(){return!!x})()}function N(x,m){var _=x==null?null:typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(_!=null){var h,v,g,p,y=[],b=!0,R=!1;try{if(g=(_=_.call(x)).next,m!==0)for(;!(b=(h=g.call(_)).done)&&(y.push(h.value),y.length!==m);b=!0);}catch(D){R=!0,v=D}finally{try{if(!b&&_.return!=null&&(p=_.return(),Object(p)!==p))return}finally{if(R)throw v}}return y}}function A(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V(x,m){var _=Object.keys(x);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(x);m&&(h=h.filter(function(v){return Object.getOwnPropertyDescriptor(x,v).enumerable})),_.push.apply(_,h)}return _}function F(x){for(var m=1;m<arguments.length;m++){var _=arguments[m]!=null?arguments[m]:{};m%2?V(Object(_),!0).forEach(function(h){w(x,h,_[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(_)):V(Object(_)).forEach(function(h){Object.defineProperty(x,h,Object.getOwnPropertyDescriptor(_,h))})}return x}function M(x,m){if(m&&(typeof m=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(x)}function E(){E=function(){return m};var x,m={},_=Object.prototype,h=_.hasOwnProperty,v=Object.defineProperty||function(U,P,z){U[P]=z.value},g=typeof Symbol=="function"?Symbol:{},p=g.iterator||"@@iterator",y=g.asyncIterator||"@@asyncIterator",b=g.toStringTag||"@@toStringTag";function R(U,P,z){return Object.defineProperty(U,P,{value:z,enumerable:!0,configurable:!0,writable:!0}),U[P]}try{R({},"")}catch{R=function(P,z,Te){return P[z]=Te}}function D(U,P,z,Te){var ne=P&&P.prototype instanceof $e?P:$e,Fe=Object.create(ne.prototype),yt=new xd(Te||[]);return v(Fe,"_invoke",{value:MT(U,z,yt)}),Fe}function K(U,P,z){try{return{type:"normal",arg:U.call(P,z)}}catch(Te){return{type:"throw",arg:Te}}}m.wrap=D;var B="suspendedStart",Gt="suspendedYield",Ke="executing",Rt="completed",et={};function $e(){}function Ct(){}function Pn(){}var _t={};R(_t,p,function(){return this});var dn=Object.getPrototypeOf,Lc=dn&&dn(dn(kd([])));Lc&&Lc!==_&&h.call(Lc,p)&&(_t=Lc);var Ha=Pn.prototype=$e.prototype=Object.create(_t);function qh(U){["next","throw","return"].forEach(function(P){R(U,P,function(z){return this._invoke(P,z)})})}function Pc(U,P){function z(ne,Fe,yt,_r){var yr=K(U[ne],U,Fe);if(yr.type!=="throw"){var Va=yr.arg,jo=Va.value;return jo&&typeof jo=="object"&&h.call(jo,"__await")?P.resolve(jo.__await).then(function(Ui){z("next",Ui,yt,_r)},function(Ui){z("throw",Ui,yt,_r)}):P.resolve(jo).then(function(Ui){Va.value=Ui,yt(Va)},function(Ui){return z("throw",Ui,yt,_r)})}_r(yr.arg)}var Te;v(this,"_invoke",{value:function(ne,Fe){function yt(){return new P(function(_r,yr){z(ne,Fe,_r,yr)})}return Te=Te?Te.then(yt,yt):yt()}})}function MT(U,P,z){var Te=B;return function(ne,Fe){if(Te===Ke)throw Error("Generator is already running");if(Te===Rt){if(ne==="throw")throw Fe;return{value:x,done:!0}}for(z.method=ne,z.arg=Fe;;){var yt=z.delegate;if(yt){var _r=Gh(yt,z);if(_r){if(_r===et)continue;return _r}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(Te===B)throw Te=Rt,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);Te=Ke;var yr=K(U,P,z);if(yr.type==="normal"){if(Te=z.done?Rt:Gt,yr.arg===et)continue;return{value:yr.arg,done:z.done}}yr.type==="throw"&&(Te=Rt,z.method="throw",z.arg=yr.arg)}}}function Gh(U,P){var z=P.method,Te=U.iterator[z];if(Te===x)return P.delegate=null,z==="throw"&&U.iterator.return&&(P.method="return",P.arg=x,Gh(U,P),P.method==="throw")||z!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+z+"' method")),et;var ne=K(Te,U.iterator,P.arg);if(ne.type==="throw")return P.method="throw",P.arg=ne.arg,P.delegate=null,et;var Fe=ne.arg;return Fe?Fe.done?(P[U.resultName]=Fe.value,P.next=U.nextLoc,P.method!=="return"&&(P.method="next",P.arg=x),P.delegate=null,et):Fe:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,et)}function DT(U){var P={tryLoc:U[0]};1 in U&&(P.catchLoc=U[1]),2 in U&&(P.finallyLoc=U[2],P.afterLoc=U[3]),this.tryEntries.push(P)}function wd(U){var P=U.completion||{};P.type="normal",delete P.arg,U.completion=P}function xd(U){this.tryEntries=[{tryLoc:"root"}],U.forEach(DT,this),this.reset(!0)}function kd(U){if(U||U===""){var P=U[p];if(P)return P.call(U);if(typeof U.next=="function")return U;if(!isNaN(U.length)){var z=-1,Te=function ne(){for(;++z<U.length;)if(h.call(U,z))return ne.value=U[z],ne.done=!1,ne;return ne.value=x,ne.done=!0,ne};return Te.next=Te}}throw new TypeError(typeof U+" is not iterable")}return Ct.prototype=Pn,v(Ha,"constructor",{value:Pn,configurable:!0}),v(Pn,"constructor",{value:Ct,configurable:!0}),Ct.displayName=R(Pn,b,"GeneratorFunction"),m.isGeneratorFunction=function(U){var P=typeof U=="function"&&U.constructor;return!!P&&(P===Ct||(P.displayName||P.name)==="GeneratorFunction")},m.mark=function(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,Pn):(U.__proto__=Pn,R(U,b,"GeneratorFunction")),U.prototype=Object.create(Ha),U},m.awrap=function(U){return{__await:U}},qh(Pc.prototype),R(Pc.prototype,y,function(){return this}),m.AsyncIterator=Pc,m.async=function(U,P,z,Te,ne){ne===void 0&&(ne=Promise);var Fe=new Pc(D(U,P,z,Te),ne);return m.isGeneratorFunction(P)?Fe:Fe.next().then(function(yt){return yt.done?yt.value:Fe.next()})},qh(Ha),R(Ha,b,"Generator"),R(Ha,p,function(){return this}),R(Ha,"toString",function(){return"[object Generator]"}),m.keys=function(U){var P=Object(U),z=[];for(var Te in P)z.push(Te);return z.reverse(),function ne(){for(;z.length;){var Fe=z.pop();if(Fe in P)return ne.value=Fe,ne.done=!1,ne}return ne.done=!0,ne}},m.values=kd,xd.prototype={constructor:xd,reset:function(U){if(this.prev=0,this.next=0,this.sent=this._sent=x,this.done=!1,this.delegate=null,this.method="next",this.arg=x,this.tryEntries.forEach(wd),!U)for(var P in this)P.charAt(0)==="t"&&h.call(this,P)&&!isNaN(+P.slice(1))&&(this[P]=x)},stop:function(){this.done=!0;var U=this.tryEntries[0].completion;if(U.type==="throw")throw U.arg;return this.rval},dispatchException:function(U){if(this.done)throw U;var P=this;function z(yr,Va){return Fe.type="throw",Fe.arg=U,P.next=yr,Va&&(P.method="next",P.arg=x),!!Va}for(var Te=this.tryEntries.length-1;Te>=0;--Te){var ne=this.tryEntries[Te],Fe=ne.completion;if(ne.tryLoc==="root")return z("end");if(ne.tryLoc<=this.prev){var yt=h.call(ne,"catchLoc"),_r=h.call(ne,"finallyLoc");if(yt&&_r){if(this.prev<ne.catchLoc)return z(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return z(ne.finallyLoc)}else if(yt){if(this.prev<ne.catchLoc)return z(ne.catchLoc,!0)}else{if(!_r)throw Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return z(ne.finallyLoc)}}}},abrupt:function(U,P){for(var z=this.tryEntries.length-1;z>=0;--z){var Te=this.tryEntries[z];if(Te.tryLoc<=this.prev&&h.call(Te,"finallyLoc")&&this.prev<Te.finallyLoc){var ne=Te;break}}ne&&(U==="break"||U==="continue")&&ne.tryLoc<=P&&P<=ne.finallyLoc&&(ne=null);var Fe=ne?ne.completion:{};return Fe.type=U,Fe.arg=P,ne?(this.method="next",this.next=ne.finallyLoc,et):this.complete(Fe)},complete:function(U,P){if(U.type==="throw")throw U.arg;return U.type==="break"||U.type==="continue"?this.next=U.arg:U.type==="return"?(this.rval=this.arg=U.arg,this.method="return",this.next="end"):U.type==="normal"&&P&&(this.next=P),et},finish:function(U){for(var P=this.tryEntries.length-1;P>=0;--P){var z=this.tryEntries[P];if(z.finallyLoc===U)return this.complete(z.completion,z.afterLoc),wd(z),et}},catch:function(U){for(var P=this.tryEntries.length-1;P>=0;--P){var z=this.tryEntries[P];if(z.tryLoc===U){var Te=z.completion;if(Te.type==="throw"){var ne=Te.arg;wd(z)}return ne}}throw Error("illegal catch attempt")},delegateYield:function(U,P,z){return this.delegate={iterator:kd(U),resultName:P,nextLoc:z},this.method==="next"&&(this.arg=x),et}},m}function Z(x,m){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,h){return _.__proto__=h,_},Z(x,m)}function ge(x,m){return s(x)||N(x,m)||ze(x,m)||A()}function Re(x,m){if(typeof x!="object"||!x)return x;var _=x[Symbol.toPrimitive];if(_!==void 0){var h=_.call(x,m);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}function Xe(x){var m=Re(x,"string");return typeof m=="symbol"?m:m+""}function de(x){"@babel/helpers - typeof";return de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},de(x)}function ze(x,m){if(x){if(typeof x=="string")return o(x,m);var _={}.toString.call(x).slice(8,-1);return _==="Object"&&x.constructor&&(_=x.constructor.name),_==="Map"||_==="Set"?Array.from(x):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?o(x,m):void 0}}function Ee(x){var m=typeof Map=="function"?new Map:void 0;return Ee=function(_){if(_===null||!W(_))return _;if(typeof _!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(_))return m.get(_);m.set(_,h)}function h(){return S(_,arguments,C(this).constructor)}return h.prototype=Object.create(_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),Z(h,_)},Ee(x)}var He=(function(x){function m(){var _;f(this,m);for(var h=arguments.length,v=new Array(h),g=0;g<h;g++)v[g]=arguments[g];return _=d(this,m,[].concat(v)),w(_,"name","MeiliSearchError"),_}return $(m,x),I(m)})(Ee(Error)),Tt=(function(x){function m(_,h){var v,g;return f(this,m),g=d(this,m,[(v=h?.message)!==null&&v!==void 0?v:"".concat(_.status,": ").concat(_.statusText)]),w(g,"name","MeiliSearchApiError"),w(g,"cause",void 0),w(g,"response",void 0),g.response=_,h!==void 0&&(g.cause=h),g}return $(m,x),I(m)})(He),qt=(function(x){function m(_,h){var v;return f(this,m),v=d(this,m,["Request to ".concat(_," has failed"),{cause:h}]),w(v,"name","MeiliSearchRequestError"),v}return $(m,x),I(m)})(He),At=(function(x){function m(_){var h;return f(this,m),h=d(this,m,[_]),w(h,"name","MeiliSearchTimeOutError"),h}return $(m,x),I(m)})(He);function ft(x,m){return"".concat(x,`
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that `).concat(m," call requires.")}function pt(x){return Object.entries(x).reduce(function(m,_){var h=ge(_,2),v=h[0],g=h[1];return g!==void 0&&(m[v]=g),m},{})}function Qe(x){return Kr.apply(this,arguments)}function Kr(){return Kr=l(E().mark(function x(m){return E().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,new Promise(function(v){return setTimeout(v,m)});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},x)})),Kr.apply(this,arguments)}function Vo(x){return x.startsWith("https://")||x.startsWith("http://")?x:"http://".concat(x)}function zo(x){return x.endsWith("/")||(x+="/"),x}var Mc="0.44.1";function ui(x){var m=Object.keys(x),_=m.reduce(function(h,v){var g=x[v];return g===void 0?h:Array.isArray(g)?F(F({},h),{},w({},v,g.join(","))):g instanceof Date?F(F({},h),{},w({},v,g.toISOString())):F(F({},h),{},w({},v,g))},{});return _}function Dc(x){try{return x=Vo(x),x=zo(x),x}catch{throw new He("The provided host is not valid.")}}function Td(x){if(Array.isArray(x))return x.reduce(function(_,h){return _[h[0]]=h[1],_},{});if("has"in x){var m={};return x.forEach(function(_,h){return m[h]=_}),m}else return Object.assign({},x)}function Id(x){var m,_,h="X-Meilisearch-Client",v="Meilisearch JavaScript (v".concat(Mc,")"),g="Content-Type",p="Authorization",y=Td((m=(_=x.requestConfig)===null||_===void 0?void 0:_.headers)!==null&&m!==void 0?m:{});if(x.apiKey&&!y[p]&&(y[p]="Bearer ".concat(x.apiKey)),y[g]||(y["Content-Type"]="application/json"),x.clientAgents&&Array.isArray(x.clientAgents)){var b=x.clientAgents.concat(v);y[h]=b.join(" ; ")}else{if(x.clientAgents&&!Array.isArray(x.clientAgents))throw new He('Meilisearch: The header "'.concat(h,`" should be an array of string(s).
`));y[h]=v}return y}var Cr=(function(){function x(m){f(this,x),w(this,"headers",void 0),w(this,"url",void 0),w(this,"requestConfig",void 0),w(this,"httpClient",void 0),w(this,"requestTimeout",void 0),this.headers=Id(m),this.requestConfig=m.requestConfig,this.httpClient=m.httpClient,this.requestTimeout=m.timeout;try{var _=Dc(m.host);this.url=new URL(_)}catch{throw new He("The provided host is not valid.")}}return I(x,[{key:"request",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D,K,B,Gt,Ke,Rt,et,$e,Ct;return E().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return p=v.method,y=v.url,b=v.params,R=v.body,D=v.config,K=D===void 0?{}:D,B=new URL(y,this.url),b&&(Gt=new URLSearchParams,Object.keys(b).filter(function(dn){return b[dn]!==null}).map(function(dn){return Gt.set(dn,b[dn])}),B.search=Gt.toString()),(g=K.headers)!==null&&g!==void 0&&g["Content-Type"]||(R=JSON.stringify(R)),Ke=F(F({},this.headers),K.headers),Rt=this.fetchWithTimeout(B.toString(),F(F(F({},K),this.requestConfig),{},{method:p,body:R,headers:Ke}),this.requestTimeout),_t.next=8,Rt.catch(function(dn){throw new qt(B.toString(),dn)});case 8:if(et=_t.sent,this.httpClient===void 0){_t.next=11;break}return _t.abrupt("return",et);case 11:return _t.next=13,et.text();case 13:if($e=_t.sent,Ct=$e===""?void 0:JSON.parse($e),et.ok){_t.next=17;break}throw new Tt(et,Ct);case 17:return _t.abrupt("return",Ct);case 18:case"end":return _t.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"fetchWithTimeout",value:(function(){var m=l(E().mark(function h(v,g,p){var y=this;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",new Promise(function(D,K){var B=y.httpClient?y.httpClient:fetch,Gt=B(v,g),Ke=[Gt],Rt;if(p){var et=new Promise(function($e,Ct){Rt=setTimeout(function(){Ct(new Error("Error: Request Timed Out"))},p)});Ke.push(et)}Promise.race(Ke).then(D).catch(K).finally(function(){clearTimeout(Rt)})}));case 1:case"end":return R.stop()}},h)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"get",value:(function(){var m=l(E().mark(function h(v,g,p){return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.request({method:"GET",url:v,params:g,config:p});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},h,this)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"post",value:(function(){var m=l(E().mark(function h(v,g,p,y){return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.request({method:"POST",url:v,body:g,params:p,config:y});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},h,this)}));function _(h,v,g,p){return m.apply(this,arguments)}return _})()},{key:"put",value:(function(){var m=l(E().mark(function h(v,g,p,y){return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.request({method:"PUT",url:v,body:g,params:p,config:y});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},h,this)}));function _(h,v,g,p){return m.apply(this,arguments)}return _})()},{key:"patch",value:(function(){var m=l(E().mark(function h(v,g,p,y){return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.request({method:"PATCH",url:v,body:g,params:p,config:y});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},h,this)}));function _(h,v,g,p){return m.apply(this,arguments)}return _})()},{key:"delete",value:(function(){var m=l(E().mark(function h(v,g,p,y){return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,this.request({method:"DELETE",url:v,body:g,params:p,config:y});case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},h,this)}));function _(h,v,g,p){return m.apply(this,arguments)}return _})()}])})(),Se=I(function x(m){f(this,x),w(this,"taskUid",void 0),w(this,"indexUid",void 0),w(this,"status",void 0),w(this,"type",void 0),w(this,"enqueuedAt",void 0),this.taskUid=m.taskUid,this.indexUid=m.indexUid,this.status=m.status,this.type=m.type,this.enqueuedAt=new Date(m.enqueuedAt)}),Fa=I(function x(m){f(this,x),w(this,"indexUid",void 0),w(this,"status",void 0),w(this,"type",void 0),w(this,"uid",void 0),w(this,"canceledBy",void 0),w(this,"details",void 0),w(this,"error",void 0),w(this,"duration",void 0),w(this,"startedAt",void 0),w(this,"enqueuedAt",void 0),w(this,"finishedAt",void 0),this.indexUid=m.indexUid,this.status=m.status,this.type=m.type,this.uid=m.uid,this.details=m.details,this.canceledBy=m.canceledBy,this.error=m.error,this.duration=m.duration,this.startedAt=new Date(m.startedAt),this.enqueuedAt=new Date(m.enqueuedAt),this.finishedAt=new Date(m.finishedAt)}),Ba=(function(){function x(m){f(this,x),w(this,"httpRequest",void 0),this.httpRequest=new Cr(m)}return I(x,[{key:"getTask",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="tasks/".concat(v),b.next=3,this.httpRequest.get(g);case 3:return p=b.sent,b.abrupt("return",new Fa(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getTasks",value:(function(){var m=l(E().mark(function h(){var v,g,p,y=arguments;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=y.length>0&&y[0]!==void 0?y[0]:{},g="tasks",R.next=4,this.httpRequest.get(g,ui(v));case 4:return p=R.sent,R.abrupt("return",F(F({},p),{},{results:p.results.map(function(D){return new Fa(D)})}));case 6:case"end":return R.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"waitForTask",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D,K,B=arguments;return E().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:g=B.length>1&&B[1]!==void 0?B[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,D=Date.now();case 2:if(!(Date.now()-D<y)){Ke.next=12;break}return Ke.next=5,this.getTask(v);case 5:if(K=Ke.sent,[n.TASK_ENQUEUED,n.TASK_PROCESSING].includes(K.status)){Ke.next=8;break}return Ke.abrupt("return",K);case 8:return Ke.next=10,Qe(R);case 10:Ke.next=2;break;case 12:throw new At("timeout of ".concat(y,"ms has exceeded on process ").concat(v," when waiting a task to be resolved."));case 13:case"end":return Ke.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"waitForTasks",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D,K,B,Gt,Ke,Rt=arguments;return E().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:g=Rt.length>1&&Rt[1]!==void 0?Rt[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,D=[],K=k(v),$e.prev=3,K.s();case 5:if((B=K.n()).done){$e.next=13;break}return Gt=B.value,$e.next=9,this.waitForTask(Gt,{timeOutMs:y,intervalMs:R});case 9:Ke=$e.sent,D.push(Ke);case 11:$e.next=5;break;case 13:$e.next=18;break;case 15:$e.prev=15,$e.t0=$e.catch(3),K.e($e.t0);case 18:return $e.prev=18,K.f(),$e.finish(18);case 21:return $e.abrupt("return",D);case 22:case"end":return $e.stop()}},h,this,[[3,15,18,21]])}));function _(h){return m.apply(this,arguments)}return _})()},{key:"cancelTasks",value:(function(){var m=l(E().mark(function h(){var v,g,p,y=arguments;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=y.length>0&&y[0]!==void 0?y[0]:{},g="tasks/cancel",R.next=4,this.httpRequest.post(g,{},ui(v));case 4:return p=R.sent,R.abrupt("return",new Se(p));case 6:case"end":return R.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"deleteTasks",value:(function(){var m=l(E().mark(function h(){var v,g,p,y=arguments;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=y.length>0&&y[0]!==void 0?y[0]:{},g="tasks",R.next=4,this.httpRequest.delete(g,{},ui(v));case 4:return p=R.sent,R.abrupt("return",new Se(p));case 6:case"end":return R.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()}])})(),vr=(function(){function x(m,_,h){f(this,x),w(this,"uid",void 0),w(this,"primaryKey",void 0),w(this,"createdAt",void 0),w(this,"updatedAt",void 0),w(this,"httpRequest",void 0),w(this,"tasks",void 0),this.uid=_,this.primaryKey=h,this.httpRequest=new Cr(m),this.tasks=new Ba(m)}return I(x,[{key:"search",value:(function(){var m=l(E().mark(function h(v,g,p){var y;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return y="indexes/".concat(this.uid,"/search"),R.next=3,this.httpRequest.post(y,pt(F({q:v},g)),void 0,p);case 3:return R.abrupt("return",R.sent);case 4:case"end":return R.stop()}},h,this)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"searchGet",value:(function(){var m=l(E().mark(function h(v,g,p){var y,b,R,D,K,B,Gt,Ke,Rt,et;return E().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return Ke="indexes/".concat(this.uid,"/search"),Rt=function(_t){if(typeof _t=="string")return _t;if(Array.isArray(_t))throw new He("The filter query parameter should be in string format when using searchGet")},et=F(F({q:v},g),{},{filter:Rt(g?.filter),sort:g==null||(y=g.sort)===null||y===void 0?void 0:y.join(","),facets:g==null||(b=g.facets)===null||b===void 0?void 0:b.join(","),attributesToRetrieve:g==null||(R=g.attributesToRetrieve)===null||R===void 0?void 0:R.join(","),attributesToCrop:g==null||(D=g.attributesToCrop)===null||D===void 0?void 0:D.join(","),attributesToHighlight:g==null||(K=g.attributesToHighlight)===null||K===void 0?void 0:K.join(","),vector:g==null||(B=g.vector)===null||B===void 0?void 0:B.join(","),attributesToSearchOn:g==null||(Gt=g.attributesToSearchOn)===null||Gt===void 0?void 0:Gt.join(",")}),Ct.next=5,this.httpRequest.get(Ke,pt(et),p);case 5:return Ct.abrupt("return",Ct.sent);case 6:case"end":return Ct.stop()}},h,this)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"searchForFacetValues",value:(function(){var m=l(E().mark(function h(v,g){var p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p="indexes/".concat(this.uid,"/facet-search"),b.next=3,this.httpRequest.post(p,pt(v),void 0,g);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"searchSimilarDocuments",value:(function(){var m=l(E().mark(function h(v){var g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g="indexes/".concat(this.uid,"/similar"),y.next=3,this.httpRequest.post(g,pt(v),void 0);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getRawInfo",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid),y.next=3,this.httpRequest.get(v);case 3:return g=y.sent,this.primaryKey=g.primaryKey,this.updatedAt=new Date(g.updatedAt),this.createdAt=new Date(g.createdAt),y.abrupt("return",g);case 8:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"fetchInfo",value:(function(){var m=l(E().mark(function h(){return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.getRawInfo();case 2:return g.abrupt("return",this);case 3:case"end":return g.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"fetchPrimaryKey",value:(function(){var m=l(E().mark(function h(){return E().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this.getRawInfo();case 2:return this.primaryKey=g.sent.primaryKey,g.abrupt("return",this.primaryKey);case 4:case"end":return g.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"update",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,p.enqueuedAt=new Date(p.enqueuedAt),b.abrupt("return",p);case 6:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"delete",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getTasks",value:(function(){var m=l(E().mark(function h(){var v,g=arguments;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v=g.length>0&&g[0]!==void 0?g[0]:{},y.next=3,this.tasks.getTasks(F(F({},v),{},{indexUids:[this.uid]}));case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getTask",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.tasks.getTask(v);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"waitForTasks",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return g=D.length>1&&D[1]!==void 0?D[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,B.next=3,this.tasks.waitForTasks(v,{timeOutMs:y,intervalMs:R});case 3:return B.abrupt("return",B.sent);case 4:case"end":return B.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"waitForTask",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return g=D.length>1&&D[1]!==void 0?D[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,B.next=3,this.tasks.waitForTask(v,{timeOutMs:y,intervalMs:R});case 3:return B.abrupt("return",B.sent);case 4:case"end":return B.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getStats",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/stats"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getDocuments",value:(function(){var m=l(E().mark(function h(){var v,g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(v=D.length>0&&D[0]!==void 0?D[0]:{},v=pt(v),v.filter===void 0){B.next=16;break}return B.prev=3,g="indexes/".concat(this.uid,"/documents/fetch"),B.next=7,this.httpRequest.post(g,v);case 7:return B.abrupt("return",B.sent);case 10:throw B.prev=10,B.t0=B.catch(3),(B.t0 instanceof qt||B.t0 instanceof Tt)&&(B.t0.message=ft(B.t0.message,"getDocuments")),B.t0;case 14:B.next=21;break;case 16:return b="indexes/".concat(this.uid,"/documents"),R=Array.isArray((p=v)===null||p===void 0?void 0:p.fields)?{fields:(y=v)===null||y===void 0||(y=y.fields)===null||y===void 0?void 0:y.join(",")}:{},B.next=20,this.httpRequest.get(b,F(F({},v),R));case 20:return B.abrupt("return",B.sent);case 21:case"end":return B.stop()}},h,this,[[3,10]])}));function _(){return m.apply(this,arguments)}return _})()},{key:"getDocument",value:(function(){var m=l(E().mark(function h(v,g){var p,y;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return p="indexes/".concat(this.uid,"/documents/").concat(v),y=(function(){if(Array.isArray(g?.fields)){var D;return g==null||(D=g.fields)===null||D===void 0?void 0:D.join(",")}})(),R.next=4,this.httpRequest.get(p,pt(F(F({},g),{},{fields:y})));case 4:return R.abrupt("return",R.sent);case 5:case"end":return R.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"addDocuments",value:(function(){var m=l(E().mark(function h(v,g){var p,y;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return p="indexes/".concat(this.uid,"/documents"),R.next=3,this.httpRequest.post(p,v,g);case 3:return y=R.sent,R.abrupt("return",new Se(y));case 5:case"end":return R.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"addDocumentsFromString",value:(function(){var m=l(E().mark(function h(v,g,p){var y,b;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y="indexes/".concat(this.uid,"/documents"),D.next=3,this.httpRequest.post(y,v,p,{headers:{"Content-Type":g}});case 3:return b=D.sent,D.abrupt("return",new Se(b));case 5:case"end":return D.stop()}},h,this)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"addDocumentsInBatches",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R=arguments;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:g=R.length>1&&R[1]!==void 0?R[1]:1e3,p=R.length>2?R[2]:void 0,y=[],b=0;case 4:if(!(b<v.length)){K.next=13;break}return K.t0=y,K.next=8,this.addDocuments(v.slice(b,b+g),p);case 8:K.t1=K.sent,K.t0.push.call(K.t0,K.t1);case 10:b+=g,K.next=4;break;case 13:return K.abrupt("return",y);case 14:case"end":return K.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"updateDocuments",value:(function(){var m=l(E().mark(function h(v,g){var p,y;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return p="indexes/".concat(this.uid,"/documents"),R.next=3,this.httpRequest.put(p,v,g);case 3:return y=R.sent,R.abrupt("return",new Se(y));case 5:case"end":return R.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"updateDocumentsInBatches",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R=arguments;return E().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:g=R.length>1&&R[1]!==void 0?R[1]:1e3,p=R.length>2?R[2]:void 0,y=[],b=0;case 4:if(!(b<v.length)){K.next=13;break}return K.t0=y,K.next=8,this.updateDocuments(v.slice(b,b+g),p);case 8:K.t1=K.sent,K.t0.push.call(K.t0,K.t1);case 10:b+=g,K.next=4;break;case 13:return K.abrupt("return",y);case 14:case"end":return K.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"updateDocumentsFromString",value:(function(){var m=l(E().mark(function h(v,g,p){var y,b;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return y="indexes/".concat(this.uid,"/documents"),D.next=3,this.httpRequest.put(y,v,p,{headers:{"Content-Type":g}});case 3:return b=D.sent,D.abrupt("return",new Se(b));case 5:case"end":return D.stop()}},h,this)}));function _(h,v,g){return m.apply(this,arguments)}return _})()},{key:"deleteDocument",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/documents/").concat(v),b.next=3,this.httpRequest.delete(g);case 3:return p=b.sent,p.enqueuedAt=new Date(p.enqueuedAt),b.abrupt("return",p);case 6:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"deleteDocuments",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return g=!Array.isArray(v)&&de(v)==="object",p=g?"documents/delete":"documents/delete-batch",y="indexes/".concat(this.uid,"/").concat(p),D.prev=3,D.next=6,this.httpRequest.post(y,v);case 6:return b=D.sent,D.abrupt("return",new Se(b));case 10:throw D.prev=10,D.t0=D.catch(3),(D.t0 instanceof qt&&g||D.t0 instanceof Tt)&&(D.t0.message=ft(D.t0.message,"deleteDocuments")),D.t0;case 14:case"end":return D.stop()}},h,this,[[3,10]])}));function _(h){return m.apply(this,arguments)}return _})()},{key:"deleteAllDocuments",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/documents"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateDocumentsByFunction",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/documents/edit"),b.next=3,this.httpRequest.post(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getSettings",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSettings",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings"),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,p.enqueued=new Date(p.enqueuedAt),b.abrupt("return",p);case 6:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSettings",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getPagination",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/pagination"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updatePagination",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/pagination"),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetPagination",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/pagination"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getSynonyms",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/synonyms"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSynonyms",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/synonyms"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSynonyms",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/synonyms"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getStopWords",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/stop-words"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateStopWords",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/stop-words"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetStopWords",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/stop-words"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getRankingRules",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/ranking-rules"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateRankingRules",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/ranking-rules"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetRankingRules",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/ranking-rules"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getDistinctAttribute",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/distinct-attribute"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateDistinctAttribute",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/distinct-attribute"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetDistinctAttribute",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/distinct-attribute"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getFilterableAttributes",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/filterable-attributes"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateFilterableAttributes",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/filterable-attributes"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetFilterableAttributes",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/filterable-attributes"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getSortableAttributes",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/sortable-attributes"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSortableAttributes",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/sortable-attributes"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSortableAttributes",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/sortable-attributes"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getSearchableAttributes",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/searchable-attributes"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSearchableAttributes",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/searchable-attributes"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSearchableAttributes",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/searchable-attributes"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getDisplayedAttributes",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/displayed-attributes"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateDisplayedAttributes",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/displayed-attributes"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetDisplayedAttributes",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/displayed-attributes"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getTypoTolerance",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/typo-tolerance"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateTypoTolerance",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/typo-tolerance"),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,p.enqueuedAt=new Date(p.enqueuedAt),b.abrupt("return",p);case 6:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetTypoTolerance",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/typo-tolerance"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getFaceting",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/faceting"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateFaceting",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/faceting"),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetFaceting",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/faceting"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getSeparatorTokens",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/separator-tokens"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSeparatorTokens",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/separator-tokens"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSeparatorTokens",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/separator-tokens"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getNonSeparatorTokens",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/non-separator-tokens"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateNonSeparatorTokens",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/non-separator-tokens"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetNonSeparatorTokens",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/non-separator-tokens"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getDictionary",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/dictionary"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateDictionary",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/dictionary"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetDictionary",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/dictionary"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getProximityPrecision",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/proximity-precision"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateProximityPrecision",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/proximity-precision"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetProximityPrecision",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/proximity-precision"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getEmbedders",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/embedders"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateEmbedders",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/embedders"),b.next=3,this.httpRequest.patch(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetEmbedders",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/embedders"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,g.enqueuedAt=new Date(g.enqueuedAt),y.abrupt("return",g);case 6:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getSearchCutoffMs",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateSearchCutoffMs",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetSearchCutoffMs",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getLocalizedAttributes",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="indexes/".concat(this.uid,"/settings/localized-attributes"),p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"updateLocalizedAttributes",value:(function(){var m=l(E().mark(function h(v){var g,p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g="indexes/".concat(this.uid,"/settings/localized-attributes"),b.next=3,this.httpRequest.put(g,v);case 3:return p=b.sent,b.abrupt("return",new Se(p));case 5:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"resetLocalizedAttributes",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="indexes/".concat(this.uid,"/settings/localized-attributes"),y.next=3,this.httpRequest.delete(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()}],[{key:"create",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return g=D.length>1&&D[1]!==void 0?D[1]:{},p=D.length>2?D[2]:void 0,y="indexes",b=new Cr(p),B.next=6,b.post(y,F(F({},g),{},{uid:v}));case 6:return R=B.sent,B.abrupt("return",new Se(R));case 8:case"end":return B.stop()}},h)}));function _(h){return m.apply(this,arguments)}return _})()}])})(),$o=(function(){function x(m){f(this,x),w(this,"config",void 0),w(this,"httpRequest",void 0),w(this,"tasks",void 0),this.config=m,this.httpRequest=new Cr(m),this.tasks=new Ba(m)}return I(x,[{key:"index",value:function(_){return new vr(this.config,_)}},{key:"getIndex",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",new vr(this.config,v).fetchInfo());case 1:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getRawIndex",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",new vr(this.config,v).getRawInfo());case 1:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"getIndexes",value:(function(){var m=l(E().mark(function h(){var v=this,g,p,y,b=arguments;return E().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return g=b.length>0&&b[0]!==void 0?b[0]:{},D.next=3,this.getRawIndexes(g);case 3:return p=D.sent,y=p.results.map(function(K){return new vr(v.config,K.uid,K.primaryKey)}),D.abrupt("return",F(F({},p),{},{results:y}));case 6:case"end":return D.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getRawIndexes",value:(function(){var m=l(E().mark(function h(){var v,g,p=arguments;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return v=p.length>0&&p[0]!==void 0?p[0]:{},g="indexes",b.next=4,this.httpRequest.get(g,v);case 4:return b.abrupt("return",b.sent);case 5:case"end":return b.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"createIndex",value:(function(){var m=l(E().mark(function h(v){var g,p=arguments;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=p.length>1&&p[1]!==void 0?p[1]:{},b.next=3,vr.create(v,g,this.config);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"updateIndex",value:(function(){var m=l(E().mark(function h(v){var g,p=arguments;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=p.length>1&&p[1]!==void 0?p[1]:{},b.next=3,new vr(this.config,v).update(g);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"deleteIndex",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,new vr(this.config,v).delete();case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"deleteIndexIfExists",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,this.deleteIndex(v);case 3:return p.abrupt("return",!0);case 6:if(p.prev=6,p.t0=p.catch(0),p.t0.code!==a.INDEX_NOT_FOUND){p.next=10;break}return p.abrupt("return",!1);case 10:throw p.t0;case 11:case"end":return p.stop()}},h,this,[[0,6]])}));function _(h){return m.apply(this,arguments)}return _})()},{key:"swapIndexes",value:(function(){var m=l(E().mark(function h(v){var g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g="/swap-indexes",y.next=3,this.httpRequest.post(g,v);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"multiSearch",value:(function(){var m=l(E().mark(function h(v,g){var p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p="multi-search",b.next=3,this.httpRequest.post(p,v,void 0,g);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"getTasks",value:(function(){var m=l(E().mark(function h(){var v,g=arguments;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v=g.length>0&&g[0]!==void 0?g[0]:{},y.next=3,this.tasks.getTasks(v);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getTask",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.tasks.getTask(v);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"waitForTasks",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return g=D.length>1&&D[1]!==void 0?D[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,B.next=3,this.tasks.waitForTasks(v,{timeOutMs:y,intervalMs:R});case 3:return B.abrupt("return",B.sent);case 4:case"end":return B.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"waitForTask",value:(function(){var m=l(E().mark(function h(v){var g,p,y,b,R,D=arguments;return E().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return g=D.length>1&&D[1]!==void 0?D[1]:{},p=g.timeOutMs,y=p===void 0?5e3:p,b=g.intervalMs,R=b===void 0?50:b,B.next=3,this.tasks.waitForTask(v,{timeOutMs:y,intervalMs:R});case 3:return B.abrupt("return",B.sent);case 4:case"end":return B.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"cancelTasks",value:(function(){var m=l(E().mark(function h(v){return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this.tasks.cancelTasks(v);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"deleteTasks",value:(function(){var m=l(E().mark(function h(){var v,g=arguments;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v=g.length>0&&g[0]!==void 0?g[0]:{},y.next=3,this.tasks.deleteTasks(v);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getKeys",value:(function(){var m=l(E().mark(function h(){var v,g,p,y=arguments;return E().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v=y.length>0&&y[0]!==void 0?y[0]:{},g="keys",R.next=4,this.httpRequest.get(g,v);case 4:return p=R.sent,p.results=p.results.map(function(D){return F(F({},D),{},{createdAt:new Date(D.createdAt),updatedAt:new Date(D.updatedAt)})}),R.abrupt("return",p);case 7:case"end":return R.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getKey",value:(function(){var m=l(E().mark(function h(v){var g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g="keys/".concat(v),y.next=3,this.httpRequest.get(g);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"createKey",value:(function(){var m=l(E().mark(function h(v){var g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g="keys",y.next=3,this.httpRequest.post(g,v);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"updateKey",value:(function(){var m=l(E().mark(function h(v,g){var p;return E().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p="keys/".concat(v),b.next=3,this.httpRequest.patch(p,g);case 3:return b.abrupt("return",b.sent);case 4:case"end":return b.stop()}},h,this)}));function _(h,v){return m.apply(this,arguments)}return _})()},{key:"deleteKey",value:(function(){var m=l(E().mark(function h(v){var g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return g="keys/".concat(v),y.next=3,this.httpRequest.delete(g);case 3:return y.abrupt("return",y.sent);case 4:case"end":return y.stop()}},h,this)}));function _(h){return m.apply(this,arguments)}return _})()},{key:"health",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="health",p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"isHealthy",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,v="health",p.next=4,this.httpRequest.get(v);case 4:return p.abrupt("return",!0);case 7:return p.prev=7,p.t0=p.catch(0),p.abrupt("return",!1);case 10:case"end":return p.stop()}},h,this,[[0,7]])}));function _(){return m.apply(this,arguments)}return _})()},{key:"getStats",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="stats",p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"getVersion",value:(function(){var m=l(E().mark(function h(){var v;return E().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return v="version",p.next=3,this.httpRequest.get(v);case 3:return p.abrupt("return",p.sent);case 4:case"end":return p.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"createDump",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="dumps",y.next=3,this.httpRequest.post(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"createSnapshot",value:(function(){var m=l(E().mark(function h(){var v,g;return E().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v="snapshots",y.next=3,this.httpRequest.post(v);case 3:return g=y.sent,y.abrupt("return",new Se(g));case 5:case"end":return y.stop()}},h,this)}));function _(){return m.apply(this,arguments)}return _})()},{key:"generateTenantToken",value:function(_,h,v){var g=new Error;return g.message=`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 `.concat(g.stack,"."),Promise.reject(g)}}])})(),ke=(function(x){function m(_){return f(this,m),d(this,m,[_])}return $(m,x),I(m)})($o);e.ContentTypeEnum=r,e.ErrorStatusCode=a,e.Index=vr,e.MatchingStrategies=t,e.MeiliSearch=ke,e.MeiliSearchApiError=Tt,e.MeiliSearchError=He,e.MeiliSearchRequestError=qt,e.MeiliSearchTimeOutError=At,e.Meilisearch=ke,e.TaskStatus=n,e.TaskTypes=i,e.default=ke,e.versionErrorHintMessage=ft,Object.defineProperty(e,"__esModule",{value:!0})}))});var Q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var Xr="8.55.0";var te=globalThis;function li(e,t,r){let n=r||te,i=n.__SENTRY__=n.__SENTRY__||{},a=i[Xr]=i[Xr]||{};return a[e]||(a[e]=t())}var or=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var jT="Sentry Logger ",qo=["debug","info","warn","error","log","assert","trace"],za={};function Ft(e){if(!("console"in te))return e();let t=te.console,r={},n=Object.keys(za);n.forEach(i=>{let a=za[i];r[i]=t[i],t[i]=a});try{return e()}finally{n.forEach(i=>{t[i]=r[i]})}}function qT(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return or?qo.forEach(r=>{t[r]=(...n)=>{e&&Ft(()=>{te.console[r](`${jT}[${r}]:`,...n)})}}):qo.forEach(r=>{t[r]=()=>{}}),t}var O=li("logger",qT);var Wh=/\(error: (.*)\)/,Yh=/captureMessage|captureException/;function Fc(...e){let t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{let a=[],o=r.split(`
`);for(let s=n;s<o.length;s++){let c=o[s];if(c.length>1024)continue;let u=Wh.test(c)?c.replace(Wh,"$1"):c;if(!u.match(/\S*Error: /)){for(let l of t){let d=l(u);if(d){a.push(d);break}}if(a.length>=50+i)break}}return Kh(a.slice(i))}}function Cd(e){return Array.isArray(e)?Fc(...e):e}function Kh(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(Uc(t).function||"")&&t.pop(),t.reverse(),Yh.test(Uc(t).function||"")&&(t.pop(),Yh.test(Uc(t).function||"")&&t.pop()),t.slice(0,50).map(r=>({...r,filename:r.filename||Uc(t).filename,function:r.function||"?"}))}function Uc(e){return e[e.length-1]||{}}var Rd="<anonymous>";function sr(e){try{return!e||typeof e!="function"?Rd:e.name||Rd}catch{return Rd}}function Bc(e){let t=e.exception;if(t){let r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}var Hc={},Xh={};function Bt(e,t){Hc[e]=Hc[e]||[],Hc[e].push(t)}function Ht(e,t){if(!Xh[e]){Xh[e]=!0;try{t()}catch(r){or&&O.error(`Error while instrumenting ${e}`,r)}}}function mt(e,t){let r=e&&Hc[e];if(r)for(let n of r)try{n(t)}catch(i){or&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sr(n)}
Error:`,i)}}var Nd=null;function Go(e){let t="error";Bt(t,e),Ht(t,GT)}function GT(){Nd=te.onerror,te.onerror=function(e,t,r,n,i){return mt("error",{column:n,error:i,line:r,msg:e,url:t}),Nd?Nd.apply(this,arguments):!1},te.onerror.__SENTRY_INSTRUMENTED__=!0}var Od=null;function Wo(e){let t="unhandledrejection";Bt(t,e),Ht(t,WT)}function WT(){Od=te.onunhandledrejection,te.onunhandledrejection=function(e){return mt("unhandledrejection",e),Od?Od.apply(this,arguments):!0},te.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Sr(){return Yo(te),te}function Yo(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Xr,t[Xr]=t[Xr]||{}}var Jh=Object.prototype.toString;function Fi(e){switch(Jh.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Er(e,Error)}}function $a(e,t){return Jh.call(e)===`[object ${t}]`}function Vc(e){return $a(e,"ErrorEvent")}function zc(e){return $a(e,"DOMError")}function Md(e){return $a(e,"DOMException")}function Wt(e){return $a(e,"String")}function ja(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Bi(e){return e===null||ja(e)||typeof e!="object"&&typeof e!="function"}function Jr(e){return $a(e,"Object")}function Hi(e){return typeof Event<"u"&&Er(e,Event)}function Dd(e){return typeof Element<"u"&&Er(e,Element)}function Ld(e){return $a(e,"RegExp")}function Un(e){return!!(e&&e.then&&typeof e.then=="function")}function Pd(e){return Jr(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Er(e,t){try{return e instanceof t}catch{return!1}}function Ko(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}var qa=te,YT=80;function Vt(e,t={}){if(!e)return"<unknown>";try{let r=e,n=5,i=[],a=0,o=0,s=" > ",c=s.length,u,l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||YT;for(;r&&a++<n&&(u=KT(r,l),!(u==="html"||a>1&&o+i.length*c+u.length>=d));)i.push(u),o+=u.length,r=r.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function KT(e,t){let r=e,n=[];if(!r||!r.tagName)return"";if(qa.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());let i=t&&t.length?t.filter(o=>r.getAttribute(o)).map(o=>[o,r.getAttribute(o)]):null;if(i&&i.length)i.forEach(o=>{n.push(`[${o[0]}="${o[1]}"]`)});else{r.id&&n.push(`#${r.id}`);let o=r.className;if(o&&Wt(o)){let s=o.split(/\s+/);for(let c of s)n.push(`.${c}`)}}let a=["aria-label","type","name","title","alt"];for(let o of a){let s=r.getAttribute(o);s&&n.push(`[${o}="${s}"]`)}return n.join("")}function Xo(){try{return qa.document.location.href}catch{return""}}function Ud(e){return qa.document&&qa.document.querySelector?qa.document.querySelector(e):null}function Jo(e){if(!qa.HTMLElement)return null;let t=e,r=5;for(let n=0;n<r;n++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function fn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function $c(e,t){if(!Array.isArray(e))return"";let r=[];for(let n=0;n<e.length;n++){let i=e[n];try{Ko(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function Zh(e,t,r=!1){return Wt(e)?Ld(t)?t.test(e):Wt(t)?r?e===t:e.includes(t):!1:!1}function Nr(e,t=[],r=!1){return t.some(n=>Zh(e,n,r))}function at(e,t,r){if(!(t in e))return;let n=e[t],i=r(n);typeof i=="function"&&jc(i,n);try{e[t]=i}catch{or&&O.log(`Failed to replace method "${t}" in object`,e)}}function ot(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{or&&O.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function jc(e,t){try{let r=t.prototype||{};e.prototype=t.prototype=r,ot(e,"__sentry_original__",t)}catch{}}function Vi(e){return e.__sentry_original__}function qc(e){if(Fi(e))return{message:e.message,name:e.name,stack:e.stack,...eg(e)};if(Hi(e)){let t={type:e.type,target:Qh(e.target),currentTarget:Qh(e.currentTarget),...eg(e)};return typeof CustomEvent<"u"&&Er(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Qh(e){try{return Dd(e)?Vt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function eg(e){if(typeof e=="object"&&e!==null){let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}else return{}}function Bd(e,t=40){let r=Object.keys(qc(e));r.sort();let n=r[0];if(!n)return"[object has no keys]";if(n.length>=t)return fn(n,t);for(let i=r.length;i>0;i--){let a=r.slice(0,i).join(", ");if(!(a.length>t))return i===r.length?a:fn(a,t)}return""}function Oe(e){return Fd(e,new Map)}function Fd(e,t){if(XT(e)){let r=t.get(e);if(r!==void 0)return r;let n={};t.set(e,n);for(let i of Object.getOwnPropertyNames(e))typeof e[i]<"u"&&(n[i]=Fd(e[i],t));return n}if(Array.isArray(e)){let r=t.get(e);if(r!==void 0)return r;let n=[];return t.set(e,n),e.forEach(i=>{n.push(Fd(i,t))}),n}return e}function XT(e){if(!Jr(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}var tg=1e3;function pn(){return Date.now()/tg}function JT(){let{performance:e}=te;if(!e||!e.now)return pn;let t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/tg}var tt=JT(),Zo,rt=(()=>{let{performance:e}=te;if(!e||!e.now){Zo="none";return}let t=3600*1e3,r=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+r-n):t,a=i<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+r-n):t,u=c<t;return a||u?i<=c?(Zo="timeOrigin",e.timeOrigin):(Zo="navigationStart",o):(Zo="dateNow",n)})();function st(){let e=te,t=e.crypto||e.msCrypto,r=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{let n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function rg(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Zr(e){let{message:t,event_id:r}=e;if(t)return t;let n=rg(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Ga(e,t,r){let n=e.exception=e.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type=r||"Error")}function mn(e,t){let r=rg(e);if(!r)return;let n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...t},t&&"data"in t){let a={...i&&i.data,...t.data};r.mechanism.data=a}}function Gc(e){if(ZT(e))return!0;try{ot(e,"__sentry_captured__",!0)}catch{}return!1}function ZT(e){try{return e.__sentry_captured__}catch{}}var Fn;(function(e){e[e.PENDING=0]="PENDING";let r=1;e[e.RESOLVED=r]="RESOLVED";let n=2;e[e.REJECTED=n]="REJECTED"})(Fn||(Fn={}));function Yt(e){return new Qr(t=>{t(e)})}function di(e){return new Qr((t,r)=>{r(e)})}var Qr=class e{constructor(t){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),this._state=Fn.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new e((n,i)=>{this._handlers.push([!1,a=>{if(!t)n(a);else try{n(t(a))}catch(o){i(o)}},a=>{if(!r)i(a);else try{n(r(a))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new e((r,n)=>{let i,a;return this.then(o=>{a=!1,i=o,t&&t()},o=>{a=!0,i=o,t&&t()}).then(()=>{if(a){n(i);return}r(i)})})}__init(){this._resolve=t=>{this._setResult(Fn.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Fn.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{if(this._state===Fn.PENDING){if(Un(r)){r.then(this._resolve,this._reject);return}this._state=t,this._value=r,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===Fn.PENDING)return;let t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Fn.RESOLVED&&r[1](this._value),this._state===Fn.REJECTED&&r[2](this._value),r[0]=!0)})}}};function ng(e){let t=tt(),r={sid:st(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>QT(r)};return e&&Bn(r,e),r}function Bn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||tt(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:st()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{let r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ig(e,t){let r={};t?r={status:t}:e.status==="ok"&&(r={status:"exited"}),Bn(e,r)}function QT(e){return Oe({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}function cr(){return st()}function ur(){return st().substring(16)}function Wa(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;let n={...e};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Wa(n[i],t[i],r-1));return n}var Hd="_sentrySpan";function fi(e,t){t?ot(e,Hd,t):delete e[Hd]}function zi(e){return e[Hd]}var eI=100,Vd=class e{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:cr(),spanId:ur()}}clone(){let t=new e;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,fi(t,zi(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Bn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;let r=typeof t=="function"?t(this):t,[n,i]=r instanceof br?[r.getScopeData(),r.getRequestSession()]:Jr(r)?[t,t.requestSession]:[],{tags:a,extra:o,user:s,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=n||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},s&&Object.keys(s).length&&(this._user=s),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,fi(this,void 0),this._attachments=[],this.setPropagationContext({traceId:cr()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){let n=typeof r=="number"?r:eI;if(n<=0)return this;let i={timestamp:pn(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:zi(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Wa(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:ur(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){let n=r&&r.event_id?r.event_id:st();if(!this._client)return O.warn("No client configured on scope - will not capture exception!"),n;let i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureMessage(t,r,n){let i=n&&n.event_id?n.event_id:st();if(!this._client)return O.warn("No client configured on scope - will not capture message!"),i;let a=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:a,...n,event_id:i},this),i}captureEvent(t,r){let n=r&&r.event_id?r.event_id:st();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(O.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}},br=Vd;function ag(){return li("defaultCurrentScope",()=>new br)}function og(){return li("defaultIsolationScope",()=>new br)}var zd=class{constructor(t,r){let n;t?n=t:n=new br;let i;r?i=r:i=new br,this._stack=[{scope:n}],this._isolationScope=i}withScope(t){let r=this._pushScope(),n;try{n=t(r)}catch(i){throw this._popScope(),i}return Un(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}};function Ya(){let e=Sr(),t=Yo(e);return t.stack=t.stack||new zd(ag(),og())}function tI(e){return Ya().withScope(e)}function rI(e,t){let r=Ya();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function sg(e){return Ya().withScope(()=>e(Ya().getIsolationScope()))}function cg(){return{withIsolationScope:sg,withScope:tI,withSetScope:rI,withSetIsolationScope:(e,t)=>sg(t),getCurrentScope:()=>Ya().getScope(),getIsolationScope:()=>Ya().getIsolationScope()}}function hn(e){let t=Yo(e);return t.acs?t.acs:cg()}function ve(){let e=Sr();return hn(e).getCurrentScope()}function ht(){let e=Sr();return hn(e).getIsolationScope()}function Wc(){return li("globalScope",()=>new br)}function Hn(...e){let t=Sr(),r=hn(t);if(e.length===2){let[n,i]=e;return n?r.withSetScope(n,i):r.withScope(i)}return r.withScope(e[0])}function re(){return ve().getClient()}function $d(e){let t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=t;return Oe({trace_id:r,span_id:n,parent_span_id:i})}var nI="_sentryMetrics";function Qo(e){let t=e[nI];if(!t)return;let r={};for(let[,[n,i]]of t)(r[n]||(r[n]=[])).push(Oe(i));return r}var It="sentry.source",Ka="sentry.sample_rate",Kt="sentry.op",Be="sentry.origin",Xa="sentry.idle_span_finish_reason",pi="sentry.measurement_unit",mi="sentry.measurement_value",es="sentry.custom_span_name",jd="sentry.profile_id",$i="sentry.exclusive_time";function qd(e){if(e<400&&e>=100)return{code:1};if(e>=400&&e<500)switch(e){case 401:return{code:2,message:"unauthenticated"};case 403:return{code:2,message:"permission_denied"};case 404:return{code:2,message:"not_found"};case 409:return{code:2,message:"already_exists"};case 413:return{code:2,message:"failed_precondition"};case 429:return{code:2,message:"resource_exhausted"};case 499:return{code:2,message:"cancelled"};default:return{code:2,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:2,message:"unimplemented"};case 503:return{code:2,message:"unavailable"};case 504:return{code:2,message:"deadline_exceeded"};default:return{code:2,message:"internal_error"}}return{code:2,message:"unknown_error"}}function Ja(e,t){e.setAttribute("http.response.status_code",t);let r=qd(t);r.message!=="unknown_error"&&e.setStatus(r)}var Yc="sentry-",iI=/^sentry-/,aI=8192;function Kc(e){let t=oI(e);if(!t)return;let r=Object.entries(t).reduce((n,[i,a])=>{if(i.match(iI)){let o=i.slice(Yc.length);n[o]=a}return n},{});if(Object.keys(r).length>0)return r}function Gd(e){if(!e)return;let t=Object.entries(e).reduce((r,[n,i])=>(i&&(r[`${Yc}${n}`]=i),r),{});return sI(t)}function oI(e){if(!(!e||!Wt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,r)=>{let n=ug(r);return Object.entries(n).forEach(([i,a])=>{t[i]=a}),t},{}):ug(e)}function ug(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}function sI(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[r,n],i)=>{let a=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,o=i===0?a:`${t},${a}`;return o.length>aI?(or&&O.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):o},"")}var Xc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function lg(e){if(!e)return;let t=e.match(Xc);if(!t)return;let r;return t[3]==="1"?r=!0:t[3]==="0"&&(r=!1),{traceId:t[1],parentSampled:r,parentSpanId:t[2]}}function Wd(e,t){let r=lg(e),n=Kc(t);if(!r||!r.traceId)return{traceId:cr(),spanId:ur()};let{traceId:i,parentSpanId:a,parentSampled:o}=r,s=ur();return{traceId:i,parentSpanId:a,spanId:s,sampled:o,dsc:n||{}}}function ts(e=cr(),t=ur(),r){let n="";return r!==void 0&&(n=r?"-1":"-0"),`${e}-${t}${n}`}var Jc=0,Kd=1,dg=!1;function pg(e){let{spanId:t,traceId:r}=e.spanContext(),{data:n,op:i,parent_span_id:a,status:o,origin:s}=ce(e);return Oe({parent_span_id:a,span_id:t,trace_id:r,data:n,op:i,status:o,origin:s})}function Xd(e){let{spanId:t,traceId:r,isRemote:n}=e.spanContext(),i=n?t:ce(e).parent_span_id,a=n?ur():t;return Oe({parent_span_id:i,span_id:a,trace_id:r})}function Zc(e){let{traceId:t,spanId:r}=e.spanContext(),n=Or(e);return ts(t,r,n)}function en(e){return typeof e=="number"?fg(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?fg(e.getTime()):tt()}function fg(e){return e>9999999999?e/1e3:e}function ce(e){if(dI(e))return e.getSpanJSON();try{let{spanId:t,traceId:r}=e.spanContext();if(lI(e)){let{attributes:n,startTime:i,name:a,endTime:o,parentSpanId:s,status:c}=e;return Oe({span_id:t,trace_id:r,data:n,description:a,parent_span_id:s,start_timestamp:en(i),timestamp:en(o)||void 0,status:Qc(c),op:n[Kt],origin:n[Be],_metrics_summary:Qo(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function lI(e){let t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function dI(e){return typeof e.getSpanJSON=="function"}function Or(e){let{traceFlags:t}=e.spanContext();return t===Kd}function Qc(e){if(!(!e||e.code===0))return e.code===1?"ok":e.message||"unknown_error"}var ji="_sentryChildSpans",Yd="_sentryRootSpan";function eu(e,t){let r=e[Yd]||e;ot(t,Yd,r),e[ji]?e[ji].add(t):ot(e,ji,new Set([t]))}function mg(e,t){e[ji]&&e[ji].delete(t)}function hi(e){let t=new Set;function r(n){if(!t.has(n)&&Or(n)){t.add(n);let i=n[ji]?Array.from(n[ji]):[];for(let a of i)r(a)}}return r(e),Array.from(t)}function Me(e){return e[Yd]||e}function Ce(){let e=Sr(),t=hn(e);return t.getActiveSpan?t.getActiveSpan():zi(ve())}function tu(){dg||(Ft(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),dg=!0)}var hg=!1;function ru(){hg||(hg=!0,Go(Jd),Wo(Jd))}function Jd(){let e=Ce(),t=e&&Me(e);if(t){let r="internal_error";Q&&O.log(`[Tracing] Root span: ${r} -> Global error occurred`),t.setStatus({code:2,message:r})}}Jd.tag="sentry_tracingErrorCallback";var gg="_sentryScope",vg="_sentryIsolationScope";function _g(e,t,r){e&&(ot(e,vg,r),ot(e,gg,t))}function Zd(e){return{scope:e[gg],isolationScope:e[vg]}}function Xt(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let t=re(),r=e||t&&t.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}var Tr=class{constructor(t={}){this._traceId=t.traceId||cr(),this._spanId=t.spanId||ur()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Jc}}end(t){}setAttribute(t,r){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,r,n){return this}addLink(t){return this}addLinks(t){return this}recordException(t,r){}};var Za="production";var yg="_frozenDsc";function Qd(e,t){ot(e,yg,t)}function ef(e,t){let r=t.getOptions(),{publicKey:n}=t.getDsn()||{},i=Oe({environment:r.environment||Za,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",i),i}function rs(e,t){let r=t.getPropagationContext();return r.dsc||ef(r.traceId,e)}function Jt(e){let t=re();if(!t)return{};let r=Me(e),n=r[yg];if(n)return n;let i=r.spanContext().traceState,a=i&&i.get("sentry.dsc"),o=a&&Kc(a);if(o)return o;let s=ef(e.spanContext().traceId,t),c=ce(r),u=c.data||{},l=u[Ka];l!=null&&(s.sample_rate=`${l}`);let d=u[It],f=c.description;return d!=="url"&&f&&(s.transaction=f),Xt()&&(s.sampled=String(Or(r))),t.emit("createDsc",s,r),s}function Sg(e){if(!Q)return;let{description:t="< unknown name >",op:r="< unknown op >",parent_span_id:n}=ce(e),{spanId:i}=e.spanContext(),a=Or(e),o=Me(e),s=o===e,c=`[Tracing] Starting ${a?"sampled":"unsampled"} ${s?"root ":""}span`,u=[`op: ${r}`,`name: ${t}`,`ID: ${i}`];if(n&&u.push(`parent ID: ${n}`),!s){let{op:l,description:d}=ce(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}O.log(`${c}
  ${u.join(`
  `)}`)}function Eg(e){if(!Q)return;let{description:t="< unknown name >",op:r="< unknown op >"}=ce(e),{spanId:n}=e.spanContext(),a=Me(e)===e,o=`[Tracing] Finishing "${r}" ${a?"root ":""}span "${t}" with ID ${n}`;O.log(o)}function gi(e){if(typeof e=="boolean")return Number(e);let t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t)||t<0||t>1){Q&&O.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}function bg(e,t){if(!Xt(e))return[!1];let r=ht().getScopeData().sdkProcessingMetadata.normalizedRequest,n={...t,normalizedRequest:t.normalizedRequest||r},i;typeof e.tracesSampler=="function"?i=e.tracesSampler(n):n.parentSampled!==void 0?i=n.parentSampled:typeof e.tracesSampleRate<"u"?i=e.tracesSampleRate:i=1;let a=gi(i);return a===void 0?(Q&&O.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(Q&&O.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[!1,a]):(Q&&O.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a])}var fI=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function pI(e){return e==="http"||e==="https"}function gn(e,t=!1){let{host:r,path:n,pass:i,port:a,projectId:o,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${r}${a?`:${a}`:""}/${n&&`${n}/`}${o}`}function Tg(e){let t=fI.exec(e);if(!t){Ft(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[r,n,i="",a="",o="",s=""]=t.slice(1),c="",u=s,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let d=u.match(/^\d+/);d&&(u=d[0])}return Ig({host:a,pass:i,path:c,projectId:u,port:o,protocol:r,publicKey:n})}function Ig(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function mI(e){if(!or)return!0;let{port:t,projectId:r,protocol:n}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(O.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:r.match(/^\d+$/)?pI(n)?t&&isNaN(parseInt(t,10))?(O.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(O.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),!1):(O.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function tf(e){let t=typeof e=="string"?Tg(e):Ig(e);if(!(!t||!mI(t)))return t}function wg(){let e=typeof WeakSet=="function",t=e?new WeakSet:[];function r(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let a=0;a<t.length;a++)if(t[a]===i)return!0;return t.push(i),!1}function n(i){if(e)t.delete(i);else for(let a=0;a<t.length;a++)if(t[a]===i){t.splice(a,1);break}}return[r,n]}function Zt(e,t=100,r=1/0){try{return rf("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function nu(e,t=3,r=100*1024){let n=Zt(e,t);return _I(n)>r?nu(e,t-1,r):n}function rf(e,t,r=1/0,n=1/0,i=wg()){let[a,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;let s=hI(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;let c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return s.replace("object ","");if(a(t))return"[Circular ~]";let u=t;if(u&&typeof u.toJSON=="function")try{let S=u.toJSON();return rf("",S,c-1,n,i)}catch{}let l=Array.isArray(t)?[]:{},d=0,f=qc(t);for(let S in f){if(!Object.prototype.hasOwnProperty.call(f,S))continue;if(d>=n){l[S]="[MaxProperties ~]";break}let T=f[S];l[S]=rf(S,T,c-1,n,i),d++}return o(t),l}function hI(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Ko(t))return"[VueViewModel]";if(Pd(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${sr(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;let r=gI(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function gI(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function vI(e){return~-encodeURI(e).split(/%..|./).length}function _I(e){return vI(JSON.stringify(e))}function Ir(e,t=[]){return[e,t]}function af(e,t){let[r,n]=e;return[r,[...n,t]]}function iu(e,t){let r=e[1];for(let n of r){let i=n[0].type;if(t(n,i))return!0}return!1}function nf(e){return te.__SENTRY__&&te.__SENTRY__.encodePolyfill?te.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function of(e){let[t,r]=e,n=JSON.stringify(t);function i(a){typeof n=="string"?n=typeof a=="string"?n+a:[nf(n),a]:n.push(typeof a=="string"?nf(a):a)}for(let a of r){let[o,s]=a;if(i(`
${JSON.stringify(o)}
`),typeof s=="string"||s instanceof Uint8Array)i(s);else{let c;try{c=JSON.stringify(s)}catch{c=JSON.stringify(Zt(s))}i(c)}}return typeof n=="string"?n:yI(n)}function yI(e){let t=e.reduce((i,a)=>i+a.length,0),r=new Uint8Array(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return r}function sf(e){return[{type:"span"},e]}function cf(e){let t=typeof e.data=="string"?nf(e.data):e.data;return[Oe({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}var SI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function au(e){return SI[e]}function Qa(e){if(!e||!e.sdk)return;let{name:t,version:r}=e.sdk;return{name:t,version:r}}function ns(e,t,r,n){let i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!r&&n&&{dsn:gn(n)},...i&&{trace:Oe({...i})}}}function EI(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function xg(e,t,r,n){let i=Qa(r),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&t&&{dsn:gn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ir(a,[o])}function kg(e,t,r,n){let i=Qa(r),a=e.type&&e.type!=="replay_event"?e.type:"event";EI(e,r&&r.sdk);let o=ns(e,i,n,t);return delete e.sdkProcessingMetadata,Ir(o,[[{type:a},e]])}function Ag(e,t){function r(l){return!!l.trace_id&&!!l.public_key}let n=Jt(e[0]),i=t&&t.getDsn(),a=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...r(n)&&{trace:n},...!!a&&i&&{dsn:gn(i)}},s=t&&t.getOptions().beforeSendSpan,c=s?l=>{let d=s(ce(l));return d||tu(),d}:l=>ce(l),u=[];for(let l of e){let d=c(l);d&&u.push(sf(d))}return Ir(o,u)}function ou(e,t,r,n=Ce()){let i=n&&Me(n);i&&(Q&&O.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${r}`),i.addEvent(e,{[mi]:t,[pi]:r}))}function su(e){if(!e||e.length===0)return;let t={};return e.forEach(r=>{let n=r.attributes||{},i=n[pi],a=n[mi];typeof i=="string"&&typeof a=="number"&&(t[r.name]={value:a,unit:i})}),t}var Rg=1e3,eo=class{constructor(t={}){this._traceId=t.traceId||cr(),this._spanId=t.spanId||ur(),this._startTime=t.startTimestamp||tt(),this._attributes={},this.setAttributes({[Be]:"manual",[Kt]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this}addLinks(t){return this}recordException(t,r){}spanContext(){let{_spanId:t,_traceId:r,_sampled:n}=this;return{spanId:t,traceId:r,traceFlags:n?Kd:Jc}}setAttribute(t,r){return r===void 0?delete this._attributes[t]:this._attributes[t]=r,this}setAttributes(t){return Object.keys(t).forEach(r=>this.setAttribute(r,t[r])),this}updateStartTime(t){this._startTime=en(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(It,"custom"),this}end(t){this._endTime||(this._endTime=en(t),Eg(this),this._onSpanEnded())}getSpanJSON(){return Oe({data:this._attributes,description:this._name,op:this._attributes[Kt],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Qc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Be],_metrics_summary:Qo(this),profile_id:this._attributes[jd],exclusive_time:this._attributes[$i],measurements:su(this._events),is_segment:this._isStandaloneSpan&&Me(this)===this||void 0,segment_id:this._isStandaloneSpan?Me(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,r,n){Q&&O.log("[Tracing] Adding an event to span:",t);let i=Cg(r)?r:n||tt(),a=Cg(r)?{}:r||{},o={name:t,time:en(i),attributes:a};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let t=re();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Me(this)))return;if(this._isStandaloneSpan){this._sampled?TI(Ag([this],t)):(Q&&O.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}let n=this._convertSpanToTransaction();n&&(Zd(this).scope||ve()).captureEvent(n)}_convertSpanToTransaction(){if(!Ng(ce(this)))return;this._name||(Q&&O.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:t,isolationScope:r}=Zd(this),i=(t||ve()).getClient()||re();if(this._sampled!==!0){Q&&O.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),i&&i.recordDroppedEvent("sample_rate","transaction");return}let o=hi(this).filter(d=>d!==this&&!bI(d)).map(d=>ce(d)).filter(Ng),s=this._attributes[It];delete this._attributes[es],o.forEach(d=>{d.data&&delete d.data[es]});let c={contexts:{trace:pg(this)},spans:o.length>Rg?o.sort((d,f)=>d.start_timestamp-f.start_timestamp).slice(0,Rg):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:r,...Oe({dynamicSamplingContext:Jt(this)})},_metrics_summary:Qo(this),...s&&{transaction_info:{source:s}}},u=su(this._events);return u&&Object.keys(u).length&&(Q&&O.log("[Measurements] Adding measurements to transaction event",JSON.stringify(u,void 0,2)),c.measurements=u),c}};function Cg(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Ng(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function bI(e){return e instanceof eo&&e.isStandaloneSpan()}function TI(e){let t=re();if(!t)return;let r=e[1];if(!r||r.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}var Mg="__SENTRY_SUPPRESS_TRACING__";function tn(e){let t=Dg();if(t.startInactiveSpan)return t.startInactiveSpan(e);let r=wI(e),{forceTransaction:n,parentSpan:i}=e;return(e.scope?o=>Hn(e.scope,o):i!==void 0?o=>is(i,o):o=>o())(()=>{let o=ve(),s=kI(o);return e.onlyIfParent&&!s?new Tr:II({parentSpan:s,spanArguments:r,forceTransaction:n,scope:o})})}function is(e,t){let r=Dg();return r.withActiveSpan?r.withActiveSpan(e,t):Hn(n=>(fi(n,e||void 0),t(n)))}function II({parentSpan:e,spanArguments:t,forceTransaction:r,scope:n}){if(!Xt())return new Tr;let i=ht(),a;if(e&&!r)a=xI(e,n,t),eu(e,a);else if(e){let o=Jt(e),{traceId:s,spanId:c}=e.spanContext(),u=Or(e);a=Og({traceId:s,parentSpanId:c,...t},n,u),Qd(a,o)}else{let{traceId:o,dsc:s,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...n.getPropagationContext()};a=Og({traceId:o,parentSpanId:c,...t},n,u),s&&Qd(a,s)}return Sg(a),_g(a,n,i),a}function wI(e){let r={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...r};return n.startTimestamp=en(e.startTime),delete n.startTime,n}return r}function Dg(){let e=Sr();return hn(e)}function Og(e,t,r){let n=re(),i=n&&n.getOptions()||{},{name:a="",attributes:o}=e,[s,c]=t.getScopeData().sdkProcessingMetadata[Mg]?[!1]:bg(i,{name:a,parentSampled:r,attributes:o,transactionContext:{name:a,parentSampled:r}}),u=new eo({...e,attributes:{[It]:"custom",...e.attributes},sampled:s});return c!==void 0&&u.setAttribute(Ka,c),n&&n.emit("spanStart",u),u}function xI(e,t,r){let{spanId:n,traceId:i}=e.spanContext(),a=t.getScopeData().sdkProcessingMetadata[Mg]?!1:Or(e),o=a?new eo({...r,parentSpanId:n,traceId:i,sampled:a}):new Tr({traceId:i});eu(e,o);let s=re();return s&&(s.emit("spanStart",o),r.endTimestamp&&s.emit("spanEnd",o)),o}function kI(e){let t=zi(e);if(!t)return;let r=re();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Me(t):t}var to={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},AI="heartbeatFailed",RI="idleTimeout",CI="finalTimeout",NI="externalFinish";function cu(e,t={}){let r=new Map,n=!1,i,a=NI,o=!t.disableAutoFinish,s=[],{idleTimeout:c=to.idleTimeout,finalTimeout:u=to.finalTimeout,childSpanTimeout:l=to.childSpanTimeout,beforeSpanEnd:d}=t,f=re();if(!f||!Xt())return new Tr;let S=ve(),T=Ce(),I=OI(e);I.end=new Proxy(I.end,{apply(N,A,V){d&&d(I);let[F,...M]=V,E=F||tt(),Z=en(E),ge=hi(I).filter(Ee=>Ee!==I);if(!ge.length)return Y(Z),Reflect.apply(N,A,[Z,...M]);let Re=ge.map(Ee=>ce(Ee).timestamp).filter(Ee=>!!Ee),Xe=Re.length?Math.max(...Re):void 0,de=ce(I).start_timestamp,ze=Math.min(de?de+u/1e3:1/0,Math.max(de||-1/0,Math.min(Z,Xe||1/0)));return Y(ze),Reflect.apply(N,A,[ze,...M])}});function k(){i&&(clearTimeout(i),i=void 0)}function w(N){k(),i=setTimeout(()=>{!n&&r.size===0&&o&&(a=RI,I.end(N))},c)}function C(N){i=setTimeout(()=>{!n&&o&&(a=AI,I.end(N))},l)}function $(N){k(),r.set(N,!0);let A=tt();C(A+l/1e3)}function W(N){if(r.has(N)&&r.delete(N),r.size===0){let A=tt();w(A+c/1e3)}}function Y(N){n=!0,r.clear(),s.forEach(Z=>Z()),fi(S,T);let A=ce(I),{start_timestamp:V}=A;if(!V)return;(A.data||{})[Xa]||I.setAttribute(Xa,a),O.log(`[Tracing] Idle span "${A.op}" finished`);let M=hi(I).filter(Z=>Z!==I),E=0;M.forEach(Z=>{Z.isRecording()&&(Z.setStatus({code:2,message:"cancelled"}),Z.end(N),Q&&O.log("[Tracing] Cancelling span since span ended early",JSON.stringify(Z,void 0,2)));let ge=ce(Z),{timestamp:Re=0,start_timestamp:Xe=0}=ge,de=Xe<=N,ze=(u+c)/1e3,Ee=Re-Xe<=ze;if(Q){let He=JSON.stringify(Z,void 0,2);de?Ee||O.log("[Tracing] Discarding span since it finished after idle span final timeout",He):O.log("[Tracing] Discarding span since it happened after idle span was finished",He)}(!Ee||!de)&&(mg(I,Z),E++)}),E>0&&I.setAttribute("sentry.idle_span_discarded_spans",E)}return s.push(f.on("spanStart",N=>{if(n||N===I||ce(N).timestamp)return;hi(I).includes(N)&&$(N.spanContext().spanId)})),s.push(f.on("spanEnd",N=>{n||W(N.spanContext().spanId)})),s.push(f.on("idleSpanEnableAutoFinish",N=>{N===I&&(o=!0,w(),r.size&&C())})),t.disableAutoFinish||w(),setTimeout(()=>{n||(I.setStatus({code:2,message:"deadline_exceeded"}),a=CI,I.end())},u),I}function OI(e){let t=tn(e);return fi(ve(),t),Q&&O.log("[Tracing] Started span is an idle span"),t}function uu(e,t,r,n=0){return new Qr((i,a)=>{let o=e[n];if(t===null||typeof o!="function")i(t);else{let s=o({...t},r);Q&&o.id&&s===null&&O.log(`Event processor "${o.id}" dropped event`),Un(s)?s.then(c=>uu(e,c,r,n+1).then(i)).then(null,a):uu(e,s,r,n+1).then(i).then(null,a)}})}var lu,Lg,du;function Pg(e){let t=te._sentryDebugIds;if(!t)return{};let r=Object.keys(t);return du&&r.length===Lg||(Lg=r.length,du=r.reduce((n,i)=>{lu||(lu={});let a=lu[i];if(a)n[a[0]]=a[1];else{let o=e(i);for(let s=o.length-1;s>=0;s--){let c=o[s],u=c&&c.filename,l=t[i];if(u&&l){n[u]=l,lu[i]=[u,l];break}}}return n},{})),du}function Ug(e,t){let{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:a}=t;MI(e,t),n&&PI(e,n),UI(e,r),DI(e,i),LI(e,a)}function uf(e,t){let{extra:r,tags:n,user:i,contexts:a,level:o,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:S,span:T}=t;fu(e,"extra",r),fu(e,"tags",n),fu(e,"user",i),fu(e,"contexts",a),e.sdkProcessingMetadata=Wa(e.sdkProcessingMetadata,s,2),o&&(e.level=o),S&&(e.transactionName=S),T&&(e.span=T),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f}}function fu(e,t,r){e[t]=Wa(e[t],r,1)}function MI(e,t){let{extra:r,tags:n,user:i,contexts:a,level:o,transactionName:s}=t,c=Oe(r);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});let u=Oe(n);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});let l=Oe(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});let d=Oe(a);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),o&&(e.level=o),s&&e.type!=="transaction"&&(e.transaction=s)}function DI(e,t){let r=[...e.breadcrumbs||[],...t];e.breadcrumbs=r.length?r:void 0}function LI(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function PI(e,t){e.contexts={trace:Xd(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Jt(t),...e.sdkProcessingMetadata};let r=Me(t),n=ce(r).description;n&&!e.transaction&&e.type==="transaction"&&(e.transaction=n)}function UI(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}function as(e,t,r,n,i,a){let{normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||r.event_id||st(),timestamp:t.timestamp||pn()},u=r.integrations||e.integrations.map(k=>k.name);FI(c,e),VI(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&BI(c,e.stackParser);let l=$I(n,r.captureContext);r.mechanism&&mn(c,r.mechanism);let d=i?i.getEventProcessors():[],f=Wc().getScopeData();if(a){let k=a.getScopeData();uf(f,k)}if(l){let k=l.getScopeData();uf(f,k)}let S=[...r.attachments||[],...f.attachments];S.length&&(r.attachments=S),Ug(c,f);let T=[...d,...f.eventProcessors];return uu(T,c,r).then(k=>(k&&HI(k),typeof o=="number"&&o>0?zI(k,o,s):k))}function FI(e,t){let{environment:r,release:n,dist:i,maxValueLength:a=250}=t;e.environment=e.environment||r||Za,!e.release&&n&&(e.release=n),!e.dist&&i&&(e.dist=i),e.message&&(e.message=fn(e.message,a));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=fn(o.value,a));let s=e.request;s&&s.url&&(s.url=fn(s.url,a))}function BI(e,t){let r=Pg(t);try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{r&&i.filename&&(i.debug_id=r[i.filename])})})}catch{}}function HI(e){let t={};try{e.exception.values.forEach(n=>{n.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let r=e.debug_meta.images;Object.entries(t).forEach(([n,i])=>{r.push({type:"sourcemap",code_file:n,debug_id:i})})}function VI(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function zI(e,t,r){if(!e)return null;let n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Zt(i.data,t,r)}}))},...e.user&&{user:Zt(e.user,t,r)},...e.contexts&&{contexts:Zt(e.contexts,t,r)},...e.extra&&{extra:Zt(e.extra,t,r)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=Zt(e.contexts.trace.data,t,r))),e.spans&&(n.spans=e.spans.map(i=>({...i,...i.data&&{data:Zt(i.data,t,r)}}))),e.contexts&&e.contexts.flags&&n.contexts&&(n.contexts.flags=Zt(e.contexts.flags,3,r)),n}function $I(e,t){if(!t)return e;let r=e?e.clone():new br;return r.update(t),r}function Fg(e){if(e)return jI(e)?{captureContext:e}:GI(e)?{captureContext:e}:e}function jI(e){return e instanceof br||typeof e=="function"}var qI=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function GI(e){return Object.keys(e).some(t=>qI.includes(t))}function Vn(e,t){return ve().captureException(e,Fg(t))}function os(e,t){return ve().captureEvent(e,t)}function pu(e,t){ht().setContext(e,t)}function lf(){let e=re();return!!e&&e.getOptions().enabled!==!1&&!!e.getTransport()}function mu(e){ht().addEventProcessor(e)}function ss(e){let t=re(),r=ht(),n=ve(),{release:i,environment:a=Za}=t&&t.getOptions()||{},{userAgent:o}=te.navigator||{},s=ng({release:i,environment:a,user:n.getUser()||r.getUser(),...o&&{userAgent:o},...e}),c=r.getSession();return c&&c.status==="ok"&&Bn(c,{status:"exited"}),hu(),r.setSession(s),n.setSession(s),s}function hu(){let e=ht(),t=ve(),r=t.getSession()||e.getSession();r&&ig(r),Hg(),e.setSession(),t.setSession()}function Hg(){let e=ht(),t=ve(),r=re(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function cs(e=!1){if(e){hu();return}Hg()}var WI="7";function YI(e){let t=e.protocol?`${e.protocol}:`:"",r=e.port?`:${e.port}`:"";return`${t}//${e.host}${r}${e.path?`/${e.path}`:""}/api/`}function KI(e){return`${YI(e)}${e.projectId}/envelope/`}function XI(e,t){let r={sentry_version:WI};return e.publicKey&&(r.sentry_key=e.publicKey),t&&(r.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(r).toString()}function Vg(e,t,r){return t||`${KI(e)}?${XI(e,r)}`}var zg=[];function JI(e){let t={};return e.forEach(r=>{let{name:n}=r,i=t[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(t[n]=r)}),Object.values(t)}function df(e){let t=e.defaultIntegrations||[],r=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let n;if(Array.isArray(r))n=[...t,...r];else if(typeof r=="function"){let o=r(t);n=Array.isArray(o)?o:[o]}else n=t;let i=JI(n),a=i.findIndex(o=>o.name==="Debug");if(a>-1){let[o]=i.splice(a,1);i.push(o)}return i}function $g(e,t){let r={};return t.forEach(n=>{n&&pf(e,n,r)}),r}function ff(e,t){for(let r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function pf(e,t,r){if(r[t.name]){Q&&O.log(`Integration skipped because it was already installed: ${t.name}`);return}if(r[t.name]=t,zg.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),zg.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>n(i,a,e))}if(typeof t.processEvent=="function"){let n=t.processEvent.bind(t),i=Object.assign((a,o)=>n(a,o,e),{id:t.name});e.addEventProcessor(i)}Q&&O.log(`Integration installed: ${t.name}`)}function jg(e,t,r){let n=[{type:"client_report"},{timestamp:r||pn(),discarded_events:e}];return Ir(t?{dsn:t}:{},[n])}var zt=class extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}};var qg="Not capturing exception because it's already been captured.",us=class{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=tf(t.dsn):Q&&O.warn("No DSN provided, client will not send events."),this._dsn){let i=Vg(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:i})}let n=["enableTracing","tracesSampleRate","tracesSampler"].find(i=>i in t&&t[i]==null);n&&Ft(()=>{console.warn(`[Sentry] Deprecation warning: \`${n}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){let i=st();if(Gc(t))return Q&&O.log(qg),i;let a={event_id:i,...r};return this._process(this.eventFromException(t,a).then(o=>this._captureEvent(o,a,n))),a.event_id}captureMessage(t,r,n,i){let a={event_id:st(),...n},o=ja(t)?t:String(t),s=Bi(t)?this.eventFromMessage(o,r,a):this.eventFromException(t,a);return this._process(s.then(c=>this._captureEvent(c,a,i))),a.event_id}captureEvent(t,r,n){let i=st();if(r&&r.originalException&&Gc(r.originalException))return Q&&O.log(qg),i;let a={event_id:i,...r},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,s||n)),a.event_id}captureSession(t){typeof t.release!="string"?Q&&O.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Bn(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){let r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(i=>n&&i))):Yt(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){let r=this._integrations[t.name];pf(this,t,this._integrations),r||ff(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=kg(t,this._dsn,this._options._metadata,this._options.tunnel);for(let a of r.attachments||[])n=af(n,cf(a));let i=this.sendEnvelope(n);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){let r=xg(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){let i=typeof n=="number"?n:1,a=`${t}:${r}`;Q&&O.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,r){let n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{let i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,...r){let n=this._hooks[t];n&&n.forEach(i=>i(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Q&&O.error("Error while sending envelope:",r),r)):(Q&&O.error("Transport disabled"),Yt({}))}_setupIntegrations(){let{integrations:t}=this._options;this._integrations=$g(this,t),ff(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",i=!1,a=r.exception&&r.exception.values;if(a){i=!0;for(let c of a){let u=c.mechanism;if(u&&u.handled===!1){n=!0;break}}}let o=t.status==="ok";(o&&t.errors===0||o&&n)&&(Bn(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Qr(r=>{let n=0,i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=i,t&&n>=t&&(clearInterval(a),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=ve(),i=ht()){let a=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),this.emit("preprocessEvent",t,r),t.type||i.setLastEventId(t.event_id||r.event_id),as(a,t,r,n,this,i).then(s=>{if(s===null)return s;s.contexts={trace:$d(n),...s.contexts};let c=rs(this,n);return s.sdkProcessingMetadata={dynamicSamplingContext:c,...s.sdkProcessingMetadata},s})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(i=>i.event_id,i=>{Q&&(i instanceof zt&&i.logLevel==="log"?O.log(i.message):O.warn(i))})}_processEvent(t,r,n){let i=this.getOptions(),{sampleRate:a}=i,o=Wg(t),s=Gg(t),c=t.type||"error",u=`before send for type \`${c}\``,l=typeof a>"u"?void 0:gi(a);if(s&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error",t),di(new zt(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));let d=c==="replay_event"?"replay":c,S=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,S).then(T=>{if(T===null)throw this.recordDroppedEvent("event_processor",d,t),new zt("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return T;let k=QI(this,i,T,r);return ZI(k,u)}).then(T=>{if(T===null){if(this.recordDroppedEvent("before_send",d,t),o){let C=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw new zt(`${u} returned \`null\`, will not send event.`,"log")}let I=n&&n.getSession();if(!o&&I&&this._updateSessionFromEvent(I,T),o){let w=T.sdkProcessingMetadata&&T.sdkProcessingMetadata.spanCountBeforeProcessing||0,C=T.spans?T.spans.length:0,$=w-C;$>0&&this.recordDroppedEvent("before_send","span",$)}let k=T.transaction_info;if(o&&k&&T.transaction!==t.transaction){let w="custom";T.transaction_info={...k,source:w}}return this.sendEvent(T,r),T}).then(null,T=>{throw T instanceof zt?T:(this.captureException(T,{data:{__sentry__:!0},originalException:T}),new zt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${T}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){let t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{let[i,a]=r.split(":");return{reason:i,category:a,quantity:n}})}_flushOutcomes(){Q&&O.log("Flushing outcomes...");let t=this._clearOutcomes();if(t.length===0){Q&&O.log("No outcomes to send");return}if(!this._dsn){Q&&O.log("No dsn provided, will not send outcomes");return}Q&&O.log("Sending outcomes:",t);let r=jg(t,this._options.tunnel&&gn(this._dsn));this.sendEnvelope(r)}};function ZI(e,t){let r=`${t} must return \`null\` or a valid event.`;if(Un(e))return e.then(n=>{if(!Jr(n)&&n!==null)throw new zt(r);return n},n=>{throw new zt(`${t} rejected with ${n}`)});if(!Jr(e)&&e!==null)throw new zt(r);return e}function QI(e,t,r,n){let{beforeSend:i,beforeSendTransaction:a,beforeSendSpan:o}=t;if(Gg(r)&&i)return i(r,n);if(Wg(r)){if(r.spans&&o){let s=[];for(let c of r.spans){let u=o(c);u?s.push(u):(tu(),e.recordDroppedEvent("before_send","span"))}r.spans=s}if(a){if(r.spans){let s=r.spans.length;r.sdkProcessingMetadata={...r.sdkProcessingMetadata,spanCountBeforeProcessing:s}}return a(r,n)}}return r}function Gg(e){return e.type===void 0}function Wg(e){return e.type==="transaction"}function mf(e,t){t.debug===!0&&(Q?O.enable():Ft(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ve().update(t.initialScope);let n=new e(t);return hf(n),n.init(),n}function hf(e){ve().setClient(e)}function Yg(e){let t=[];function r(){return e===void 0||t.length<e}function n(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!r())return di(new zt("Not adding Promise because buffer limit was reached."));let s=o();return t.indexOf(s)===-1&&t.push(s),s.then(()=>n(s)).then(null,()=>n(s).then(null,()=>{})),s}function a(o){return new Qr((s,c)=>{let u=t.length;if(!u)return s(!0);let l=setTimeout(()=>{o&&o>0&&s(!1)},o);t.forEach(d=>{Yt(d).then(()=>{--u||(clearTimeout(l),s(!0))},c)})})}return{$:t,add:i,drain:a}}function Kg(e,t=Date.now()){let r=parseInt(`${e}`,10);if(!isNaN(r))return r*1e3;let n=Date.parse(`${e}`);return isNaN(n)?6e4:n-t}function Xg(e,t){return e[t]||e.all||0}function ls(e,t,r=Date.now()){return Xg(e,t)>r}function ds(e,{statusCode:t,headers:r},n=Date.now()){let i={...e},a=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(a)for(let s of a.trim().split(",")){let[c,u,,,l]=s.split(":",5),d=parseInt(c,10),f=(isNaN(d)?60:d)*1e3;if(!u)i.all=n+f;else for(let S of u.split(";"))S==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(i[S]=n+f):i[S]=n+f}else o?i.all=n+Kg(o,n):t===429&&(i.all=n+60*1e3);return i}var ew=64;function gu(e,t,r=Yg(e.bufferSize||ew)){let n={},i=o=>r.drain(o);function a(o){let s=[];if(iu(o,(d,f)=>{let S=au(f);if(ls(n,S)){let T=Jg(d,f);e.recordDroppedEvent("ratelimit_backoff",S,T)}else s.push(d)}),s.length===0)return Yt({});let c=Ir(o[0],s),u=d=>{iu(c,(f,S)=>{let T=Jg(f,S);e.recordDroppedEvent(d,au(S),T)})},l=()=>t({body:of(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&Q&&O.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),n=ds(n,d),d),d=>{throw u("network_error"),d});return r.add(l).then(d=>d,d=>{if(d instanceof zt)return Q&&O.error("Skipped sending event because buffer is full."),u("queue_overflow"),Yt({});throw d})}return{send:a,flush:i}}function Jg(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function gf(e,t){let r=t&&t.getDsn(),n=t&&t.getOptions().tunnel;return rw(e,r)||tw(e,n)}function tw(e,t){return t?Zg(e)===Zg(t):!1}function rw(e,t){return t?e.includes(t.host):!1}function Zg(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function vf(e,t,r=[t],n="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:r.map(a=>({name:`${n}:@sentry/${a}`,version:Xr})),version:Xr}),e._metadata=i}function fs(e={}){let t=re();if(!lf()||!t)return{};let r=Sr(),n=hn(r);if(n.getTraceData)return n.getTraceData(e);let i=ve(),a=e.span||Ce(),o=a?Zc(a):nw(i),s=a?Jt(a):rs(t,i),c=Gd(s);return Xc.test(o)?{"sentry-trace":o,baggage:c}:(O.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function nw(e){let{traceId:t,sampled:r,spanId:n}=e.getPropagationContext();return ts(t,n,r)}var iw=100;function lr(e,t){let r=re(),n=ht();if(!r)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:a=iw}=r.getOptions();if(a<=0)return;let s={timestamp:pn(),...e},c=i?Ft(()=>i(s,t)):s;c!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,a))}var Qg,aw="FunctionToString",ev=new WeakMap,ow=(()=>({name:aw,setupOnce(){Qg=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=Vi(this),r=ev.has(re())&&t!==void 0?t:this;return Qg.apply(r,e)}}catch{}},setup(e){ev.set(e,!0)}})),vu=ow;var sw=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],cw="InboundFilters",uw=((e={})=>({name:cw,processEvent(t,r,n){let i=n.getOptions(),a=lw(e,i);return dw(t,a)?null:t}})),yu=uw;function lw(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:sw],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function dw(e,t){return t.ignoreInternal&&vw(e)?(Q&&O.warn(`Event dropped due to being internal Sentry Error.
Event: ${Zr(e)}`),!0):fw(e,t.ignoreErrors)?(Q&&O.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Zr(e)}`),!0):yw(e)?(Q&&O.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Zr(e)}`),!0):pw(e,t.ignoreTransactions)?(Q&&O.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Zr(e)}`),!0):mw(e,t.denyUrls)?(Q&&O.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Zr(e)}.
Url: ${_u(e)}`),!0):hw(e,t.allowUrls)?!1:(Q&&O.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Zr(e)}.
Url: ${_u(e)}`),!0)}function fw(e,t){return e.type||!t||!t.length?!1:gw(e).some(r=>Nr(r,t))}function pw(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;let r=e.transaction;return r?Nr(r,t):!1}function mw(e,t){if(!t||!t.length)return!1;let r=_u(e);return r?Nr(r,t):!1}function hw(e,t){if(!t||!t.length)return!0;let r=_u(e);return r?Nr(r,t):!0}function gw(e){let t=[];e.message&&t.push(e.message);let r;try{r=e.exception.values[e.exception.values.length-1]}catch{}return r&&r.value&&(t.push(r.value),r.type&&t.push(`${r.type}: ${r.value}`)),t}function vw(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function _w(e=[]){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function _u(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?_w(t):null}catch{return Q&&O.error(`Cannot extract url for event ${Zr(e)}`),null}}function yw(e){return e.type||!e.exception||!e.exception.values||e.exception.values.length===0?!1:!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value)}function yf(e,t,r=250,n,i,a,o){if(!a.exception||!a.exception.values||!o||!Er(o.originalException,Error))return;let s=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;s&&(a.exception.values=Sw(_f(e,t,i,o.originalException,n,a.exception.values,s,0),r))}function _f(e,t,r,n,i,a,o,s){if(a.length>=r+1)return a;let c=[...a];if(Er(n[i],Error)){tv(o,s);let u=e(t,n[i]),l=c.length;rv(u,i,l,s),c=_f(e,t,r,n[i],i,[u,...c],u,l)}return Array.isArray(n.errors)&&n.errors.forEach((u,l)=>{if(Er(u,Error)){tv(o,s);let d=e(t,u),f=c.length;rv(d,`errors[${l}]`,f,s),c=_f(e,t,r,u,i,[d,...c],d,f)}}),c}function tv(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function rv(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function Sw(e,t){return e.map(r=>(r.value&&(r.value=fn(r.value,t)),r))}function Mr(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function Sf(e){let t="console";Bt(t,e),Ht(t,Ew)}function Ew(){"console"in te&&qo.forEach(function(e){e in te.console&&at(te.console,e,function(t){return za[e]=t,function(...r){mt("console",{args:r,level:e});let i=za[e];i&&i.apply(te.console,r)}})})}function ps(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}var bw="Dedupe",Tw=(()=>{let e;return{name:bw,processEvent(t){if(t.type)return t;try{if(Iw(t,e))return Q&&O.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Su=Tw;function Iw(e,t){return t?!!(ww(e,t)||xw(e,t)):!1}function ww(e,t){let r=e.message,n=t.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!av(e,t)||!iv(e,t))}function xw(e,t){let r=nv(t),n=nv(e);return!(!r||!n||r.type!==n.type||r.value!==n.value||!av(e,t)||!iv(e,t))}function iv(e,t){let r=Bc(e),n=Bc(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){let a=n[i],o=r[i];if(a.filename!==o.filename||a.lineno!==o.lineno||a.colno!==o.colno||a.function!==o.function)return!1}return!0}function av(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function nv(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Ef(e,t,r,n,i="auto.http.browser"){if(!e.fetchData)return;let a=Xt()&&t(e.fetchData.url);if(e.endTimestamp&&a){let f=e.fetchData.__span;if(!f)return;let S=n[f];S&&(Rw(S,e),delete n[f]);return}let{method:o,url:s}=e.fetchData,c=Aw(s),u=c?Mr(c).host:void 0,l=!!Ce(),d=a&&l?tn({name:`${o} ${s}`,attributes:{url:s,type:"fetch","http.method":o,"http.url":c,"server.address":u,[Be]:i,[Kt]:"http.client"}}):new Tr;if(e.fetchData.__span=d.spanContext().spanId,n[d.spanContext().spanId]=d,r(e.fetchData.url)){let f=e.args[0],S=e.args[1]||{},T=kw(f,S,Xt()&&l?d:void 0);T&&(e.args[1]=S,S.headers=T)}return d}function kw(e,t,r){let n=fs({span:r}),i=n["sentry-trace"],a=n.baggage;if(!i)return;let o=t.headers||(Cw(e)?e.headers:void 0);if(o)if(Nw(o)){let s=new Headers(o);if(s.set("sentry-trace",i),a){let c=s.get("baggage");if(c){let u=Eu(c);s.set("baggage",u?`${u},${a}`:a)}else s.set("baggage",a)}return s}else if(Array.isArray(o)){let s=[...o.filter(c=>!(Array.isArray(c)&&c[0]==="sentry-trace")).map(c=>{if(Array.isArray(c)&&c[0]==="baggage"&&typeof c[1]=="string"){let[u,l,...d]=c;return[u,Eu(l),...d]}else return c}),["sentry-trace",i]];return a&&s.push(["baggage",a]),s}else{let s="baggage"in o?o.baggage:void 0,c=[];return Array.isArray(s)?c=s.map(u=>typeof u=="string"?Eu(u):u).filter(u=>u===""):s&&c.push(Eu(s)),a&&c.push(a),{...o,"sentry-trace":i,baggage:c.length>0?c.join(","):void 0}}else return{...n}}function Aw(e){try{return new URL(e).href}catch{return}}function Rw(e,t){if(t.response){Ja(e,t.response.status);let r=t.response&&t.response.headers&&t.response.headers.get("content-length");if(r){let n=parseInt(r);n>0&&e.setAttribute("http.response_content_length",n)}}else t.error&&e.setStatus({code:2,message:"internal_error"});e.end()}function Eu(e){return e.split(",").filter(t=>!t.split("=")[0].startsWith(Yc)).join(",")}function Cw(e){return typeof Request<"u"&&Er(e,Request)}function Nw(e){return typeof Headers<"u"&&Er(e,Headers)}function bu(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}var bf=te;function Tu(){if(!("fetch"in bf))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function ms(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Tf(){if(typeof EdgeRuntime=="string")return!0;if(!Tu())return!1;if(ms(bf.fetch))return!0;let e=!1,t=bf.document;if(t&&typeof t.createElement=="function")try{let r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=ms(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){or&&O.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function hs(e,t){let r="fetch";Bt(r,e),Ht(r,()=>sv(void 0,t))}function wf(e){let t="fetch-body-resolved";Bt(t,e),Ht(t,()=>sv(Mw))}function sv(e,t=!1){t&&!Tf()||at(te,"fetch",function(r){return function(...n){let i=new Error,{method:a,url:o}=Dw(n),s={args:n,fetchData:{method:a,url:o},startTimestamp:tt()*1e3,virtualError:i};return e||mt("fetch",{...s}),r.apply(te,n).then(async c=>(e?e(c):mt("fetch",{...s,endTimestamp:tt()*1e3,response:c}),c),c=>{throw mt("fetch",{...s,endTimestamp:tt()*1e3,error:c}),Fi(c)&&c.stack===void 0&&(c.stack=i.stack,ot(c,"framesToPop",1)),c})}})}async function Ow(e,t){if(e&&e.body){let r=e.body,n=r.getReader(),i=setTimeout(()=>{r.cancel().then(null,()=>{})},90*1e3),a=!0;for(;a;){let o;try{o=setTimeout(()=>{r.cancel().then(null,()=>{})},5e3);let{done:s}=await n.read();clearTimeout(o),s&&(t(),a=!1)}catch{a=!1}finally{clearTimeout(o)}}clearTimeout(i),n.releaseLock(),r.cancel().then(null,()=>{})}}function Mw(e){let t;try{t=e.clone()}catch{return}Ow(t,()=>{mt("fetch-body-resolved",{endTimestamp:tt()*1e3,response:e})})}function If(e,t){return!!e&&typeof e=="object"&&!!e[t]}function ov(e){return typeof e=="string"?e:e?If(e,"url")?e.url:e.toString?e.toString():"":""}function Dw(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){let[r,n]=e;return{url:ov(r),method:If(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:ov(t),method:If(t,"method")?String(t.method).toUpperCase():"GET"}}function xf(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function kf(){return"npm"}function cv(){return!xf()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Iu(){return typeof window<"u"&&(!cv()||Lw())}function Lw(){let e=te.process;return!!e&&e.type==="renderer"}var wu=te;function Af(){let e=wu.chrome,t=e&&e.app&&e.app.runtime,r="history"in wu&&!!wu.history.pushState&&!!wu.history.replaceState;return!t&&r}function Rf(e,t){return e??t()}function ro(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}var ae=te,Cf=0;function Nf(){return Cf>0}function Jw(){Cf++,setTimeout(()=>{Cf--})}function Gi(e,t={}){function r(i){return typeof i=="function"}if(!r(e))return e;try{let i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Vi(e))return e}catch{return e}let n=function(...i){try{let a=i.map(o=>Gi(o,t));return e.apply(this,a)}catch(a){throw Jw(),Hn(o=>{o.addEventProcessor(s=>(t.mechanism&&(Ga(s,void 0,void 0),mn(s,t.mechanism)),s.extra={...s.extra,arguments:i},s)),Vn(a)}),a}};try{for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}catch{}jc(n,e),ot(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return e.name}})}catch{}return n}var Nt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function xu(e,t){let r=Df(e,t),n={type:rx(t),value:nx(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function Zw(e,t,r,n){let i=re(),a=i&&i.getOptions().normalizeDepth,o=ox(t),s={__serialized__:nu(t,a)};if(o)return{exception:{values:[xu(e,o)]},extra:s};let c={exception:{values:[{type:Hi(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:ix(t,{isUnhandledRejection:n})}]},extra:s};if(r){let u=Df(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Of(e,t){return{exception:{values:[xu(e,t)]}}}function Df(e,t){let r=t.stacktrace||t.stack||"",n=ex(t),i=tx(t);try{return e(r,n,i)}catch{}return[]}var Qw=/Minified React error #\d+;/i;function ex(e){return e&&Qw.test(e.message)?1:0}function tx(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function fv(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function rx(e){let t=e&&e.name;return!t&&fv(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function nx(e){let t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:fv(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function pv(e,t,r,n){let i=r&&r.syntheticException||void 0,a=ku(e,t,i,n);return mn(a),a.level="error",r&&r.event_id&&(a.event_id=r.event_id),Yt(a)}function mv(e,t,r="info",n,i){let a=n&&n.syntheticException||void 0,o=Mf(e,t,a,i);return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),Yt(o)}function ku(e,t,r,n,i){let a;if(Vc(t)&&t.error)return Of(e,t.error);if(zc(t)||Md(t)){let o=t;if("stack"in t)a=Of(e,t);else{let s=o.name||(zc(o)?"DOMError":"DOMException"),c=o.message?`${s}: ${o.message}`:s;a=Mf(e,c,r,n),Ga(a,c)}return"code"in o&&(a.tags={...a.tags,"DOMException.code":`${o.code}`}),a}return Fi(t)?Of(e,t):Jr(t)||Hi(t)?(a=Zw(e,t,r,i),mn(a,{synthetic:!0}),a):(a=Mf(e,t,r,n),Ga(a,`${t}`,void 0),mn(a,{synthetic:!0}),a)}function Mf(e,t,r,n){let i={};if(n&&r){let a=Df(e,r);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),mn(i,{synthetic:!0})}if(ja(t)){let{__sentry_template_string__:a,__sentry_template_values__:o}=t;return i.logentry={message:a,params:o},i}return i.message=t,i}function ix(e,{isUnhandledRejection:t}){let r=Bd(e),n=t?"promise rejection":"exception";return Vc(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Hi(e)?`Event \`${ax(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}function ax(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ox(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let r=e[t];if(r instanceof Error)return r}}function hv(e,{metadata:t,tunnel:r,dsn:n}){let i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!r&&!!n&&{dsn:gn(n)}},a=sx(e);return Ir(i,[a])}function sx(e){return[{type:"user_report"},e]}var Au=class extends us{constructor(t){let r={parentSpanIsAlwaysRootSpan:!0,...t},n=ae.SENTRY_SDK_SOURCE||kf();vf(r,"browser",["browser"],n),super(r),r.sendClientReports&&ae.document&&ae.document.addEventListener("visibilitychange",()=>{ae.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return pv(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return mv(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){Nt&&O.warn("SDK not enabled, will not capture user feedback.");return}let r=hv(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}};var no=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;var cx=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Dr=(e,t,r,n)=>{let i,a;return o=>{t.value>=0&&(o||n)&&(a=t.value-(i||0),(a||i===void 0)&&(i=t.value,t.delta=a,t.rating=cx(t.value,r),e(t)))}};var G=te;var gv=()=>`v4-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;var zn=(e=!0)=>{let t=G.performance&&G.performance.getEntriesByType&&G.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t};var vn=()=>{let e=zn();return e&&e.activationStart||0};var Lr=(e,t)=>{let r=zn(),n="navigate";return r&&(G.document&&G.document.prerendering||vn()>0?n="prerender":G.document&&G.document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:gv(),navigationType:n}};var dr=(e,t,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let n=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch{}};var Pr=e=>{let t=r=>{(r.type==="pagehide"||G.document&&G.document.visibilityState==="hidden")&&e(r)};G.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))};var _i=e=>{let t=!1;return()=>{t||(e(),t=!0)}};var vs=-1,ux=()=>G.document.visibilityState==="hidden"&&!G.document.prerendering?0:1/0,Ru=e=>{G.document.visibilityState==="hidden"&&vs>-1&&(vs=e.type==="visibilitychange"?e.timeStamp:0,dx())},lx=()=>{addEventListener("visibilitychange",Ru,!0),addEventListener("prerenderingchange",Ru,!0)},dx=()=>{removeEventListener("visibilitychange",Ru,!0),removeEventListener("prerenderingchange",Ru,!0)},yi=()=>(G.document&&vs<0&&(vs=ux(),lx()),{get firstHiddenTime(){return vs}});var _n=e=>{G.document&&G.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()};var fx=[1800,3e3],vv=(e,t={})=>{_n(()=>{let r=yi(),n=Lr("FCP"),i,o=dr("paint",s=>{s.forEach(c=>{c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<r.firstHiddenTime&&(n.value=Math.max(c.startTime-vn(),0),n.entries.push(c),i(!0)))})});o&&(i=Dr(e,n,fx,t.reportAllChanges))})};var px=[.1,.25],_v=(e,t={})=>{vv(_i(()=>{let r=Lr("CLS",0),n,i=0,a=[],o=c=>{c.forEach(u=>{if(!u.hadRecentInput){let l=a[0],d=a[a.length-1];i&&l&&d&&u.startTime-d.startTime<1e3&&u.startTime-l.startTime<5e3?(i+=u.value,a.push(u)):(i=u.value,a=[u])}}),i>r.value&&(r.value=i,r.entries=a,n())},s=dr("layout-shift",o);s&&(n=Dr(e,r,px,t.reportAllChanges),Pr(()=>{o(s.takeRecords()),n(!0)}),setTimeout(n,0))}))};var mx=[100,300],yv=(e,t={})=>{_n(()=>{let r=yi(),n=Lr("FID"),i,a=c=>{c.startTime<r.firstHiddenTime&&(n.value=c.processingStart-c.startTime,n.entries.push(c),i(!0))},o=c=>{c.forEach(a)},s=dr("first-input",o);i=Dr(e,n,mx,t.reportAllChanges),s&&Pr(_i(()=>{o(s.takeRecords()),s.disconnect()}))})};var Sv=0,Lf=1/0,Cu=0,hx=e=>{e.forEach(t=>{t.interactionId&&(Lf=Math.min(Lf,t.interactionId),Cu=Math.max(Cu,t.interactionId),Sv=Cu?(Cu-Lf)/7+1:0)})},Pf,Ev=()=>Pf?Sv:performance.interactionCount||0,bv=()=>{"interactionCount"in performance||Pf||(Pf=dr("event",hx,{type:"event",buffered:!0,durationThreshold:0}))};var $n=[],Uf=new Map,Tv=40,gx=0,vx=()=>Ev()-gx,Iv=()=>{let e=Math.min($n.length-1,Math.floor(vx()/50));return $n[e]},Ff=10,_x=[],wv=e=>{if(_x.forEach(n=>n(e)),!(e.interactionId||e.entryType==="first-input"))return;let t=$n[$n.length-1],r=Uf.get(e.interactionId);if(r||$n.length<Ff||t&&e.duration>t.latency){if(r)e.duration>r.latency?(r.entries=[e],r.latency=e.duration):e.duration===r.latency&&e.startTime===(r.entries[0]&&r.entries[0].startTime)&&r.entries.push(e);else{let n={id:e.interactionId,latency:e.duration,entries:[e]};Uf.set(n.id,n),$n.push(n)}$n.sort((n,i)=>i.latency-n.latency),$n.length>Ff&&$n.splice(Ff).forEach(n=>Uf.delete(n.id))}};var Nu=e=>{let t=G.requestIdleCallback||G.setTimeout,r=-1;return e=_i(e),G.document&&G.document.visibilityState==="hidden"?e():(r=t(e),Pr(e)),r};var yx=[200,500],xv=(e,t={})=>{"PerformanceEventTiming"in G&&"interactionId"in PerformanceEventTiming.prototype&&_n(()=>{bv();let r=Lr("INP"),n,i=o=>{Nu(()=>{o.forEach(wv);let s=Iv();s&&s.latency!==r.value&&(r.value=s.latency,r.entries=s.entries,n())})},a=dr("event",i,{durationThreshold:t.durationThreshold!=null?t.durationThreshold:Tv});n=Dr(e,r,yx,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Pr(()=>{i(a.takeRecords()),n(!0)}))})};var Sx=[2500,4e3],kv={},Av=(e,t={})=>{_n(()=>{let r=yi(),n=Lr("LCP"),i,a=s=>{t.reportAllChanges||(s=s.slice(-1)),s.forEach(c=>{c.startTime<r.firstHiddenTime&&(n.value=Math.max(c.startTime-vn(),0),n.entries=[c],i())})},o=dr("largest-contentful-paint",a);if(o){i=Dr(e,n,Sx,t.reportAllChanges);let s=_i(()=>{kv[n.id]||(a(o.takeRecords()),o.disconnect(),kv[n.id]=!0,i(!0))});["keydown","click"].forEach(c=>{G.document&&addEventListener(c,()=>Nu(s),{once:!0,capture:!0})}),Pr(s)}})};var Ex=[800,1800],Bf=e=>{G.document&&G.document.prerendering?_n(()=>Bf(e)):G.document&&G.document.readyState!=="complete"?addEventListener("load",()=>Bf(e),!0):setTimeout(e,0)},Rv=(e,t={})=>{let r=Lr("TTFB"),n=Dr(e,r,Ex,t.reportAllChanges);Bf(()=>{let i=zn();i&&(r.value=Math.max(i.responseStart-vn(),0),r.entries=[i],n(!0))})};var _s={},Ou={},Cv,Nv,Ov,Mv,Dv;function Wi(e,t=!1){return bs("cls",e,bx,Cv,t)}function ys(e,t=!1){return bs("lcp",e,Ix,Ov,t)}function Ss(e){return bs("fid",e,Tx,Nv)}function Hf(e){return bs("ttfb",e,wx,Mv)}function Es(e){return bs("inp",e,xx,Dv)}function rn(e,t){return Lv(e,t),Ou[e]||(kx(e),Ou[e]=!0),Pv(e,t)}function io(e,t){let r=_s[e];if(!(!r||!r.length))for(let n of r)try{n(t)}catch(i){no&&O.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${sr(n)}
Error:`,i)}}function bx(){return _v(e=>{io("cls",{metric:e}),Cv=e},{reportAllChanges:!0})}function Tx(){return yv(e=>{io("fid",{metric:e}),Nv=e})}function Ix(){return Av(e=>{io("lcp",{metric:e}),Ov=e},{reportAllChanges:!0})}function wx(){return Rv(e=>{io("ttfb",{metric:e}),Mv=e})}function xx(){return xv(e=>{io("inp",{metric:e}),Dv=e})}function bs(e,t,r,n,i=!1){Lv(e,t);let a;return Ou[e]||(a=r(),Ou[e]=!0),n&&t({metric:n}),Pv(e,t,i?a:void 0)}function kx(e){let t={};e==="event"&&(t.durationThreshold=0),dr(e,r=>{io(e,{entries:r})},t)}function Lv(e,t){_s[e]=_s[e]||[],_s[e].push(t)}function Pv(e,t,r){return()=>{r&&r();let n=_s[e];if(!n)return;let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}function Uv(e){return"duration"in e}function Mu(e){return typeof e=="number"&&isFinite(e)}function yn(e,t,r,{...n}){let i=ce(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),is(e,()=>{let a=tn({startTime:t,...n});return a&&a.end(r),a})}function Du(e){let t=re();if(!t)return;let{name:r,transaction:n,attributes:i,startTime:a}=e,{release:o,environment:s}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),l=ve(),d=l.getUser(),f=d!==void 0?d.email||d.id||d.ip_address:void 0,S;try{S=l.getScopeData().contexts.profile.profile_id}catch{}let T={release:o,environment:s,user:f||void 0,profile_id:S||void 0,replay_id:u||void 0,transaction:n,"user_agent.original":G.navigator&&G.navigator.userAgent,...i};return tn({name:r,attributes:T,startTime:a,experimental:{standalone:!0}})}function Ts(){return G&&G.addEventListener&&G.performance}function Je(e){return e/1e3}function Is(e){let t="unknown",r="unknown",n="";for(let i of e){if(i==="/"){[t,r]=e.split("/");break}if(!isNaN(Number(i))){t=n==="h"?"http":n,r=e.split(n)[1];break}n+=i}return n===e&&(t=n),{name:t,version:r}}function Fv(){let e=0,t,r;if(!Rx())return;let n=!1;function i(){n||(n=!0,r&&Ax(e,t,r),a())}let a=Wi(({metric:o})=>{let s=o.entries[o.entries.length-1];s&&(e=o.value,t=s)},!0);Pr(()=>{i()}),setTimeout(()=>{let o=re();if(!o)return;let s=o.on("startNavigationSpan",()=>{i(),s&&s()}),c=Ce(),u=c&&Me(c),l=u&&ce(u);l&&l.op==="pageload"&&(r=u.spanContext().spanId)},0)}function Ax(e,t,r){no&&O.log(`Sending CLS span (${e})`);let n=Je((rt||0)+(t&&t.startTime||0)),i=ve().getScopeData().transactionName,a=t?Vt(t.sources[0]&&t.sources[0].node):"Layout shift",o=Oe({[Be]:"auto.http.browser.cls",[Kt]:"ui.webvital.cls",[$i]:t&&t.duration||0,"sentry.pageload.span_id":r}),s=Du({name:a,transaction:i,attributes:o,startTime:n});s&&(s.addEvent("cls",{[pi]:"",[mi]:e}),s.end(n))}function Rx(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch{return!1}}var Cx=2147483647,Bv=0,Ot={},fr,ws;function zf({recordClsStandaloneSpans:e}){let t=Ts();if(t&&rt){t.mark&&G.performance.mark("sentry-tracing-init");let r=Mx(),n=Ox(),i=Dx(),a=e?Fv():Nx();return()=>{r(),n(),i(),a&&a()}}return()=>{}}function $f(){rn("longtask",({entries:e})=>{let t=Ce();if(!t)return;let{op:r,start_timestamp:n}=ce(t);for(let i of e){let a=Je(rt+i.startTime),o=Je(i.duration);r==="navigation"&&n&&a<n||yn(t,a,a+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[Be]:"auto.ui.browser.metrics"}})}})}function jf(){new PerformanceObserver(t=>{let r=Ce();if(r)for(let n of t.getEntries()){if(!n.scripts[0])continue;let i=Je(rt+n.startTime),{start_timestamp:a,op:o}=ce(r);if(o==="navigation"&&a&&i<a)continue;let s=Je(n.duration),c={[Be]:"auto.ui.browser.metrics"},u=n.scripts[0],{invoker:l,invokerType:d,sourceURL:f,sourceFunctionName:S,sourceCharPosition:T}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,f&&(c["code.filepath"]=f),S&&(c["code.function"]=S),T!==-1&&(c["browser.script.source_char_position"]=T),yn(r,i,i+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function qf(){rn("event",({entries:e})=>{let t=Ce();if(t){for(let r of e)if(r.name==="click"){let n=Je(rt+r.startTime),i=Je(r.duration),a={name:Vt(r.target),op:`ui.interaction.${r.name}`,startTime:n,attributes:{[Be]:"auto.ui.browser.metrics"}},o=Jo(r.target);o&&(a.attributes["ui.component_name"]=o),yn(t,n,n+i,a)}}})}function Nx(){return Wi(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ot.cls={value:e.value,unit:""},ws=t)},!0)}function Ox(){return ys(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(Ot.lcp={value:e.value,unit:"millisecond"},fr=t)},!0)}function Mx(){return Ss(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let r=Je(rt),n=Je(t.startTime);Ot.fid={value:e.value,unit:"millisecond"},Ot["mark.fid"]={value:r+n,unit:"second"}})}function Dx(){return Hf(({metric:e})=>{e.entries[e.entries.length-1]&&(Ot.ttfb={value:e.value,unit:"millisecond"})})}function Gf(e,t){let r=Ts();if(!r||!r.getEntries||!rt)return;let n=Je(rt),i=r.getEntries(),{op:a,start_timestamp:o}=ce(e);if(i.slice(Bv).forEach(s=>{let c=Je(s.startTime),u=Je(Math.max(0,s.duration));if(!(a==="navigation"&&o&&n+c<o))switch(s.entryType){case"navigation":{Px(e,s,n);break}case"mark":case"paint":case"measure":{Lx(e,s,c,u,n);let l=yi(),d=s.startTime<l.firstHiddenTime;s.name==="first-paint"&&d&&(Ot.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&d&&(Ot.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{Bx(e,s,s.name,c,u,n);break}}}),Bv=Math.max(i.length-1,0),Hx(e),a==="pageload"){zx(Ot);let s=Ot["mark.fid"];s&&Ot.fid&&(yn(e,s.value,s.value+Je(Ot.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Be]:"auto.ui.browser.metrics"}}),delete Ot["mark.fid"]),(!("fcp"in Ot)||!t.recordClsOnPageloadSpan)&&delete Ot.cls,Object.entries(Ot).forEach(([c,u])=>{ou(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",n),e.setAttribute("performance.activationStart",vn()),Vx(e)}fr=void 0,ws=void 0,Ot={}}function Lx(e,t,r,n,i){let a=zn(!1),o=Je(a?a.requestStart:0),s=i+Math.max(r,o),c=i+r,u=c+n,l={[Be]:"auto.resource.browser.metrics"};return s!==c&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=s),yn(e,s,u,{name:t.name,op:t.entryType,attributes:l}),s}function Px(e,t,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{Lu(e,t,n,r)}),Lu(e,t,"secureConnection",r,"TLS/SSL"),Lu(e,t,"fetch",r,"cache"),Lu(e,t,"domainLookup",r,"DNS"),Fx(e,t,r)}function Lu(e,t,r,n,i=r){let a=Ux(r),o=t[a],s=t[`${r}Start`];!s||!o||yn(e,n+Je(s),n+Je(o),{op:`browser.${i}`,name:t.name,attributes:{[Be]:"auto.ui.browser.metrics"}})}function Ux(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function Fx(e,t,r){let n=r+Je(t.requestStart),i=r+Je(t.responseEnd),a=r+Je(t.responseStart);t.responseEnd&&(yn(e,n,i,{op:"browser.request",name:t.name,attributes:{[Be]:"auto.ui.browser.metrics"}}),yn(e,a,i,{op:"browser.response",name:t.name,attributes:{[Be]:"auto.ui.browser.metrics"}}))}function Bx(e,t,r,n,i,a){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;let o=Mr(r),s={[Be]:"auto.resource.browser.metrics"};Vf(s,t,"transferSize","http.response_transfer_size"),Vf(s,t,"encodedBodySize","http.response_content_length"),Vf(s,t,"decodedBodySize","http.decoded_response_content_length");let c=t.deliveryType;c!=null&&(s["http.response_delivery_type"]=c);let u=t.renderBlockingStatus;u&&(s["resource.render_blocking_status"]=u),o.protocol&&(s["url.scheme"]=o.protocol.split(":").pop()),o.host&&(s["server.address"]=o.host),s["url.same_origin"]=r.includes(G.location.origin);let{name:l,version:d}=Is(t.nextHopProtocol);s["network.protocol.name"]=l,s["network.protocol.version"]=d;let f=a+n,S=f+i;yn(e,f,S,{name:r.replace(G.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:s})}function Hx(e){let t=G.navigator;if(!t)return;let r=t.connection;r&&(r.effectiveType&&e.setAttribute("effectiveConnectionType",r.effectiveType),r.type&&e.setAttribute("connectionType",r.type),Mu(r.rtt)&&(Ot["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Mu(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Mu(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function Vx(e){fr&&(fr.element&&e.setAttribute("lcp.element",Vt(fr.element)),fr.id&&e.setAttribute("lcp.id",fr.id),fr.url&&e.setAttribute("lcp.url",fr.url.trim().slice(0,200)),fr.loadTime!=null&&e.setAttribute("lcp.loadTime",fr.loadTime),fr.renderTime!=null&&e.setAttribute("lcp.renderTime",fr.renderTime),e.setAttribute("lcp.size",fr.size)),ws&&ws.sources&&ws.sources.forEach((t,r)=>e.setAttribute(`cls.source.${r+1}`,Vt(t.node)))}function Vf(e,t,r,n){let i=t[r];i!=null&&i<Cx&&(e[n]=i)}function zx(e){let t=zn(!1);if(!t)return;let{responseStart:r,requestStart:n}=t;n<=r&&(e["ttfb.requestTime"]={value:r-n,unit:"millisecond"})}var $x=1e3,Hv,Wf,Yf;function xs(e){Bt("dom",e),Ht("dom",jx)}function jx(){if(!G.document)return;let e=mt.bind(null,"dom"),t=Vv(e,!0);G.document.addEventListener("click",t,!1),G.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{let i=G[r],a=i&&i.prototype;!a||!a.hasOwnProperty||!a.hasOwnProperty("addEventListener")||(at(a,"addEventListener",function(o){return function(s,c,u){if(s==="click"||s=="keypress")try{let l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=l[s]=l[s]||{refCount:0};if(!d.handler){let f=Vv(e);d.handler=f,o.call(this,s,f,u)}d.refCount++}catch{}return o.call(this,s,c,u)}}),at(a,"removeEventListener",function(o){return function(s,c,u){if(s==="click"||s=="keypress")try{let l=this.__sentry_instrumentation_handlers__||{},d=l[s];d&&(d.refCount--,d.refCount<=0&&(o.call(this,s,d.handler,u),d.handler=void 0,delete l[s]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return o.call(this,s,c,u)}}))})}function qx(e){if(e.type!==Wf)return!1;try{if(!e.target||e.target._sentryId!==Yf)return!1}catch{}return!0}function Gx(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Vv(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;let n=Wx(r);if(Gx(r.type,n))return;ot(r,"_sentryCaptured",!0),n&&!n._sentryId&&ot(n,"_sentryId",st());let i=r.type==="keypress"?"input":r.type;qx(r)||(e({event:r,name:i,global:t}),Wf=r.type,Yf=n?n._sentryId:void 0),clearTimeout(Hv),Hv=G.setTimeout(()=>{Yf=void 0,Wf=void 0},$x)}}function Wx(e){try{return e.target}catch{return null}}var Pu;function jn(e){let t="history";Bt(t,e),Ht(t,Yx)}function Yx(){if(!Af())return;let e=G.onpopstate;G.onpopstate=function(...r){let n=G.location.href,i=Pu;if(Pu=n,mt("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}};function t(r){return function(...n){let i=n.length>2?n[2]:void 0;if(i){let a=Pu,o=String(i);Pu=o,mt("history",{from:a,to:o})}return r.apply(this,n)}}at(G.history,"pushState",t),at(G.history,"replaceState",t)}var Uu={};function Fu(e){let t=Uu[e];if(t)return t;let r=G[e];if(ms(r))return Uu[e]=r.bind(G);let n=G.document;if(n&&typeof n.createElement=="function")try{let i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);let a=i.contentWindow;a&&a[e]&&(r=a[e]),n.head.removeChild(i)}catch(i){no&&O.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return r&&(Uu[e]=r.bind(G))}function Bu(e){Uu[e]=void 0}function Si(...e){return Fu("setTimeout")(...e)}var nn="__sentry_xhr_v3__";function ks(e){Bt("xhr",e),Ht("xhr",Kx)}function Kx(){if(!G.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){let i=new Error,a=tt()*1e3,o=Wt(n[0])?n[0].toUpperCase():void 0,s=Xx(n[1]);if(!o||!s)return t.apply(r,n);r[nn]={method:o,url:s,request_headers:{}},o==="POST"&&s.match(/sentry_key/)&&(r.__sentry_own_request__=!0);let c=()=>{let u=r[nn];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}let l={endTimestamp:tt()*1e3,startTimestamp:a,xhr:r,virtualError:i};mt("xhr",l)}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,l,d){let[f,S]=d,T=l[nn];return T&&Wt(f)&&Wt(S)&&(T.request_headers[f.toLowerCase()]=S),u.apply(l,d)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){let i=r[nn];if(!i)return t.apply(r,n);n[0]!==void 0&&(i.body=n[0]);let a={startTimestamp:tt()*1e3,xhr:r};return mt("xhr",a),t.apply(r,n)}})}function Xx(e){if(Wt(e))return e;try{return e.toString()}catch{}}var Kf=[],Hu=new Map;function Xf(){if(Ts()&&rt){let t=Jx();return()=>{t()}}return()=>{}}var zv={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Jx(){return Es(({metric:e})=>{if(e.value==null)return;let t=e.entries.find(T=>T.duration===e.value&&zv[T.name]);if(!t)return;let{interactionId:r}=t,n=zv[t.name],i=Je(rt+t.startTime),a=Je(e.value),o=Ce(),s=o?Me(o):void 0,u=(r!=null?Hu.get(r):void 0)||s,l=u?ce(u).description:ve().getScopeData().transactionName,d=Vt(t.target),f=Oe({[Be]:"auto.http.browser.inp",[Kt]:`ui.interaction.${n}`,[$i]:t.duration}),S=Du({name:d,transaction:l,attributes:f,startTime:i});S&&(S.addEvent("inp",{[pi]:"millisecond",[mi]:e.value}),S.end(i+a))})}function Jf(e){let t=({entries:r})=>{let n=Ce(),i=n&&Me(n);r.forEach(a=>{if(!Uv(a)||!i)return;let o=a.interactionId;if(o!=null&&!Hu.has(o)){if(Kf.length>10){let s=Kf.shift();Hu.delete(s)}Kf.push(o),Hu.set(o,i)}})};rn("event",t),rn("first-input",t)}function $v(e,t=Fu("fetch")){let r=0,n=0;function i(a){let o=a.body.length;r+=o,n++;let s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return Bu("fetch"),di("No fetch implementation available");try{return t(e.url,s).then(c=>(r-=o,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Bu("fetch"),r-=o,n--,di(c)}}return gu(e,i)}var Zx=30;var Qx=50;function Zf(e,t,r,n){let i={filename:e,function:t==="<anonymous>"?"?":t,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}var ek=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rk=/\((\S*)(?::(\d+))(?::(\d+))\)/,nk=e=>{let t=ek.exec(e);if(t){let[,n,i,a]=t;return Zf(n,"?",+i,+a)}let r=tk.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){let o=rk.exec(r[2]);o&&(r[2]=o[1],r[3]=o[2],r[4]=o[3])}let[i,a]=qv(r[1]||"?",r[2]);return Zf(a,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},ik=[Zx,nk],ak=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ok=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sk=e=>{let t=ak.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let a=ok.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let n=t[3],i=t[1]||"?";return[i,n]=qv(i,n),Zf(n,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ck=[Qx,sk];var uk=[ik,ck],jv=Fc(...uk),qv=(e,t)=>{let r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:"?",r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};var Vu=1024,lk="Breadcrumbs",dk=((e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:lk,setup(r){t.console&&Sf(mk(r)),t.dom&&xs(pk(r,t.dom)),t.xhr&&ks(hk(r)),t.fetch&&hs(gk(r)),t.history&&jn(vk(r)),t.sentry&&r.on("beforeSendEvent",fk(r))}}}),Gv=dk;function fk(e){return function(r){re()===e&&lr({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:Zr(r)},{event:r})}}function pk(e,t){return function(n){if(re()!==e)return;let i,a,o=typeof t=="object"?t.serializeAttribute:void 0,s=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;s&&s>Vu&&(Nt&&O.warn(`\`dom.maxStringLength\` cannot exceed ${Vu}, but a value of ${s} was configured. Sentry will use ${Vu} instead.`),s=Vu),typeof o=="string"&&(o=[o]);try{let u=n.event,l=_k(u)?u.target:u;i=Vt(l,{keyAttrs:o,maxStringLength:s}),a=Jo(l)}catch{i="<unknown>"}if(i.length===0)return;let c={category:`ui.${n.name}`,message:i};a&&(c.data={"ui.component_name":a}),lr(c,{event:n.event,name:n.name,global:n.global})}}function mk(e){return function(r){if(re()!==e)return;let n={category:"console",data:{arguments:r.args,logger:"console"},level:ps(r.level),message:$c(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)n.message=`Assertion failed: ${$c(r.args.slice(1)," ")||"console.assert"}`,n.data.arguments=r.args.slice(1);else return;lr(n,{input:r.args,level:r.level})}}function hk(e){return function(r){if(re()!==e)return;let{startTimestamp:n,endTimestamp:i}=r,a=r.xhr[nn];if(!n||!i||!a)return;let{method:o,url:s,status_code:c,body:u}=a,l={method:o,url:s,status_code:c},d={xhr:r.xhr,input:u,startTimestamp:n,endTimestamp:i},f=bu(c);lr({category:"xhr",data:l,type:"http",level:f},d)}}function gk(e){return function(r){if(re()!==e)return;let{startTimestamp:n,endTimestamp:i}=r;if(i&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){let a=r.fetchData,o={data:r.error,input:r.args,startTimestamp:n,endTimestamp:i};lr({category:"fetch",data:a,level:"error",type:"http"},o)}else{let a=r.response,o={...r.fetchData,status_code:a&&a.status},s={input:r.args,response:a,startTimestamp:n,endTimestamp:i},c=bu(o.status_code);lr({category:"fetch",data:o,type:"http",level:c},s)}}}function vk(e){return function(r){if(re()!==e)return;let n=r.from,i=r.to,a=Mr(ae.location.href),o=n?Mr(n):void 0,s=Mr(i);(!o||!o.path)&&(o=a),a.protocol===s.protocol&&a.host===s.host&&(i=s.relative),a.protocol===o.protocol&&a.host===o.host&&(n=o.relative),lr({category:"navigation",data:{from:n,to:i}})}}function _k(e){return!!e&&!!e.target}var yk=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Sk="BrowserApiErrors",Ek=((e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Sk,setupOnce(){t.setTimeout&&at(ae,"setTimeout",Wv),t.setInterval&&at(ae,"setInterval",Wv),t.requestAnimationFrame&&at(ae,"requestAnimationFrame",bk),t.XMLHttpRequest&&"XMLHttpRequest"in ae&&at(XMLHttpRequest.prototype,"send",Tk);let r=t.eventTarget;r&&(Array.isArray(r)?r:yk).forEach(Ik)}}}),Yv=Ek;function Wv(e){return function(...t){let r=t[0];return t[0]=Gi(r,{mechanism:{data:{function:sr(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function bk(e){return function(t){return e.apply(this,[Gi(t,{mechanism:{data:{function:"requestAnimationFrame",handler:sr(e)},handled:!1,type:"instrument"}})])}}function Tk(e){return function(...t){let r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&at(r,i,function(a){let o={mechanism:{data:{function:i,handler:sr(a)},handled:!1,type:"instrument"}},s=Vi(a);return s&&(o.mechanism.data.handler=sr(s)),Gi(a,o)})}),e.apply(this,t)}}function Ik(e){let r=ae[e],n=r&&r.prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(at(n,"addEventListener",function(i){return function(a,o,s){try{wk(o)&&(o.handleEvent=Gi(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:sr(o),target:e},handled:!1,type:"instrument"}}))}catch{}return i.apply(this,[a,Gi(o,{mechanism:{data:{function:"addEventListener",handler:sr(o),target:e},handled:!1,type:"instrument"}}),s])}}),at(n,"removeEventListener",function(i){return function(a,o,s){try{let c=o.__sentry_wrapped__;c&&i.call(this,a,c,s)}catch{}return i.call(this,a,o,s)}}))}function wk(e){return typeof e.handleEvent=="function"}var Kv=()=>({name:"BrowserSession",setupOnce(){if(typeof ae.document>"u"){Nt&&O.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}ss({ignoreDuration:!0}),cs(),jn(({from:e,to:t})=>{e!==void 0&&e!==t&&(ss({ignoreDuration:!0}),cs())})}});var xk="GlobalHandlers",kk=((e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:xk,setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(Ak(r),Xv("onerror")),t.onunhandledrejection&&(Rk(r),Xv("onunhandledrejection"))}}}),Jv=kk;function Ak(e){Go(t=>{let{stackParser:r,attachStacktrace:n}=Zv();if(re()!==e||Nf())return;let{msg:i,url:a,line:o,column:s,error:c}=t,u=Ok(ku(r,c||i,void 0,n,!1),a,o,s);u.level="error",os(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Rk(e){Wo(t=>{let{stackParser:r,attachStacktrace:n}=Zv();if(re()!==e||Nf())return;let i=Ck(t),a=Bi(i)?Nk(i):ku(r,i,void 0,n,!0);a.level="error",os(a,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Ck(e){if(Bi(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Nk(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Ok(e,t,r,n){let i=e.exception=e.exception||{},a=i.values=i.values||[],o=a[0]=a[0]||{},s=o.stacktrace=o.stacktrace||{},c=s.frames=s.frames||[],u=n,l=r,d=Wt(t)&&t.length>0?t:Xo();return c.length===0&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Xv(e){Nt&&O.log(`Global Handler attached: ${e}`)}function Zv(){let e=re();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}var Qv=()=>({name:"HttpContext",preprocessEvent(e){if(!ae.navigator&&!ae.location&&!ae.document)return;let t=e.request&&e.request.url||ae.location&&ae.location.href,{referrer:r}=ae.document||{},{userAgent:n}=ae.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},a={...e.request,...t&&{url:t},headers:i};e.request=a}});var Mk="cause",Dk=5,Lk="LinkedErrors",Pk=((e={})=>{let t=e.limit||Dk,r=e.key||Mk;return{name:Lk,preprocessEvent(n,i,a){let o=a.getOptions();yf(xu,o.stackParser,o.maxValueLength,r,t,n,i)}}}),e_=Pk;function t_(e){let t=[yu(),vu(),Yv(),Gv(),Jv(),e_(),Su(),Qv()];return e.autoSessionTracking!==!1&&t.push(Kv()),t}function Uk(e={}){let t={defaultIntegrations:t_(e),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:ae.SENTRY_RELEASE&&ae.SENTRY_RELEASE.id?ae.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return e.defaultIntegrations==null&&delete e.defaultIntegrations,{...t,...e}}function Fk(){let e=typeof ae.window<"u"&&ae;if(!e)return!1;let t=e.chrome?"chrome":"browser",r=e[t],n=r&&r.runtime&&r.runtime.id,i=ae.location&&ae.location.href||"",a=["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"],o=!!n&&ae===ae.top&&a.some(c=>i.startsWith(`${c}//`)),s=typeof e.nw<"u";return!!n&&!o&&!s}function Qf(e={}){let t=Uk(e);if(!t.skipBrowserExtensionCheck&&Fk()){Ft(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}Nt&&(Tu()||O.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));let r={...t,stackParser:Cd(t.stackParser||jv),integrations:df(t),transport:t.transport||$v};return mf(Au,r)}var qe=te,kp="sentryReplaySession",Bk="replay_event",Ap="Unable to send Replay",Hk=3e5,Vk=9e5,zk=5e3,$k=5500,jk=6e4,qk=5e3,Gk=3,r_=15e4,zu=5e3,Wk=3e3,Yk=300,Rp=2e7,Kk=4999,Xk=15e3,n_=36e5;function ip(e,t){return e??t()}function Os(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}var St;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(St||(St={}));function Jk(e){return e.nodeType===e.ELEMENT_NODE}function Rs(e){let t=Os([e,"optionalAccess",r=>r.host]);return Os([t,"optionalAccess",r=>r.shadowRoot])===e}function Cs(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Zk(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Qk(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function Wu(e){try{let t=e.rules||e.cssRules;return t?Zk(Array.from(t,x_).join("")):null}catch{return null}}function e0(e){let t="";for(let r=0;r<e.style.length;r++){let n=e.style,i=n[r],a=n.getPropertyPriority(i);t+=`${i}:${n.getPropertyValue(i)}${a?" !important":""};`}return`${e.selectorText} { ${t} }`}function x_(e){let t;if(r0(e))try{t=Wu(e.styleSheet)||Qk(e)}catch{}else if(n0(e)){let r=e.cssText,n=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(r=e0(e)),n&&(r=t0(r)),n||i)return r}return t||e.cssText}function t0(e){let t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function r0(e){return"styleSheet"in e}function n0(e){return"selectorText"in e}var Yu=class{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;let r=Os([this,"access",n=>n.getMeta,"call",n=>n(t),"optionalAccess",n=>n.id]);return ip(r,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){let r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(n=>this.removeNodeFromMap(n))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){let n=r.id;this.idNodeMap.set(n,t),this.nodeMetaMap.set(t,r)}replace(t,r){let n=this.getNode(t);if(n){let i=this.nodeMetaMap.get(n);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function i0(){return new Yu}function sl({maskInputOptions:e,tagName:t,type:r}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||r&&e[r]||r==="password"||t==="INPUT"&&!r&&e.text)}function Ms({isMasked:e,element:t,value:r,maskInputFn:n}){let i=r||"";return e?(n&&(i=n(i,t)),"*".repeat(i.length)):i}function fo(e){return e.toLowerCase()}function ap(e){return e.toUpperCase()}var i_="__rrweb_original__";function a0(e){let t=e.getContext("2d");if(!t)return!0;let r=50;for(let n=0;n<e.width;n+=r)for(let i=0;i<e.height;i+=r){let a=t.getImageData,o=i_ in a?a[i_]:a;if(new Uint32Array(o.call(t,n,i,Math.min(r,e.width-n),Math.min(r,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Cp(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?fo(t):null}function Ku(e,t,r){return t==="INPUT"&&(r==="radio"||r==="checkbox")?e.getAttribute("value")||"":e.value}function k_(e,t){let r;try{r=new URL(e,ip(t,()=>window.location.href))}catch{return null}let n=/\.([0-9a-z]+)(?:$)/i,i=r.pathname.match(n);return ip(Os([i,"optionalAccess",a=>a[1]]),()=>null)}var a_={};function A_(e){let t=a_[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);let a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch{}return a_[e]=n.bind(window)}function op(...e){return A_("setTimeout")(...e)}function R_(...e){return A_("clearTimeout")(...e)}function C_(e){try{return e.contentDocument}catch{}}var o0=1,s0=new RegExp("[^a-z0-9-_:]"),Ds=-2;function Np(){return o0++}function c0(e){if(e instanceof HTMLFormElement)return"form";let t=fo(e.tagName);return s0.test(t)?"div":t}function u0(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}var ao,o_,l0=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,d0=/^(?:[a-z+]+:)?\/\//i,f0=/^www\..*/i,p0=/^(data:)([^,]*),(.*)/i;function Xu(e,t){return(e||"").replace(l0,(r,n,i,a,o,s)=>{let c=i||o||s,u=n||a||"";if(!c)return r;if(d0.test(c)||f0.test(c))return`url(${u}${c}${u})`;if(p0.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${u0(t)+c}${u})`;let l=t.split("/"),d=c.split("/");l.pop();for(let f of d)f!=="."&&(f===".."?l.pop():l.push(f));return`url(${u}${l.join("/")}${u})`})}var m0=/^[^ \t\n\r\u000c]+/,h0=/^[, \t\n\r\u000c]+/;function g0(e,t){if(t.trim()==="")return t;let r=0;function n(a){let o,s=a.exec(t.substring(r));return s?(o=s[0],r+=o.length,o):""}let i=[];for(;n(h0),!(r>=t.length);){let a=n(m0);if(a.slice(-1)===",")a=so(e,a.substring(0,a.length-1)),i.push(a);else{let o="";a=so(e,a);let s=!1;for(;;){let c=t.charAt(r);if(c===""){i.push((a+o).trim());break}else if(s)c===")"&&(s=!1);else if(c===","){r+=1,i.push((a+o).trim());break}else c==="("&&(s=!0);o+=c,r+=1}}}return i.join(", ")}var s_=new WeakMap;function so(e,t){return!t||t.trim()===""?t:cl(e,t)}function v0(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function cl(e,t){let r=s_.get(e);if(r||(r=e.createElement("a"),s_.set(e,r)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return r.setAttribute("href",t),r.href}function N_(e,t,r,n,i,a){return n&&(r==="src"||r==="href"&&!(t==="use"&&n[0]==="#")||r==="xlink:href"&&n[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?so(e,n):r==="srcset"?g0(e,n):r==="style"?Xu(n,cl(e)):t==="object"&&r==="data"?so(e,n):typeof a=="function"?a(r,n,i):n)}function O_(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function _0(e,t,r,n){try{if(n&&e.matches(n))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){let a=e.classList[i];if(t.test(a))return!0}if(r)return e.matches(r)}catch{}return!1}function y0(e,t){for(let r=e.classList.length;r--;){let n=e.classList[r];if(t.test(n))return!0}return!1}function Ki(e,t,r=1/0,n=0){return!e||e.nodeType!==e.ELEMENT_NODE||n>r?-1:t(e)?n:Ki(e.parentNode,t,r,n+1)}function co(e,t){return r=>{let n=r;if(n===null)return!1;try{if(e){if(typeof e=="string"){if(n.matches(`.${e}`))return!0}else if(y0(n,e))return!0}return!!(t&&n.matches(t))}catch{return!1}}}function po(e,t,r,n,i,a){try{let o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){let u=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let s=-1,c=-1;if(a){if(c=Ki(o,co(n,i)),c<0)return!0;s=Ki(o,co(t,r),c>=0?c:1/0)}else{if(s=Ki(o,co(t,r)),s<0)return!1;c=Ki(o,co(n,i),s>=0?s:1/0)}return s>=0?c>=0?s<=c:!0:c>=0?!1:!!a}catch{}return!!a}function S0(e,t,r){let n=e.contentWindow;if(!n)return;let i=!1,a;try{a=n.document.readyState}catch{return}if(a!=="complete"){let s=op(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{R_(s),i=!0,t()});return}let o="about:blank";if(n.location.href!==o||e.src===o||e.src==="")return op(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function E0(e,t,r){let n=!1,i;try{i=e.sheet}catch{return}if(i)return;let a=op(()=>{n||(t(),n=!0)},r);e.addEventListener("load",()=>{R_(a),n=!0,t()})}function b0(e,t){let{doc:r,mirror:n,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:s,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:S,maskInputOptions:T={},maskTextFn:I,maskInputFn:k,dataURLOptions:w={},inlineImages:C,recordCanvas:$,keepIframeSrcFn:W,newlyAddedElement:Y=!1}=t,N=T0(r,n);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:St.Document,childNodes:[],compatMode:e.compatMode}:{type:St.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:St.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:N};case e.ELEMENT_NODE:return w0(e,{doc:r,blockClass:i,blockSelector:a,unblockSelector:o,inlineStylesheet:S,maskAttributeFn:c,maskInputOptions:T,maskInputFn:k,dataURLOptions:w,inlineImages:C,recordCanvas:$,keepIframeSrcFn:W,newlyAddedElement:Y,rootId:N,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return I0(e,{doc:r,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:I,maskInputOptions:T,maskInputFn:k,rootId:N});case e.CDATA_SECTION_NODE:return{type:St.CDATA,textContent:"",rootId:N};case e.COMMENT_NODE:return{type:St.Comment,textContent:e.textContent||"",rootId:N};default:return!1}}function T0(e,t){if(!t.hasNode(e))return;let r=t.getId(e);return r===1?void 0:r}function I0(e,t){let{maskAllText:r,maskTextClass:n,unmaskTextClass:i,maskTextSelector:a,unmaskTextSelector:o,maskTextFn:s,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName,f=e.textContent,S=d==="STYLE"?!0:void 0,T=d==="SCRIPT"?!0:void 0,I=d==="TEXTAREA"?!0:void 0;if(S&&f){try{e.nextSibling||e.previousSibling||Os([e,"access",w=>w.parentNode,"access",w=>w.sheet,"optionalAccess",w=>w.cssRules])&&(f=Wu(e.parentNode.sheet))}catch(w){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${w}`,e)}f=Xu(f,cl(t.doc))}T&&(f="SCRIPT_PLACEHOLDER");let k=po(e,n,a,i,o,r);if(!S&&!T&&!I&&f&&k&&(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*")),I&&f&&(c.textarea||k)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),d==="OPTION"&&f){let w=sl({type:null,tagName:d,maskInputOptions:c});f=Ms({isMasked:po(e,n,a,i,o,w),element:e,value:f,maskInputFn:u})}return{type:St.Text,textContent:f||"",isStyle:S,rootId:l}}function w0(e,t){let{doc:r,blockClass:n,blockSelector:i,unblockSelector:a,inlineStylesheet:o,maskInputOptions:s={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:S,newlyAddedElement:T=!1,rootId:I,maskAllText:k,maskTextClass:w,unmaskTextClass:C,maskTextSelector:$,unmaskTextSelector:W}=t,Y=_0(e,n,i,a),N=c0(e),A={},V=e.attributes.length;for(let M=0;M<V;M++){let E=e.attributes[M];E.name&&!O_(N,E.name,E.value)&&(A[E.name]=N_(r,N,fo(E.name),E.value,e,c))}if(N==="link"&&o){let M=Array.from(r.styleSheets).find(Z=>Z.href===e.href),E=null;M&&(E=Wu(M)),E&&(A.rel=null,A.href=null,A.crossorigin=null,A._cssText=Xu(E,M.href))}if(N==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let M=Wu(e.sheet);M&&(A._cssText=Xu(M,cl(r)))}if(N==="input"||N==="textarea"||N==="select"||N==="option"){let M=e,E=Cp(M),Z=Ku(M,ap(N),E),ge=M.checked;if(E!=="submit"&&E!=="button"&&Z){let Re=po(M,w,$,C,W,sl({type:E,tagName:ap(N),maskInputOptions:s}));A.value=Ms({isMasked:Re,element:M,value:Z,maskInputFn:u})}ge&&(A.checked=ge)}if(N==="option"&&(e.selected&&!s.select?A.selected=!0:delete A.selected),N==="canvas"&&f){if(e.__context==="2d")a0(e)||(A.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){let M=e.toDataURL(l.type,l.quality),E=r.createElement("canvas");E.width=e.width,E.height=e.height;let Z=E.toDataURL(l.type,l.quality);M!==Z&&(A.rr_dataURL=M)}}if(N==="img"&&d){ao||(ao=r.createElement("canvas"),o_=ao.getContext("2d"));let M=e,E=M.currentSrc||M.getAttribute("src")||"<unknown-src>",Z=M.crossOrigin,ge=()=>{M.removeEventListener("load",ge);try{ao.width=M.naturalWidth,ao.height=M.naturalHeight,o_.drawImage(M,0,0),A.rr_dataURL=ao.toDataURL(l.type,l.quality)}catch(Re){if(M.crossOrigin!=="anonymous"){M.crossOrigin="anonymous",M.complete&&M.naturalWidth!==0?ge():M.addEventListener("load",ge);return}else console.warn(`Cannot inline img src=${E}! Error: ${Re}`)}M.crossOrigin==="anonymous"&&(Z?A.crossOrigin=Z:M.removeAttribute("crossorigin"))};M.complete&&M.naturalWidth!==0?ge():M.addEventListener("load",ge)}if((N==="audio"||N==="video")&&(A.rr_mediaState=e.paused?"paused":"played",A.rr_mediaCurrentTime=e.currentTime),T||(e.scrollLeft&&(A.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(A.rr_scrollTop=e.scrollTop)),Y){let{width:M,height:E}=e.getBoundingClientRect();A={class:A.class,rr_width:`${M}px`,rr_height:`${E}px`}}N==="iframe"&&!S(A.src)&&(!Y&&!C_(e)&&(A.rr_src=A.src),delete A.src);let F;try{customElements.get(N)&&(F=!0)}catch{}return{type:St.Element,tagName:N,attributes:A,childNodes:[],isSVG:v0(e)||void 0,needBlock:Y,rootId:I,isCustom:F}}function je(e){return e==null?"":e.toLowerCase()}function x0(e,t){if(t.comment&&e.type===St.Comment)return!0;if(e.type===St.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&k_(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(je(e.attributes.name).match(/^msapplication-tile(image|color)$/)||je(e.attributes.name)==="application-name"||je(e.attributes.rel)==="icon"||je(e.attributes.rel)==="apple-touch-icon"||je(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&je(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(je(e.attributes.property).match(/^(og|twitter|fb):/)||je(e.attributes.name).match(/^(og|twitter):/)||je(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(je(e.attributes.name)==="robots"||je(e.attributes.name)==="googlebot"||je(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(je(e.attributes.name)==="author"||je(e.attributes.name)==="generator"||je(e.attributes.name)==="framework"||je(e.attributes.name)==="publisher"||je(e.attributes.name)==="progid"||je(e.attributes.property).match(/^article:/)||je(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(je(e.attributes.name)==="google-site-verification"||je(e.attributes.name)==="yandex-verification"||je(e.attributes.name)==="csrf-token"||je(e.attributes.name)==="p:domain_verify"||je(e.attributes.name)==="verify-v1"||je(e.attributes.name)==="verification"||je(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function uo(e,t){let{doc:r,mirror:n,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:S=!0,maskInputOptions:T={},maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOMOptions:C,dataURLOptions:$={},inlineImages:W=!1,recordCanvas:Y=!1,onSerialize:N,onIframeLoad:A,iframeLoadTimeout:V=5e3,onStylesheetLoad:F,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:E=()=>!1,newlyAddedElement:Z=!1}=t,{preserveWhiteSpace:ge=!0}=t,Re=b0(e,{doc:r,mirror:n,blockClass:i,blockSelector:a,maskAllText:s,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:S,maskInputOptions:T,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,dataURLOptions:$,inlineImages:W,recordCanvas:Y,keepIframeSrcFn:E,newlyAddedElement:Z});if(!Re)return console.warn(e,"not serialized"),null;let Xe;n.hasNode(e)?Xe=n.getId(e):x0(Re,C)||!ge&&Re.type===St.Text&&!Re.isStyle&&!Re.textContent.replace(/^\s+|\s+$/gm,"").length?Xe=Ds:Xe=Np();let de=Object.assign(Re,{id:Xe});if(n.add(e,de),Xe===Ds)return null;N&&N(e);let ze=!f;if(de.type===St.Element){ze=ze&&!de.needBlock,delete de.needBlock;let Ee=e.shadowRoot;Ee&&Cs(Ee)&&(de.isShadowHost=!0)}if((de.type===St.Document||de.type===St.Element)&&ze){C.headWhitespace&&de.type===St.Element&&de.tagName==="head"&&(ge=!1);let Ee={doc:r,mirror:n,blockClass:i,blockSelector:a,maskAllText:s,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:S,maskInputOptions:T,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOMOptions:C,dataURLOptions:$,inlineImages:W,recordCanvas:Y,preserveWhiteSpace:ge,onSerialize:N,onIframeLoad:A,iframeLoadTimeout:V,onStylesheetLoad:F,stylesheetLoadTimeout:M,keepIframeSrcFn:E};for(let He of Array.from(e.childNodes)){let Tt=uo(He,Ee);Tt&&de.childNodes.push(Tt)}if(Jk(e)&&e.shadowRoot)for(let He of Array.from(e.shadowRoot.childNodes)){let Tt=uo(He,Ee);Tt&&(Cs(e.shadowRoot)&&(Tt.isShadow=!0),de.childNodes.push(Tt))}}return e.parentNode&&Rs(e.parentNode)&&Cs(e.parentNode)&&(de.isShadow=!0),de.type===St.Element&&de.tagName==="iframe"&&S0(e,()=>{let Ee=C_(e);if(Ee&&A){let He=uo(Ee,{doc:Ee,mirror:n,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:S,maskInputOptions:T,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOMOptions:C,dataURLOptions:$,inlineImages:W,recordCanvas:Y,preserveWhiteSpace:ge,onSerialize:N,onIframeLoad:A,iframeLoadTimeout:V,onStylesheetLoad:F,stylesheetLoadTimeout:M,keepIframeSrcFn:E});He&&A(e,He)}},V),de.type===St.Element&&de.tagName==="link"&&typeof de.attributes.rel=="string"&&(de.attributes.rel==="stylesheet"||de.attributes.rel==="preload"&&typeof de.attributes.href=="string"&&k_(de.attributes.href)==="css")&&E0(e,()=>{if(F){let Ee=uo(e,{doc:r,mirror:n,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:S,maskInputOptions:T,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOMOptions:C,dataURLOptions:$,inlineImages:W,recordCanvas:Y,preserveWhiteSpace:ge,onSerialize:N,onIframeLoad:A,iframeLoadTimeout:V,onStylesheetLoad:F,stylesheetLoadTimeout:M,keepIframeSrcFn:E});Ee&&F(e,Ee)}},M),de}function k0(e,t){let{mirror:r=new Yu,blockClass:n="rr-block",blockSelector:i=null,unblockSelector:a=null,maskAllText:o=!1,maskTextClass:s="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:S=!1,maskAllInputs:T=!1,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOM:C=!1,dataURLOptions:$,preserveWhiteSpace:W,onSerialize:Y,onIframeLoad:N,iframeLoadTimeout:A,onStylesheetLoad:V,stylesheetLoadTimeout:F,keepIframeSrcFn:M=()=>!1}=t||{};return uo(e,{doc:e,mirror:r,blockClass:n,blockSelector:i,unblockSelector:a,maskAllText:o,maskTextClass:s,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:T===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:T===!1?{}:T,maskAttributeFn:I,maskTextFn:k,maskInputFn:w,slimDOMOptions:C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:C==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:C===!1?{}:C,dataURLOptions:$,inlineImages:f,recordCanvas:S,preserveWhiteSpace:W,onSerialize:Y,onIframeLoad:N,iframeLoadTimeout:A,onStylesheetLoad:V,stylesheetLoadTimeout:F,keepIframeSrcFn:M,newlyAddedElement:!1})}function Ei(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}function er(e,t,r=document){let n={capture:!0,passive:!0};return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}var oo=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,c_={map:{},getId(){return console.error(oo),-1},getNode(){return console.error(oo),null},removeNodeFromMap(){console.error(oo)},has(){return console.error(oo),!1},reset(){console.error(oo)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(c_=new Proxy(c_,{get(e,t,r){return t==="map"&&console.error(oo),Reflect.get(e,t,r)}}));function Ls(e,t,r={}){let n=null,i=0;return function(...a){let o=Date.now();!i&&r.leading===!1&&(i=o);let s=t-(o-i),c=this;s<=0||s>t?(n&&(M0(n),n=null),i=o,e.apply(c,a)):!n&&r.trailing!==!1&&(n=ul(()=>{i=r.leading===!1?0:Date.now(),n=null,e.apply(c,a)},s))}}function M_(e,t,r,n,i=window){let a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,n?r:{set(o){ul(()=>{r.set.call(this,o)},0),a&&a.set&&a.set.call(this,o)}}),()=>M_(e,t,a||{},!0)}function Op(e,t,r){try{if(!(t in e))return()=>{};let n=e[t],i=r(n);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:n}})),e[t]=i,()=>{e[t]=n}}catch{return()=>{}}}var Ju=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ju=()=>new Date().getTime());function D_(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:Ei([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollLeft])||Ei([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollLeft])||Ei([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:Ei([t,"optionalAccess",r=>r.documentElement,"access",r=>r.scrollTop])||Ei([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.parentElement,"optionalAccess",r=>r.scrollTop])||Ei([t,"optionalAccess",r=>r.body,"optionalAccess",r=>r.scrollTop])||0}}function L_(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function P_(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function U_(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function wr(e,t,r,n,i){if(!e)return!1;let a=U_(e);if(!a)return!1;let o=co(t,r);if(!i){let u=n&&a.matches(n);return o(a)&&!u}let s=Ki(a,o),c=-1;return s<0?!1:(n&&(c=Ki(a,co(null,n))),s>-1&&c<0?!0:s<c)}function A0(e,t){return t.getId(e)!==-1}function ep(e,t){return t.getId(e)===Ds}function F_(e,t){if(Rs(e))return!1;let r=t.getId(e);return t.has(r)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?F_(e.parentNode,t):!0:!0}function sp(e){return!!e.changedTouches}function R0(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let r=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===r)return!0;while(r=r&&r.parentNode);return!1})}function B_(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function H_(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function cp(e){return!!Ei([e,"optionalAccess",t=>t.shadowRoot])}var up=class{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Rf(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let n;return r===void 0?n=this.id++:n=r,this.styleIDMap.set(t,n),this.idStyleMap.set(n,t),n}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function V_(e){let t=null;return Ei([e,"access",r=>r.getRootNode,"optionalCall",r=>r(),"optionalAccess",r=>r.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function C0(e){let t=e,r;for(;r=V_(t);)t=r;return t}function N0(e){let t=e.ownerDocument;if(!t)return!1;let r=C0(e);return t.contains(r)}function z_(e){let t=e.ownerDocument;return t?t.contains(e)||N0(e):!1}var u_={};function Mp(e){let t=u_[e];if(t)return t;let r=window.document,n=window[e];if(r&&typeof r.createElement=="function")try{let i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);let a=i.contentWindow;a&&a[e]&&(n=a[e]),r.head.removeChild(i)}catch{}return u_[e]=n.bind(window)}function O0(...e){return Mp("requestAnimationFrame")(...e)}function ul(...e){return Mp("setTimeout")(...e)}function M0(...e){return Mp("clearTimeout")(...e)}var Ie=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Ie||{}),me=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(me||{}),Qt=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Qt||{}),qn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(qn||{}),l_;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(l_||(l_={}));var d_;(function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"})(d_||(d_={}));function Dp(e){try{return e.contentDocument}catch{}}function D0(e){try{return e.contentWindow}catch{}}function L0(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}function f_(e){return"__ln"in e}var lp=class{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let n=0;n<t;n++)r=L0([r,"optionalAccess",i=>i.next])||null;return r}addNode(t){let r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&f_(t.previousSibling)){let n=t.previousSibling.__ln.next;r.next=n,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,n&&(n.previous=r)}else if(t.nextSibling&&f_(t.nextSibling)&&t.nextSibling.__ln.previous){let n=t.nextSibling.__ln.previous;r.previous=n,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,n&&(n.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){let r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}},p_=(e,t)=>`${e}@${t}`,dp=class{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let t=[],r=new Set,n=new lp,i=c=>{let u=c,l=Ds;for(;l===Ds;)u=u&&u.nextSibling,l=u&&this.mirror.getId(u);return l},a=c=>{if(!c.parentNode||!z_(c))return;let u=Rs(c.parentNode)?this.mirror.getId(V_(c)):this.mirror.getId(c.parentNode),l=i(c);if(u===-1||l===-1)return n.addNode(c);let d=uo(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{B_(f,this.mirror)&&!wr(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),H_(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),cp(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,S)=>{wr(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,S),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,S)=>{this.stylesheetManager.attachLinkElement(f,S)}});d&&(t.push({parentId:u,nextId:l,node:d}),r.add(d.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let c of this.movedSet)m_(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||a(c);for(let c of this.addedSet)!h_(this.droppedSet,c)&&!m_(this.removes,c,this.mirror)||h_(this.movedSet,c)?a(c):this.droppedSet.add(c);let o=null;for(;n.length;){let c=null;if(o){let u=this.mirror.getId(o.value.parentNode),l=i(o.value);u!==-1&&l!==-1&&(c=o)}if(!c){let u=n.tail;for(;u;){let l=u;if(u=u.previous,l){let d=this.mirror.getId(l.value.parentNode);if(i(l.value)===-1)continue;if(d!==-1){c=l;break}else{let S=l.value;if(S.parentNode&&S.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let T=S.parentNode.host;if(this.mirror.getId(T)!==-1){c=l;break}}}}}}if(!c){for(;n.head;)n.removeNode(n.head.value);break}o=c.previous,n.removeNode(c.value),a(c.value)}let s={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{let{attributes:u}=c;if(typeof u.style=="string"){let l=JSON.stringify(c.styleDiff),d=JSON.stringify(c._unchangedStyles);l.length<u.style.length&&(l+d).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!r.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!s.texts.length&&!s.attributes.length&&!s.removes.length&&!s.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(s))},this.processMutation=t=>{if(!ep(t.target,this.mirror))switch(t.type){case"characterData":{let r=t.target.textContent;!wr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:po(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r,U_(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{let r=t.target,n=t.attributeName,i=t.target.getAttribute(n);if(n==="value"){let o=Cp(r),s=r.tagName;i=Ku(r,s,o);let c=sl({maskInputOptions:this.maskInputOptions,tagName:s,type:o}),u=po(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);i=Ms({isMasked:u,element:r,value:i,maskInputFn:this.maskInputFn})}if(wr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let a=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&n==="src"&&!this.keepIframeSrcFn(i))if(!Dp(r))n="rr_src";else return;if(a||(a={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(t.target,a)),n==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!O_(r.tagName,n)&&(a.attributes[n]=N_(this.doc,fo(r.tagName),fo(n),i,r,this.maskAttributeFn),n==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}let o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(let s of Array.from(r.style)){let c=r.style.getPropertyValue(s),u=r.style.getPropertyPriority(s);c!==o.style.getPropertyValue(s)||u!==o.style.getPropertyPriority(s)?u===""?a.styleDiff[s]=c:a.styleDiff[s]=[c,u]:a._unchangedStyles[s]=[c,u]}for(let s of Array.from(o.style))r.style.getPropertyValue(s)===""&&(a.styleDiff[s]=!1)}break}case"childList":{if(wr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{let n=this.mirror.getId(r),i=Rs(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);wr(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ep(r,this.mirror)||!A0(r,this.mirror)||(this.addedSet.has(r)?(fp(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&n===-1||F_(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[p_(n,i)]?fp(this.movedSet,r):this.removes.push({parentId:i,id:n,isShadow:Rs(t.target)&&Cs(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ep(t,this.mirror))return;this.movedSet.add(t);let n=null;r&&this.mirror.hasNode(r)&&(n=this.mirror.getId(r)),n&&n!==-1&&(this.movedMap[p_(this.mirror.getId(t),n)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);wr(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(n=>this.genAdds(n)),cp(t)&&t.shadowRoot.childNodes.forEach(n=>{this.processedNodeManager.add(n,this),this.genAdds(n,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function fp(e,t){e.delete(t),t.childNodes.forEach(r=>fp(e,r))}function m_(e,t,r){return e.length===0?!1:P0(e,t,r)}function P0(e,t,r){let n=t.parentNode;for(;n;){let i=r.getId(n);if(e.some(a=>a.id===i))return!0;n=n.parentNode}return!1}function h_(e,t){return e.size===0?!1:$_(e,t)}function $_(e,t){let{parentNode:r}=t;return r?e.has(r)?!0:$_(e,r):!1}var Ns;function U0(e){Ns=e}function F0(){Ns=void 0}var Ae=e=>Ns?((...r)=>{try{return e(...r)}catch(n){if(Ns&&Ns(n)===!0)return()=>{};throw n}}):e;function on(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}var lo=[];function Hs(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function j_(e,t){let r=new dp;lo.push(r),r.init(e);let n=window.MutationObserver||window.__rrMutationObserver,i=on([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(n=window[i]);let a=new n(Ae(o=>{e.onMutation&&e.onMutation(o)===!1||r.processMutations.bind(r)(o)}));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function B0({mousemoveCb:e,sampling:t,doc:r,mirror:n}){if(t.mousemove===!1)return()=>{};let i=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500,o=[],s,c=Ls(Ae(d=>{let f=Date.now()-s;e(o.map(S=>(S.timeOffset-=f,S)),d),o=[],s=null}),a),u=Ae(Ls(Ae(d=>{let f=Hs(d),{clientX:S,clientY:T}=sp(d)?d.changedTouches[0]:d;s||(s=Ju()),o.push({x:S,y:T,id:n.getId(f),timeOffset:Ju()-s}),c(typeof DragEvent<"u"&&d instanceof DragEvent?me.Drag:d instanceof MouseEvent?me.MouseMove:me.TouchMove)}),i,{trailing:!1})),l=[er("mousemove",u,r),er("touchmove",u,r),er("drag",u,r)];return Ae(()=>{l.forEach(d=>d())})}function H0({mouseInteractionCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:a,sampling:o}){if(o.mouseInteraction===!1)return()=>{};let s=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[],u=null,l=d=>f=>{let S=Hs(f);if(wr(S,n,i,a,!0))return;let T=null,I=d;if("pointerType"in f){switch(f.pointerType){case"mouse":T=qn.Mouse;break;case"touch":T=qn.Touch;break;case"pen":T=qn.Pen;break}T===qn.Touch?Qt[d]===Qt.MouseDown?I="TouchStart":Qt[d]===Qt.MouseUp&&(I="TouchEnd"):qn.Pen}else sp(f)&&(T=qn.Touch);T!==null?(u=T,(I.startsWith("Touch")&&T===qn.Touch||I.startsWith("Mouse")&&T===qn.Mouse)&&(T=null)):Qt[d]===Qt.Click&&(T=u,u=null);let k=sp(f)?f.changedTouches[0]:f;if(!k)return;let w=r.getId(S),{clientX:C,clientY:$}=k;Ae(e)({type:Qt[I],id:w,x:C,y:$,...T!==null&&{pointerType:T}})};return Object.keys(Qt).filter(d=>Number.isNaN(Number(d))&&!d.endsWith("_Departed")&&s[d]!==!1).forEach(d=>{let f=fo(d),S=l(d);if(window.PointerEvent)switch(Qt[d]){case Qt.MouseDown:case Qt.MouseUp:f=f.replace("mouse","pointer");break;case Qt.TouchStart:case Qt.TouchEnd:return}c.push(er(f,S,t))}),Ae(()=>{c.forEach(d=>d())})}function q_({scrollCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:a,sampling:o}){let s=Ae(Ls(Ae(c=>{let u=Hs(c);if(!u||wr(u,n,i,a,!0))return;let l=r.getId(u);if(u===t&&t.defaultView){let d=D_(t.defaultView);e({id:l,x:d.left,y:d.top})}else e({id:l,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return er("scroll",s,t)}function V0({viewportResizeCb:e},{win:t}){let r=-1,n=-1,i=Ae(Ls(Ae(()=>{let a=L_(),o=P_();(r!==a||n!==o)&&(e({width:Number(o),height:Number(a)}),r=a,n=o)}),200));return er("resize",i,t)}var z0=["INPUT","TEXTAREA","SELECT"],g_=new WeakMap;function $0({inputCb:e,doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:a,ignoreClass:o,ignoreSelector:s,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:S,maskTextSelector:T,unmaskTextSelector:I}){function k(A){let V=Hs(A),F=A.isTrusted,M=V&&ap(V.tagName);if(M==="OPTION"&&(V=V.parentElement),!V||!M||z0.indexOf(M)<0||wr(V,n,i,a,!0))return;let E=V;if(E.classList.contains(o)||s&&E.matches(s))return;let Z=Cp(V),ge=Ku(E,M,Z),Re=!1,Xe=sl({maskInputOptions:c,tagName:M,type:Z}),de=po(V,f,T,S,I,Xe);(Z==="radio"||Z==="checkbox")&&(Re=V.checked),ge=Ms({isMasked:de,element:V,value:ge,maskInputFn:u}),w(V,d?{text:ge,isChecked:Re,userTriggered:F}:{text:ge,isChecked:Re});let ze=V.name;Z==="radio"&&ze&&Re&&t.querySelectorAll(`input[type="radio"][name="${ze}"]`).forEach(Ee=>{if(Ee!==V){let He=Ms({isMasked:de,element:Ee,value:Ku(Ee,M,Z),maskInputFn:u});w(Ee,d?{text:He,isChecked:!Re,userTriggered:!1}:{text:He,isChecked:!Re})}})}function w(A,V){let F=g_.get(A);if(!F||F.text!==V.text||F.isChecked!==V.isChecked){g_.set(A,V);let M=r.getId(A);Ae(e)({...V,id:M})}}let $=(l.input==="last"?["change"]:["input","change"]).map(A=>er(A,Ae(k),t)),W=t.defaultView;if(!W)return()=>{$.forEach(A=>A())};let Y=W.Object.getOwnPropertyDescriptor(W.HTMLInputElement.prototype,"value"),N=[[W.HTMLInputElement.prototype,"value"],[W.HTMLInputElement.prototype,"checked"],[W.HTMLSelectElement.prototype,"value"],[W.HTMLTextAreaElement.prototype,"value"],[W.HTMLSelectElement.prototype,"selectedIndex"],[W.HTMLOptionElement.prototype,"selected"]];return Y&&Y.set&&$.push(...N.map(A=>M_(A[0],A[1],{set(){Ae(k)({target:this,isTrusted:!1})}},!1,W))),Ae(()=>{$.forEach(A=>A())})}function Zu(e){let t=[];function r(n,i){if($u("CSSGroupingRule")&&n.parentRule instanceof CSSGroupingRule||$u("CSSMediaRule")&&n.parentRule instanceof CSSMediaRule||$u("CSSSupportsRule")&&n.parentRule instanceof CSSSupportsRule||$u("CSSConditionRule")&&n.parentRule instanceof CSSConditionRule){let o=Array.from(n.parentRule.cssRules).indexOf(n);i.unshift(o)}else if(n.parentStyleSheet){let o=Array.from(n.parentStyleSheet.cssRules).indexOf(n);i.unshift(o)}return i}return r(e,t)}function bi(e,t,r){let n,i;return e?(e.ownerNode?n=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:n}):{}}function j0({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};let i=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:Ae((l,d,f)=>{let[S,T]=f,{id:I,styleId:k}=bi(d,t,r.styleMirror);return(I&&I!==-1||k&&k!==-1)&&e({id:I,styleId:k,adds:[{rule:S,index:T}]}),l.apply(d,f)})});let a=n.CSSStyleSheet.prototype.deleteRule;n.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:Ae((l,d,f)=>{let[S]=f,{id:T,styleId:I}=bi(d,t,r.styleMirror);return(T&&T!==-1||I&&I!==-1)&&e({id:T,styleId:I,removes:[{index:S}]}),l.apply(d,f)})});let o;n.CSSStyleSheet.prototype.replace&&(o=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:Ae((l,d,f)=>{let[S]=f,{id:T,styleId:I}=bi(d,t,r.styleMirror);return(T&&T!==-1||I&&I!==-1)&&e({id:T,styleId:I,replace:S}),l.apply(d,f)})}));let s;n.CSSStyleSheet.prototype.replaceSync&&(s=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:Ae((l,d,f)=>{let[S]=f,{id:T,styleId:I}=bi(d,t,r.styleMirror);return(T&&T!==-1||I&&I!==-1)&&e({id:T,styleId:I,replaceSync:S}),l.apply(d,f)})}));let c={};ju("CSSGroupingRule")?c.CSSGroupingRule=n.CSSGroupingRule:(ju("CSSMediaRule")&&(c.CSSMediaRule=n.CSSMediaRule),ju("CSSConditionRule")&&(c.CSSConditionRule=n.CSSConditionRule),ju("CSSSupportsRule")&&(c.CSSSupportsRule=n.CSSSupportsRule));let u={};return Object.entries(c).forEach(([l,d])=>{u[l]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(u[l].insertRule,{apply:Ae((f,S,T)=>{let[I,k]=T,{id:w,styleId:C}=bi(S.parentStyleSheet,t,r.styleMirror);return(w&&w!==-1||C&&C!==-1)&&e({id:w,styleId:C,adds:[{rule:I,index:[...Zu(S),k||0]}]}),f.apply(S,T)})}),d.prototype.deleteRule=new Proxy(u[l].deleteRule,{apply:Ae((f,S,T)=>{let[I]=T,{id:k,styleId:w}=bi(S.parentStyleSheet,t,r.styleMirror);return(k&&k!==-1||w&&w!==-1)&&e({id:k,styleId:w,removes:[{index:[...Zu(S),I]}]}),f.apply(S,T)})})}),Ae(()=>{n.CSSStyleSheet.prototype.insertRule=i,n.CSSStyleSheet.prototype.deleteRule=a,o&&(n.CSSStyleSheet.prototype.replace=o),s&&(n.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach(([l,d])=>{d.prototype.insertRule=u[l].insertRule,d.prototype.deleteRule=u[l].deleteRule})})}function G_({mirror:e,stylesheetManager:t},r){let n=null;r.nodeName==="#document"?n=e.getId(r):n=e.getId(r.host);let i=r.nodeName==="#document"?on([r,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):on([r,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),a=on([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(on([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return n===null||n===-1||!i||!a?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get(){return on([a,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){let s=on([a,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(n!==null&&n!==-1)try{t.adoptStyleSheets(o,n)}catch{}return s}}),Ae(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:a.configurable,enumerable:a.enumerable,get:a.get,set:a.set})}))}function q0({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:n},{win:i}){let a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:Ae((s,c,u)=>{let[l,d,f]=u;if(r.has(l))return a.apply(c,[l,d,f]);let{id:S,styleId:T}=bi(on([c,"access",I=>I.parentRule,"optionalAccess",I=>I.parentStyleSheet]),t,n.styleMirror);return(S&&S!==-1||T&&T!==-1)&&e({id:S,styleId:T,set:{property:l,value:d,priority:f},index:Zu(c.parentRule)}),s.apply(c,u)})});let o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:Ae((s,c,u)=>{let[l]=u;if(r.has(l))return o.apply(c,[l]);let{id:d,styleId:f}=bi(on([c,"access",S=>S.parentRule,"optionalAccess",S=>S.parentStyleSheet]),t,n.styleMirror);return(d&&d!==-1||f&&f!==-1)&&e({id:d,styleId:f,remove:{property:l},index:Zu(c.parentRule)}),s.apply(c,u)})}),Ae(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=o})}function G0({mediaInteractionCb:e,blockClass:t,blockSelector:r,unblockSelector:n,mirror:i,sampling:a,doc:o}){let s=Ae(u=>Ls(Ae(l=>{let d=Hs(l);if(!d||wr(d,t,r,n,!0))return;let{currentTime:f,volume:S,muted:T,playbackRate:I}=d;e({type:u,id:i.getId(d),currentTime:f,volume:S,muted:T,playbackRate:I})}),a.media||500)),c=[er("play",s(0),o),er("pause",s(1),o),er("seeked",s(2),o),er("volumechange",s(3),o),er("ratechange",s(4),o)];return Ae(()=>{c.forEach(u=>u())})}function W0({fontCb:e,doc:t}){let r=t.defaultView;if(!r)return()=>{};let n=[],i=new WeakMap,a=r.FontFace;r.FontFace=function(c,u,l){let d=new a(c,u,l);return i.set(d,{family:c,buffer:typeof u!="string",descriptors:l,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),d};let o=Op(t.fonts,"add",function(s){return function(c){return ul(Ae(()=>{let u=i.get(c);u&&(e(u),i.delete(c))}),0),s.apply(this,[c])}});return n.push(()=>{r.FontFace=a}),n.push(o),Ae(()=>{n.forEach(s=>s())})}function Y0(e){let{doc:t,mirror:r,blockClass:n,blockSelector:i,unblockSelector:a,selectionCb:o}=e,s=!0,c=Ae(()=>{let u=t.getSelection();if(!u||s&&on([u,"optionalAccess",f=>f.isCollapsed]))return;s=u.isCollapsed||!1;let l=[],d=u.rangeCount||0;for(let f=0;f<d;f++){let S=u.getRangeAt(f),{startContainer:T,startOffset:I,endContainer:k,endOffset:w}=S;wr(T,n,i,a,!0)||wr(k,n,i,a,!0)||l.push({start:r.getId(T),startOffset:I,end:r.getId(k),endOffset:w})}o({ranges:l})});return c(),er("selectionchange",c)}function K0({doc:e,customElementCb:t}){let r=e.defaultView;return!r||!r.customElements?()=>{}:Op(r.customElements,"define",function(i){return function(a,o,s){try{t({define:{name:a}})}catch{}return i.apply(this,[a,o,s])}})}function X0(e,t={}){let r=e.doc.defaultView;if(!r)return()=>{};let n;e.recordDOM&&(n=j_(e,e.doc));let i=B0(e),a=H0(e),o=q_(e),s=V0(e,{win:r}),c=$0(e),u=G0(e),l=()=>{},d=()=>{},f=()=>{},S=()=>{};e.recordDOM&&(l=j0(e,{win:r}),d=G_(e,e.doc),f=q0(e,{win:r}),e.collectFonts&&(S=W0(e)));let T=Y0(e),I=K0(e),k=[];for(let w of e.plugins)k.push(w.observer(w.callback,r,w.options));return Ae(()=>{lo.forEach(w=>w.reset()),on([n,"optionalAccess",w=>w.disconnect,"call",w=>w()]),i(),a(),o(),s(),c(),u(),l(),d(),f(),S(),T(),I(),k.forEach(w=>w())})}function $u(e){return typeof window[e]<"u"}function ju(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Ps=class{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,r,n,i){let a=n||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t),s=a.get(r);return s||(s=this.generateIdFn(),a.set(r,s),o.set(s,r)),s}getIds(t,r){let n=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return r.map(a=>this.getId(t,a,n,i))}getRemoteId(t,r,n){let i=n||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;let a=i.get(r);return a||-1}getRemoteIds(t,r){let n=this.getRemoteIdToIdMap(t);return r.map(i=>this.getRemoteId(t,i,n))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}};function v_(e){let t,r=e[0],n=1;for(;n<e.length;){let i=e[n],a=e[n+1];if(n+=2,(i==="optionalAccess"||i==="optionalCall")&&r==null)return;i==="access"||i==="optionalAccess"?(t=r,r=a(r)):(i==="call"||i==="optionalCall")&&(r=a((...o)=>r.call(t,...o)),t=void 0)}return r}var pp=class{constructor(){this.crossOriginIframeMirror=new Ps(Np),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}},mp=class{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ps(Np),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ps(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),v_([this,"access",i=>i.loadListener,"optionalCall",i=>i(t)]);let n=Dp(t);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(t){let r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;let i=this.crossOriginIframeMap.get(t.source);if(!i)return;let a=this.transformCrossOriginEvent(i,r.data.event);a&&this.wrappedEmit(a,r.data.isCheckout)}transformCrossOriginEvent(t,r){switch(r.type){case Ie.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);let n=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,n),this.patchRootIdOnNode(r.data.node,n),{timestamp:r.timestamp,type:Ie.IncrementalSnapshot,data:{source:me.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Ie.Meta:case Ie.Load:case Ie.DomContentLoaded:return!1;case Ie.Plugin:return r;case Ie.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case Ie.IncrementalSnapshot:switch(r.data.source){case me.Mutation:return r.data.adds.forEach(n=>{this.replaceIds(n,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(n.node,t);let i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(n.node,i)}),r.data.removes.forEach(n=>{this.replaceIds(n,t,["parentId","id"])}),r.data.attributes.forEach(n=>{this.replaceIds(n,t,["id"])}),r.data.texts.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case me.Drag:case me.TouchMove:case me.MouseMove:return r.data.positions.forEach(n=>{this.replaceIds(n,t,["id"])}),r;case me.ViewportResize:return!1;case me.MediaInteraction:case me.MouseInteraction:case me.Scroll:case me.CanvasMutation:case me.Input:return this.replaceIds(r.data,t,["id"]),r;case me.StyleSheetRule:case me.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case me.Font:return r;case me.Selection:return r.data.ranges.forEach(n=>{this.replaceIds(n,t,["start","end"])}),r;case me.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),v_([r,"access",n=>n.data,"access",n=>n.styles,"optionalAccess",n=>n.forEach,"call",n=>n(i=>{this.replaceStyleIds(i,t,["styleId"])})]),r}}return!1}replace(t,r,n,i){for(let a of i)!Array.isArray(r[a])&&typeof r[a]!="number"||(Array.isArray(r[a])?r[a]=t.getIds(n,r[a]):r[a]=t.getId(n,r[a]));return r}replaceIds(t,r,n){return this.replace(this.crossOriginIframeMirror,t,r,n)}replaceStyleIds(t,r,n){return this.replace(this.crossOriginIframeStyleMirror,t,r,n)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(n=>{this.replaceIdOnNode(n,r)})}patchRootIdOnNode(t,r){t.type!==St.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(n=>{this.patchRootIdOnNode(n,r)})}},hp=class{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}},gp=class{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!Cs(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);let n=j_({...this.bypassOptions,doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(q_({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),ul(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(G_({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){let r=Dp(t),n=D0(t);!r||!n||this.patchAttachShadow(n.Element,r)}patchAttachShadow(t,r){let n=this;this.restoreHandlers.push(Op(t.prototype,"attachShadow",function(i){return function(a){let o=i.call(this,a);return this.shadowRoot&&z_(this)&&n.addShadowRoot(this.shadowRoot,r),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}},Qu=class{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}},vp=class{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new up,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;let n={id:r,styleIds:[]},i=[];for(let a of t){let o;this.styleMirror.has(a)?o=this.styleMirror.getId(a):(o=this.styleMirror.add(a),i.push({styleId:o,rules:Array.from(a.rules||CSSRule,(s,c)=>({rule:x_(s),index:c}))})),n.styleIds.push(o)}i.length>0&&(n.styles=i),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}},_p=class{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,r){let n=this.nodeMap.get(t);return n&&Array.from(n).some(i=>i!==r)}add(t,r){this.active||(this.active=!0,O0(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}destroy(){}},nt,el;try{if(Array.from([1],e=>e*2)[0]!==2){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=ro([e,"access",t=>t.contentWindow,"optionalAccess",t=>t.Array,"access",t=>t.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}var an=i0();function Gn(e={}){let{emit:t,checkoutEveryNms:r,checkoutEveryNth:n,blockClass:i="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:s="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:S=null,inlineStylesheet:T=!0,maskAllInputs:I,maskInputOptions:k,slimDOMOptions:w,maskAttributeFn:C,maskInputFn:$,maskTextFn:W,maxCanvasSize:Y=null,packFn:N,sampling:A={},dataURLOptions:V={},mousemoveWait:F,recordDOM:M=!0,recordCanvas:E=!1,recordCrossOriginIframes:Z=!1,recordAfter:ge=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:Re=!1,collectFonts:Xe=!1,inlineImages:de=!1,plugins:ze,keepIframeSrcFn:Ee=()=>!1,ignoreCSSAttributes:He=new Set([]),errorHandler:Tt,onMutation:qt,getCanvasManager:At}=e;U0(Tt);let ft=Z?window.parent===window:!0,pt=!1;if(!ft)try{window.parent.document&&(pt=!1)}catch{pt=!0}if(ft&&!t)throw new Error("emit function is required");if(!ft&&!pt)return()=>{};F!==void 0&&A.mousemove===void 0&&(A.mousemove=F),an.reset();let Qe=I===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:k!==void 0?k:{},Kr=w===!0||w==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:w==="all",headMetaDescKeywords:w==="all"}:w||{};R0();let Vo,zo=0,Mc=ke=>{for(let x of ze||[])x.eventProcessor&&(ke=x.eventProcessor(ke));return N&&!pt&&(ke=N(ke)),ke};nt=(ke,x)=>{let m=ke;if(m.timestamp=Ju(),ro([lo,"access",_=>_[0],"optionalAccess",_=>_.isFrozen,"call",_=>_()])&&m.type!==Ie.FullSnapshot&&!(m.type===Ie.IncrementalSnapshot&&m.data.source===me.Mutation)&&lo.forEach(_=>_.unfreeze()),ft)ro([t,"optionalCall",_=>_(Mc(m),x)]);else if(pt){let _={type:"rrweb",event:Mc(m),origin:window.location.origin,isCheckout:x};window.parent.postMessage(_,"*")}if(m.type===Ie.FullSnapshot)Vo=m,zo=0;else if(m.type===Ie.IncrementalSnapshot){if(m.data.source===me.Mutation&&m.data.isAttachIframe)return;zo++;let _=n&&zo>=n,h=r&&Vo&&m.timestamp-Vo.timestamp>r;(_||h)&&$o(!0)}};let ui=ke=>{nt({type:Ie.IncrementalSnapshot,data:{source:me.Mutation,...ke}})},Dc=ke=>nt({type:Ie.IncrementalSnapshot,data:{source:me.Scroll,...ke}}),Td=ke=>nt({type:Ie.IncrementalSnapshot,data:{source:me.CanvasMutation,...ke}}),Id=ke=>nt({type:Ie.IncrementalSnapshot,data:{source:me.AdoptedStyleSheet,...ke}}),Cr=new vp({mutationCb:ui,adoptedStyleSheetCb:Id}),Se=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new pp:new mp({mirror:an,mutationCb:ui,stylesheetManager:Cr,recordCrossOriginIframes:Z,wrappedEmit:nt});for(let ke of ze||[])ke.getMirror&&ke.getMirror({nodeMirror:an,crossOriginIframeMirror:Se.crossOriginIframeMirror,crossOriginIframeStyleMirror:Se.crossOriginIframeStyleMirror});let Fa=new _p,Ba=Z0(At,{mirror:an,win:window,mutationCb:ke=>nt({type:Ie.IncrementalSnapshot,data:{source:me.CanvasMutation,...ke}}),recordCanvas:E,blockClass:i,blockSelector:a,unblockSelector:o,maxCanvasSize:Y,sampling:A.canvas,dataURLOptions:V,errorHandler:Tt}),vr=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new hp:new gp({mutationCb:ui,scrollCb:Dc,bypassOptions:{onMutation:qt,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:S,inlineStylesheet:T,maskInputOptions:Qe,dataURLOptions:V,maskAttributeFn:C,maskTextFn:W,maskInputFn:$,recordCanvas:E,inlineImages:de,sampling:A,slimDOMOptions:Kr,iframeManager:Se,stylesheetManager:Cr,canvasManager:Ba,keepIframeSrcFn:Ee,processedNodeManager:Fa},mirror:an}),$o=(ke=!1)=>{if(!M)return;nt({type:Ie.Meta,data:{href:window.location.href,width:P_(),height:L_()}},ke),Cr.reset(),vr.init(),lo.forEach(m=>m.lock());let x=k0(document,{mirror:an,blockClass:i,blockSelector:a,unblockSelector:o,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:S,inlineStylesheet:T,maskAllInputs:Qe,maskAttributeFn:C,maskInputFn:$,maskTextFn:W,slimDOM:Kr,dataURLOptions:V,recordCanvas:E,inlineImages:de,onSerialize:m=>{B_(m,an)&&Se.addIframe(m),H_(m,an)&&Cr.trackLinkElement(m),cp(m)&&vr.addShadowRoot(m.shadowRoot,document)},onIframeLoad:(m,_)=>{Se.attachIframe(m,_),m.contentWindow&&Ba.addWindow(m.contentWindow),vr.observeAttachShadow(m)},onStylesheetLoad:(m,_)=>{Cr.attachLinkElement(m,_)},keepIframeSrcFn:Ee});if(!x)return console.warn("Failed to snapshot the document");nt({type:Ie.FullSnapshot,data:{node:x,initialOffset:D_(window)}}),lo.forEach(m=>m.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Cr.adoptStyleSheets(document.adoptedStyleSheets,an.getId(document))};el=$o;try{let ke=[],x=_=>Ae(X0)({onMutation:qt,mutationCb:ui,mousemoveCb:(h,v)=>nt({type:Ie.IncrementalSnapshot,data:{source:v,positions:h}}),mouseInteractionCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.MouseInteraction,...h}}),scrollCb:Dc,viewportResizeCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.ViewportResize,...h}}),inputCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.Input,...h}}),mediaInteractionCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.MediaInteraction,...h}}),styleSheetRuleCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.StyleSheetRule,...h}}),styleDeclarationCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.StyleDeclaration,...h}}),canvasMutationCb:Td,fontCb:h=>nt({type:Ie.IncrementalSnapshot,data:{source:me.Font,...h}}),selectionCb:h=>{nt({type:Ie.IncrementalSnapshot,data:{source:me.Selection,...h}})},customElementCb:h=>{nt({type:Ie.IncrementalSnapshot,data:{source:me.CustomElement,...h}})},blockClass:i,ignoreClass:s,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:S,maskInputOptions:Qe,inlineStylesheet:T,sampling:A,recordDOM:M,recordCanvas:E,inlineImages:de,userTriggeredOnInput:Re,collectFonts:Xe,doc:_,maskAttributeFn:C,maskInputFn:$,maskTextFn:W,keepIframeSrcFn:Ee,blockSelector:a,unblockSelector:o,slimDOMOptions:Kr,dataURLOptions:V,mirror:an,iframeManager:Se,stylesheetManager:Cr,shadowDomManager:vr,processedNodeManager:Fa,canvasManager:Ba,ignoreCSSAttributes:He,plugins:ro([ze,"optionalAccess",h=>h.filter,"call",h=>h(v=>v.observer),"optionalAccess",h=>h.map,"call",h=>h(v=>({observer:v.observer,options:v.options,callback:g=>nt({type:Ie.Plugin,data:{plugin:v.name,payload:g}})}))])||[]},{});Se.addLoadListener(_=>{try{ke.push(x(_.contentDocument))}catch(h){console.warn(h)}});let m=()=>{$o(),ke.push(x(document))};return document.readyState==="interactive"||document.readyState==="complete"?m():(ke.push(er("DOMContentLoaded",()=>{nt({type:Ie.DomContentLoaded,data:{}}),ge==="DOMContentLoaded"&&m()})),ke.push(er("load",()=>{nt({type:Ie.Load,data:{}}),ge==="load"&&m()},window))),()=>{ke.forEach(_=>_()),Fa.destroy(),el=void 0,F0()}}catch(ke){console.warn(ke)}}function J0(e){if(!el)throw new Error("please take full snapshot after start recording");el(e)}Gn.mirror=an;Gn.takeFullSnapshot=J0;function Z0(e,t){try{return e?e(t):new Qu}catch{return console.warn("Unable to initialize CanvasManager"),new Qu}}var Q0=3,eA=5;function Lp(e){return e>9999999999?e:e*1e3}function tp(e){return e>9999999999?e/1e3:e}function Vs(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Ie.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Zt(t,10,1e3)}}),t.category==="console")))}var tA="button,a";function W_(e){return e.closest(tA)||e}function Y_(e){let t=K_(e);return!t||!(t instanceof Element)?t:W_(t)}function K_(e){return rA(e)?e.target:e}function rA(e){return typeof e=="object"&&!!e&&"target"in e}var Ti;function nA(e){return Ti||(Ti=[],iA()),Ti.push(e),()=>{let t=Ti?Ti.indexOf(e):-1;t>-1&&Ti.splice(t,1)}}function iA(){at(qe,"open",function(e){return function(...t){if(Ti)try{Ti.forEach(r=>r())}catch{}return e.apply(qe,t)}})}var aA=new Set([me.Mutation,me.StyleSheetRule,me.StyleDeclaration,me.AdoptedStyleSheet,me.CanvasMutation,me.Selection,me.MediaInteraction]);function oA(e,t,r){e.handleClick(t,r)}var yp=class{constructor(t,r,n=Vs){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=r.timeout/1e3,this._threshold=r.threshold/1e3,this._scrollTimeout=r.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=r.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){let t=nA(()=>{this._lastMutation=__()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,r){if(cA(r,this._ignoreSelector)||!uA(t))return;let n={timestamp:tp(t.timestamp),clickBreadcrumb:t,clickCount:0,node:r};this._clicks.some(i=>i.node===n.node&&Math.abs(i.timestamp-n.timestamp)<1)||(this._clicks.push(n),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=tp(t)}registerScroll(t=Date.now()){this._lastScroll=tp(t)}registerClick(t){let r=W_(t);this._handleMultiClick(r)}_handleMultiClick(t){this._getClicks(t).forEach(r=>{r.clickCount++})}_getClicks(t){return this._clicks.filter(r=>r.node===t)}_checkClicks(){let t=[],r=__();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=r&&t.push(n)});for(let n of t){let i=this._clicks.indexOf(n);i>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){let r=this._replay,n=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,a=!n&&!i,{clickCount:o,clickBreadcrumb:s}=t;if(a){let c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",l={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:qe.location.href,route:r.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(r,l);return}if(o>1){let c={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:qe.location.href,route:r.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(r,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Si(()=>this._checkClicks(),1e3)}},sA=["A","BUTTON","INPUT"];function cA(e,t){return!!(!sA.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function uA(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function __(){return Date.now()/1e3}function lA(e,t){try{if(!dA(t))return;let{source:r}=t.data;if(aA.has(r)&&e.registerMutation(t.timestamp),r===me.Scroll&&e.registerScroll(t.timestamp),fA(t)){let{type:n,id:i}=t.data,a=Gn.mirror.getNode(i);a instanceof HTMLElement&&n===Qt.Click&&e.registerClick(a)}}catch{}}function dA(e){return e.type===Q0}function fA(e){return e.data.source===me.MouseInteraction}function Sn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var tl;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(tl||(tl={}));var pA=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function mA(e){let t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(let r in e)if(pA.has(r)){let n=r;(r==="data-testid"||r==="data-test-id")&&(n="testId"),t[n]=e[r]}return t}var hA=e=>t=>{if(!e.isEnabled())return;let r=gA(t);if(!r)return;let n=t.name==="click",i=n?t.event:void 0;n&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&oA(e.clickDetector,r,Y_(t.event)),Vs(e,r)};function X_(e,t){let r=Gn.mirror.getId(e),n=r&&Gn.mirror.getNode(r),i=n&&Gn.mirror.getMeta(n),a=i&&_A(i)?i:null;return{message:t,data:a?{nodeId:r,node:{id:r,tagName:a.tagName,textContent:Array.from(a.childNodes).map(o=>o.type===tl.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:mA(a.attributes)}}:{}}}function gA(e){let{target:t,message:r}=vA(e);return Sn({category:`ui.${e.name}`,...X_(t,r)})}function vA(e){let t=e.name==="click",r,n=null;try{n=t?Y_(e.event):K_(e.event),r=Vt(n,{maxStringLength:200})||"<unknown>"}catch{r="<unknown>"}return{target:n,message:r}}function _A(e){return e.type===tl.Element}function yA(e,t){if(!e.isEnabled())return;e.updateUserActivity();let r=SA(t);r&&Vs(e,r)}function SA(e){let{metaKey:t,shiftKey:r,ctrlKey:n,altKey:i,key:a,target:o}=e;if(!o||EA(o)||!a)return null;let s=t||n||i,c=a.length===1;if(!s&&c)return null;let u=Vt(o,{maxStringLength:200})||"<unknown>",l=X_(o,u);return Sn({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:r,ctrlKey:n,altKey:i,key:a}})}function EA(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}var bA={resource:kA,paint:wA,navigation:xA};function qu(e,t){return({metric:r})=>{t.replayPerformanceEntries.push(e(r))}}function TA(e){return e.map(IA).filter(Boolean)}function IA(e){let t=bA[e.entryType];return t?t(e):null}function mo(e){return((rt||qe.performance.timeOrigin)+e)/1e3}function wA(e){let{duration:t,entryType:r,name:n,startTime:i}=e,a=mo(i);return{type:r,name:n,start:a,end:a+t,data:void 0}}function xA(e){let{entryType:t,name:r,decodedBodySize:n,duration:i,domComplete:a,encodedBodySize:o,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:S,transferSize:T,type:I}=e;return i===0?null:{type:`${t}.${I}`,start:mo(S),end:mo(a),name:r,data:{size:T,decodedBodySize:n,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:a,redirectCount:f}}}function kA(e){let{entryType:t,initiatorType:r,name:n,responseEnd:i,startTime:a,decodedBodySize:o,encodedBodySize:s,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(r)?null:{type:`${t}.${r}`,start:mo(a),end:mo(i),name:n,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:s}}}function AA(e){let t=e.entries[e.entries.length-1],r=t&&t.element?[t.element]:void 0;return ll(e,"largest-contentful-paint",r)}function RA(e){return e.sources!==void 0}function CA(e){let t=[],r=[];for(let n of e.entries)if(RA(n)){let i=[];for(let a of n.sources)if(a.node){r.push(a.node);let o=Gn.mirror.getId(a.node);o&&i.push(o)}t.push({value:n.value,nodeIds:i.length?i:void 0})}return ll(e,"cumulative-layout-shift",r,t)}function NA(e){let t=e.entries[e.entries.length-1],r=t&&t.target?[t.target]:void 0;return ll(e,"first-input-delay",r)}function OA(e){let t=e.entries[e.entries.length-1],r=t&&t.target?[t.target]:void 0;return ll(e,"interaction-to-next-paint",r)}function ll(e,t,r,n){let i=e.value,a=e.rating,o=mo(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:a,nodeIds:r?r.map(s=>Gn.mirror.getId(s)):void 0,attributions:n}}}function MA(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function r({entries:i}){i.forEach(t)}let n=[];return["navigation","paint","resource"].forEach(i=>{n.push(rn(i,r))}),n.push(ys(qu(AA,e)),Wi(qu(CA,e)),Ss(qu(NA,e)),Es(qu(OA,e))),()=>{n.forEach(i=>i())}}var ue=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,DA='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function LA(){let e=new Blob([DA]);return URL.createObjectURL(e)}var y_=["info","warn","error","log"],Gu="[Replay] ";function rp(e,t="info"){lr({category:"console",data:{logger:"replay"},level:t,message:`${Gu}${e}`},{level:t})}function PA(){let e=!1,t=!1,r={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=n.captureExceptions,t=n.traceInternals}};return ue?(y_.forEach(n=>{r[n]=(...i)=>{O[n](Gu,...i),t&&rp(i.join(""),ps(n))}}),r.exception=(n,...i)=>{i.length&&r.error&&r.error(...i),O.error(Gu,n),e?Vn(n):t&&rp(n,"error")},r.infoTick=(...n)=>{O.info(Gu,...n),t&&setTimeout(()=>rp(n[0]),0)}):y_.forEach(n=>{r[n]=()=>{}}),r}var pe=PA(),Us=class extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Rp}.`)}},rl=class{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){let r=JSON.stringify(t).length;if(this._totalSize+=r,this._totalSize>Rp)throw new Us;this.events.push(t)}finish(){return new Promise(t=>{let r=this.events;this.clear(),t(JSON.stringify(r))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let t=this.events.map(r=>r.timestamp).sort()[0];return t?Lp(t):null}},Sp=class{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,r)=>{this._worker.addEventListener("message",({data:n})=>{n.success?t():r()},{once:!0}),this._worker.addEventListener("error",n=>{r(n)},{once:!0})}),this._ensureReadyPromise)}destroy(){ue&&pe.info("Destroying compression worker"),this._worker.terminate()}postMessage(t,r){let n=this._getAndIncrementId();return new Promise((i,a)=>{let o=({data:s})=>{let c=s;if(c.method===t&&c.id===n){if(this._worker.removeEventListener("message",o),!c.success){ue&&pe.error("Error in compression worker: ",c.response),a(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:t,arg:r})})}_getAndIncrementId(){return this._id++}},Ep=class{constructor(t){this._worker=new Sp(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){let r=Lp(t.timestamp);(!this._earliestTimestamp||r<this._earliestTimestamp)&&(this._earliestTimestamp=r);let n=JSON.stringify(t);return this._totalSize+=n.length,this._totalSize>Rp?Promise.reject(new Us):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{ue&&pe.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){let t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}},bp=class{constructor(t){this._fallback=new rl,this._compression=new Ep(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){ue&&pe.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:t,hasCheckout:r,waitForCheckout:n}=this._fallback,i=[];for(let a of t)i.push(this._compression.addEvent(a));this._compression.hasCheckout=r,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(a){ue&&pe.exception(a,"Failed to add events when switching buffers.")}}};function UA({useCompression:e,workerUrl:t}){if(e&&window.Worker){let r=FA(t);if(r)return r}return ue&&pe.info("Using simple buffer"),new rl}function FA(e){try{let t=e||BA();if(!t)return;ue&&pe.info(`Using compression worker${e?` from ${e}`:""}`);let r=new Worker(t);return new bp(r)}catch(t){ue&&pe.exception(t,"Failed to create compression worker")}}function BA(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?LA():""}function Pp(){try{return"sessionStorage"in qe&&!!qe.sessionStorage}catch{return!1}}function HA(e){VA(),e.session=void 0}function VA(){if(Pp())try{qe.sessionStorage.removeItem(kp)}catch{}}function J_(e){return e===void 0?!1:Math.random()<e}function Z_(e){let t=Date.now(),r=e.id||st(),n=e.started||t,i=e.lastActivity||t,a=e.segmentId||0,o=e.sampled,s=e.previousSessionId;return{id:r,started:n,lastActivity:i,segmentId:a,sampled:o,previousSessionId:s}}function Up(e){if(Pp())try{qe.sessionStorage.setItem(kp,JSON.stringify(e))}catch{}}function zA(e,t){return J_(e)?"session":t?"buffer":!1}function S_({sessionSampleRate:e,allowBuffering:t,stickySession:r=!1},{previousSessionId:n}={}){let i=zA(e,t),a=Z_({sampled:i,previousSessionId:n});return r&&Up(a),a}function $A(){if(!Pp())return null;try{let e=qe.sessionStorage.getItem(kp);if(!e)return null;let t=JSON.parse(e);return ue&&pe.infoTick("Loading existing session"),Z_(t)}catch{return null}}function Tp(e,t,r=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=r}function Q_(e,{maxReplayDuration:t,sessionIdleExpire:r,targetTime:n=Date.now()}){return Tp(e.started,t,n)||Tp(e.lastActivity,r,n)}function ey(e,{sessionIdleExpire:t,maxReplayDuration:r}){return!(!Q_(e,{sessionIdleExpire:t,maxReplayDuration:r})||e.sampled==="buffer"&&e.segmentId===0)}function np({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:r},n){let i=n.stickySession&&$A();return i?ey(i,{sessionIdleExpire:e,maxReplayDuration:t})?(ue&&pe.infoTick("Session in sessionStorage is expired, creating new one..."),S_(n,{previousSessionId:i.id})):i:(ue&&pe.infoTick("Creating new session"),S_(n,{previousSessionId:r}))}function jA(e){return e.type===Ie.Custom}function Fp(e,t,r){return ry(e,t)?(ty(e,t,r),!0):!1}function qA(e,t,r){return ry(e,t)?ty(e,t,r):Promise.resolve(null)}async function ty(e,t,r){let{eventBuffer:n}=e;if(!n||n.waitForCheckout&&!r)return null;let i=e.recordingMode==="buffer";try{r&&i&&n.clear(),r&&(n.hasCheckout=!0,n.waitForCheckout=!1);let a=e.getOptions(),o=GA(t,a.beforeAddRecordingEvent);return o?await n.addEvent(o):void 0}catch(a){let o=a&&a instanceof Us,s=o?"addEventSizeExceeded":"addEvent";if(o&&i)return n.clear(),n.waitForCheckout=!0,null;e.handleException(a),await e.stop({reason:s});let c=re();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function ry(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let r=Lp(t.timestamp);return r+e.timeouts.sessionIdlePause<Date.now()?!1:r>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ue&&pe.infoTick(`Skipping event with timestamp ${r} because it is after maxReplayDuration`),!1):!0}function GA(e,t){try{if(typeof t=="function"&&jA(e))return t(e)}catch(r){return ue&&pe.exception(r,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Bp(e){return!e.type}function Ip(e){return e.type==="transaction"}function WA(e){return e.type==="replay_event"}function E_(e){return e.type==="feedback"}function YA(e){return(t,r)=>{if(!e.isEnabled()||!Bp(t)&&!Ip(t))return;let n=r&&r.statusCode;if(!(!n||n<200||n>=300)){if(Ip(t)){KA(e,t);return}XA(e,t)}}}function KA(e,t){let r=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&r.traceIds.size<100&&r.traceIds.add(t.contexts.trace.trace_id)}function XA(e,t){let r=e.getContext();if(t.event_id&&r.errorIds.size<100&&r.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:n}=e.getOptions();typeof n=="function"&&!n(t)||Si(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function JA(e){return t=>{!e.isEnabled()||!Bp(t)||ZA(e,t)}}function ZA(e,t){let r=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if(typeof r=="string"&&(r.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||r.match(/(does not match server-rendered HTML|Hydration failed because)/i))){let n=Sn({category:"replay.hydrate-error",data:{url:Xo()}});Vs(e,n)}}function QA(e){let t=re();t&&t.on("beforeAddBreadcrumb",r=>eR(e,r))}function eR(e,t){if(!e.isEnabled()||!ny(t))return;let r=tR(t);r&&Vs(e,r)}function tR(e){return!ny(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?rR(e):Sn(e)}function rR(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Sn(e);let r=!1,n=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>zu?(r=!0,`${i.slice(0,zu)}\u2026`):i;if(typeof i=="object")try{let a=Zt(i,7);return JSON.stringify(a).length>zu?(r=!0,`${JSON.stringify(a,null,2).slice(0,zu)}\u2026`):a}catch{}return i});return Sn({...e,data:{...e.data,arguments:n,...r?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function ny(e){return!!e.category}function nR(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function iy(){let e=ve().getPropagationContext().dsc;e&&delete e.replay_id;let t=Ce();if(t){let r=Jt(t);delete r.replay_id}}function iR(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Ie.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function aR(e,t){return e.recordingMode!=="buffer"||t.message===Ap||!t.exception||t.type?!1:J_(e.getOptions().errorSampleRate)}function oR(e){return Object.assign((t,r)=>!e.isEnabled()||e.isPaused()?t:WA(t)?(delete t.breadcrumbs,t):!Bp(t)&&!Ip(t)&&!E_(t)?t:e.checkAndHandleExpiredSession()?E_(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),iR(e,t),t):nR(t,r)&&!e.getOptions()._experiments.captureExceptions?(ue&&pe.log("Ignoring error from rrweb internals",t),null):((aR(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(iy(),t),{id:"Replay"})}function dl(e,t){return t.map(({type:r,start:n,end:i,name:a,data:o})=>{let s=e.throttledAddEvent({type:Ie.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:r,description:a,startTimestamp:n,endTimestamp:i,data:o}}});return typeof s=="string"?Promise.resolve(null):s})}function sR(e){let{from:t,to:r}=e,n=Date.now()/1e3;return{type:"navigation.push",start:n,end:n,name:r,data:{previous:t}}}function cR(e){return t=>{if(!e.isEnabled())return;let r=sR(t);r!==null&&(e.getContext().urls.push(r.name),e.triggerUserActivity(),e.addUpdate(()=>(dl(e,[r]),!1)))}}function uR(e,t){return ue&&e.getOptions()._experiments.traceInternals?!1:gf(t,re())}function ay(e,t){e.isEnabled()&&t!==null&&(uR(e,t.name)||e.addUpdate(()=>(dl(e,[t]),!0)))}function fl(e){if(!e)return;let t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let r=uy(e);return t.encode(r).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function oy(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function sy(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[uy(e)];if(!e)return[void 0]}catch(t){return ue&&pe.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ue&&pe.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function nl(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let r={...e._meta},n=r.warnings||[];return r.warnings=[...n,t],e._meta=r,e}function cy(e,t){if(!t)return null;let{startTimestamp:r,endTimestamp:n,url:i,method:a,statusCode:o,request:s,response:c}=t;return{type:e,start:r/1e3,end:n/1e3,name:i,data:Oe({method:a,statusCode:o,request:s,response:c})}}function Fs(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ii(e,t,r){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!r)return{headers:e,size:t};let n={headers:e,size:t},{body:i,warnings:a}=lR(r);return n.body=i,a&&a.length>0&&(n._meta={warnings:a}),n}function wp(e,t){return Object.entries(e).reduce((r,[n,i])=>{let a=n.toLowerCase();return t.includes(a)&&e[n]&&(r[a]=i),r},{})}function uy(e){return new URLSearchParams(e).toString()}function lR(e){if(!e||typeof e!="string")return{body:e};let t=e.length>r_,r=dR(e);if(t){let n=e.slice(0,r_);return r?{body:n,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${n}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(r)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function dR(e){let t=e[0],r=e[e.length-1];return t==="["&&r==="]"||t==="{"&&r==="}"}function il(e,t){let r=fR(e);return Nr(r,t)}function fR(e,t=qe.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(qe.location.origin))return e;let r=new URL(e,t);if(r.origin!==new URL(t).origin)return e;let n=r.href;return!e.endsWith("/")&&n.endsWith("/")?n.slice(0,-1):n}async function pR(e,t,r){try{let n=await hR(e,t,r),i=cy("resource.fetch",n);ay(r.replay,i)}catch(n){ue&&pe.exception(n,"Failed to capture fetch breadcrumb")}}function mR(e,t){let{input:r,response:n}=t,i=r?ly(r):void 0,a=fl(i),o=n?oy(n.headers.get("content-length")):void 0;a!==void 0&&(e.data.request_body_size=a),o!==void 0&&(e.data.response_body_size=o)}async function hR(e,t,r){let n=Date.now(),{startTimestamp:i=n,endTimestamp:a=n}=t,{url:o,method:s,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=il(o,r.networkDetailAllowUrls)&&!il(o,r.networkDetailDenyUrls),f=d?gR(r,t.input,u):Fs(u),S=await vR(d,r,t.response,l);return{startTimestamp:i,endTimestamp:a,url:o,method:s,statusCode:c,request:f,response:S}}function gR({networkCaptureBodies:e,networkRequestHeaders:t},r,n){let i=r?SR(r,t):{};if(!e)return Ii(i,n,void 0);let a=ly(r),[o,s]=sy(a),c=Ii(i,n,o);return s?nl(c,s):c}async function vR(e,{networkCaptureBodies:t,networkResponseHeaders:r},n,i){if(!e&&i!==void 0)return Fs(i);let a=n?dy(n.headers,r):{};if(!n||!t&&i!==void 0)return Ii(a,i,void 0);let[o,s]=await yR(n),c=_R(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:a});return s?nl(c,s):c}function _R(e,{networkCaptureBodies:t,responseBodySize:r,captureDetails:n,headers:i}){try{let a=e&&e.length&&r===void 0?fl(e):r;return n?t?Ii(i,a,e):Ii(i,a,void 0):Fs(a)}catch(a){return ue&&pe.exception(a,"Failed to serialize response body"),Ii(i,r,void 0)}}async function yR(e){let t=ER(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await bR(t)]}catch(r){return r instanceof Error&&r.message.indexOf("Timeout")>-1?(ue&&pe.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(ue&&pe.exception(r,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function ly(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function dy(e,t){let r={};return t.forEach(n=>{e.get(n)&&(r[n]=e.get(n))}),r}function SR(e,t){return e.length===1&&typeof e[0]!="string"?b_(e[0],t):e.length===2?b_(e[1],t):{}}function b_(e,t){if(!e)return{};let r=e.headers;return r?r instanceof Headers?dy(r,t):Array.isArray(r)?{}:wp(r,t):{}}function ER(e){try{return e.clone()}catch(t){ue&&pe.exception(t,"Failed to clone response body")}}function bR(e){return new Promise((t,r)=>{let n=Si(()=>r(new Error("Timeout while trying to read response body")),500);TR(e).then(i=>t(i),i=>r(i)).finally(()=>clearTimeout(n))})}async function TR(e){return await e.text()}async function IR(e,t,r){try{let n=xR(e,t,r),i=cy("resource.xhr",n);ay(r.replay,i)}catch(n){ue&&pe.exception(n,"Failed to capture xhr breadcrumb")}}function wR(e,t){let{xhr:r,input:n}=t;if(!r)return;let i=fl(n),a=r.getResponseHeader("content-length")?oy(r.getResponseHeader("content-length")):CR(r.response,r.responseType);i!==void 0&&(e.data.request_body_size=i),a!==void 0&&(e.data.response_body_size=a)}function xR(e,t,r){let n=Date.now(),{startTimestamp:i=n,endTimestamp:a=n,input:o,xhr:s}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!s||!il(c,r.networkDetailAllowUrls)||il(c,r.networkDetailDenyUrls)){let N=Fs(d),A=Fs(f);return{startTimestamp:i,endTimestamp:a,url:c,method:u,statusCode:l,request:N,response:A}}let S=s[nn],T=S?wp(S.request_headers,r.networkRequestHeaders):{},I=wp(kR(s),r.networkResponseHeaders),[k,w]=r.networkCaptureBodies?sy(o):[void 0],[C,$]=r.networkCaptureBodies?AR(s):[void 0],W=Ii(T,d,k),Y=Ii(I,f,C);return{startTimestamp:i,endTimestamp:a,url:c,method:u,statusCode:l,request:w?nl(W,w):W,response:$?nl(Y,$):Y}}function kR(e){let t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((r,n)=>{let[i,a]=n.split(": ");return a&&(r[i.toLowerCase()]=a),r},{}):{}}function AR(e){let t=[];try{return[e.responseText]}catch(r){t.push(r)}try{return RR(e.response,e.responseType)}catch(r){t.push(r)}return ue&&pe.warn("Failed to get xhr response body",...t),[void 0]}function RR(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(r){return ue&&pe.exception(r,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return ue&&pe.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function CR(e,t){try{let r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return fl(r)}catch{return}}function NR(e){let t=re();try{let{networkDetailAllowUrls:r,networkDetailDenyUrls:n,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o}=e.getOptions(),s={replay:e,networkDetailAllowUrls:r,networkDetailDenyUrls:n,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(c,u)=>OR(s,c,u))}catch{}}function OR(e,t,r){if(t.data)try{MR(t)&&LR(r)&&(wR(t,r),IR(t,r,e)),DR(t)&&PR(r)&&(mR(t,r),pR(t,r,e))}catch(n){ue&&pe.exception(n,"Error when enriching network breadcrumb")}}function MR(e){return e.category==="xhr"}function DR(e){return e.category==="fetch"}function LR(e){return e&&e.xhr}function PR(e){return e&&e.response}function UR(e){let t=re();xs(hA(e)),jn(cR(e)),QA(e),NR(e);let r=oR(e);mu(r),t&&(t.on("beforeSendEvent",JA(e)),t.on("afterSendEvent",YA(e)),t.on("createDsc",n=>{let i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(n.replay_id=i)}),t.on("spanStart",n=>{e.lastActiveSpan=n}),t.on("spanEnd",n=>{e.lastActiveSpan=n}),t.on("beforeSendFeedback",(n,i)=>{let a=e.getSessionId();i&&i.includeReplay&&e.isEnabled()&&a&&n.contexts&&n.contexts.feedback&&(n.contexts.feedback.replay_id=a)}))}async function FR(e){try{return Promise.all(dl(e,[BR(qe.performance.memory)]))}catch{return[]}}function BR(e){let{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:r,usedJSHeapSize:n}}}}function HR(e,t,r){let n,i,a,o=r&&r.maxWait?Math.max(r.maxWait,t):0;function s(){return c(),n=e(),n}function c(){i!==void 0&&clearTimeout(i),a!==void 0&&clearTimeout(a),i=a=void 0}function u(){return i!==void 0||a!==void 0?s():n}function l(){return i&&clearTimeout(i),i=Si(s,t),o&&a===void 0&&(a=Si(s,o)),n}return l.cancel=c,l.flush=u,l}var Yi=te.navigator;function VR(){return/iPhone|iPad|iPod/i.test(Yi&&Yi.userAgent||"")||/Macintosh/i.test(Yi&&Yi.userAgent||"")&&Yi&&Yi.maxTouchPoints&&Yi.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function zR(e){let t=!1;return(r,n)=>{if(!e.checkAndHandleExpiredSession()){ue&&pe.warn("Received replay event after session expired.");return}let i=n||!t;t=!0,e.clickDetector&&lA(e.clickDetector,r),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Fp(e,r,i))return!0;if(!i)return!1;let a=e.session;if(jR(e,i),e.recordingMode==="buffer"&&a&&e.eventBuffer){let o=e.eventBuffer.getEarliestTimestamp();o&&(ue&&pe.info(`Updating session start time to earliest event in buffer to ${new Date(o)}`),a.started=o,e.getOptions().stickySession&&Up(a))}return a&&a.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function $R(e){let t=e.getOptions();return{type:Ie.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function jR(e,t){!t||!e.session||e.session.segmentId!==0||Fp(e,$R(e),!1)}function qR(e,t,r,n){return Ir(ns(e,Qa(e),n,r),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function GR({recordingData:e,headers:t}){let r,n=`${JSON.stringify(t)}
`;if(typeof e=="string")r=`${n}${e}`;else{let a=new TextEncoder().encode(n);r=new Uint8Array(a.length+e.length),r.set(a),r.set(e,a.length)}return r}async function WR({client:e,scope:t,replayId:r,event:n}){let i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,a={event_id:r,integrations:i};e.emit("preprocessEvent",n,a);let o=await as(e.getOptions(),n,a,t,e,ht());if(!o)return null;o.platform=o.platform||"javascript";let s=e.getSdkMetadata(),{name:c,version:u}=s&&s.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function YR({recordingData:e,replayId:t,segmentId:r,eventContext:n,timestamp:i,session:a}){let o=GR({recordingData:e,headers:{segment_id:r}}),{urls:s,errorIds:c,traceIds:u,initialTimestamp:l}=n,d=re(),f=ve(),S=d&&d.getTransport(),T=d&&d.getDsn();if(!d||!S||!T||!a.sampled)return Yt({});let I={type:Bk,replay_start_timestamp:l/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:s,replay_id:t,segment_id:r,replay_type:a.sampled},k=await WR({scope:f,client:d,replayId:t,event:I});if(!k)return d.recordDroppedEvent("event_processor","replay",I),ue&&pe.info("An event processor returned `null`, will not send event."),Yt({});delete k.sdkProcessingMetadata;let w=qR(k,o,T,d.getOptions().tunnel),C;try{C=await S.send(w)}catch(W){let Y=new Error(Ap);try{Y.cause=W}catch{}throw Y}if(typeof C.statusCode=="number"&&(C.statusCode<200||C.statusCode>=300))throw new al(C.statusCode);let $=ds({},C);if(ls($,"replay"))throw new Bs($);return C}var al=class extends Error{constructor(t){super(`Transport returned status code ${t}`)}},Bs=class extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}};async function fy(e,t={count:0,interval:qk}){let{recordingData:r,onError:n}=e;if(r.length)try{return await YR(e),!0}catch(i){if(i instanceof al||i instanceof Bs)throw i;if(pu("Replays",{_retryCount:t.count}),n&&n(i),t.count>=Gk){let a=new Error(`${Ap} - max retries exceeded`);try{a.cause=i}catch{}throw a}return t.interval*=++t.count,new Promise((a,o)=>{Si(async()=>{try{await fy(e,t),a(!0)}catch(s){o(s)}},t.interval)})}}var py="__THROTTLED",KR="__SKIPPED";function XR(e,t,r){let n=new Map,i=s=>{let c=s-r;n.forEach((u,l)=>{l<c&&n.delete(l)})},a=()=>[...n.values()].reduce((s,c)=>s+c,0),o=!1;return(...s)=>{let c=Math.floor(Date.now()/1e3);if(i(c),a()>=t){let l=o;return o=!0,l?KR:py}o=!1;let u=n.get(c)||0;return n.set(c,u+1),e(...s)}}var xp=class e{constructor({options:t,recordingOptions:r}){e.prototype.__init.call(this),e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:Hk,sessionIdleExpire:Vk},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=r,this._options=t,this._debouncedFlush=HR(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=XR((o,s)=>qA(this,o,s),300,5);let{slowClickTimeout:n,slowClickIgnoreSelectors:i}=this.getOptions(),a=n?{threshold:Math.min(Wk,n),timeout:n,scrollTimeout:Yk,ignoreSelector:i?i.join(","):""}:void 0;if(a&&(this.clickDetector=new yp(this,a)),ue){let o=t._experiments;pe.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){ue&&pe.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){let{errorSampleRate:r,sessionSampleRate:n}=this._options,i=r<=0&&n<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){ue&&pe.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",ue&&pe.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){ue&&pe.info("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){ue&&pe.info("Buffering is in progress, call `flush()` to save the replay");return}ue&&pe.infoTick("Starting replay in session mode"),this._updateUserActivity();let t=np({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled){ue&&pe.info("Buffering is in progress, call `flush()` to save the replay");return}ue&&pe.infoTick("Starting replay in buffer mode");let t=np({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{let t=this._canvas;this._stopRecording=Gn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:jk}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:zR(this),...VR(),onMutation:this._onMutationHandler,...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:r}={}){if(this._isEnabled){this._isEnabled=!1;try{ue&&pe.info(`Stopping Replay${r?` triggered by ${r}`:""}`),iy(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,HA(this)}catch(n){this.handleException(n)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ue&&pe.info("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ue&&pe.info("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();let r=Date.now();ue&&pe.info("Converting buffer to session"),await this.flushImmediate();let n=this.stopRecording();!t||!n||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(r),this._updateSessionActivity(r),this._maybeSaveSession()),this.startRecording())}addUpdate(t){let r=t();this.recordingMode!=="buffer"&&r!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Tp(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){let t=`${qe.location.pathname}${qe.location.hash}${qe.location.search}`,r=`${qe.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=r,this._context.initialTimestamp=Date.now(),this._context.urls.push(r)}throttledAddEvent(t,r){let n=this._throttledAddEvent(t,r);if(n===py){let i=Sn({category:"replay.throttled"});this.addUpdate(()=>!Fp(this,{type:eA,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return n}getCurrentRoute(){let t=this.lastActiveSpan||Ce(),r=t&&Me(t),i=(r&&ce(r).data||{})[It];if(!(!r||!i||!["route","custom"].includes(i)))return ce(r).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=UA({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){let r=this._options.errorSampleRate>0,n=np({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:r});this.session=n}_checkSession(){if(!this.session)return!1;let t=this.session;return ey(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{qe.document.addEventListener("visibilitychange",this._handleVisibilityChange),qe.addEventListener("blur",this._handleWindowBlur),qe.addEventListener("focus",this._handleWindowFocus),qe.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(UR(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=MA(this)}_removeListeners(){try{qe.document.removeEventListener("visibilitychange",this._handleVisibilityChange),qe.removeEventListener("blur",this._handleWindowBlur),qe.removeEventListener("focus",this._handleWindowFocus),qe.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}__init(){this._handleVisibilityChange=()=>{qe.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let t=Sn({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{let t=Sn({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{yA(this,t)}}_doChangeToBackgroundTasks(t){!this.session||Q_(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ue&&pe.info("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Ie.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=TA(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let r=this._context.initialTimestamp/1e3;t=t.filter(n=>n.start>=r)}return Promise.all(dl(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:t,eventBuffer:r}=this;if(!t||!r||this._requiresManualStart||t.segmentId)return;let n=r.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){let t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){ue&&pe.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await FR(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();let r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");let n=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();let a=await this.eventBuffer.finish();await fy({replayId:t,recordingData:a,segmentId:i,eventContext:n,session:this.session,timestamp:r,onError:o=>this.handleException(o)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});let n=re();if(n){let i=r instanceof Bs?"ratelimit_backoff":"send_error";n.recordDroppedEvent(i,"replay")}}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){ue&&pe.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;let r=this.session.started,i=Date.now()-r;this._debouncedFlush.cancel();let a=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(a||o){ue&&pe.info(`Session duration (${Math.floor(i/1e3)}s) is too ${a?"short":"long"}, not sending replay.`),a&&this._debouncedFlush();return}let s=this.eventBuffer;s&&this.session.segmentId===0&&!s.hasCheckout&&ue&&pe.info("Flushing initial segment without checkout.");let c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Up(this.session)}__init6(){this._onMutationHandler=t=>{let r=t.length,n=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,a=n&&r>n;if(r>i||a){let o=Sn({category:"replay.mutations",data:{count:r,limit:a}});this._createCustomBreadcrumb(o)}return a?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}};function As(e,t){return[...e,...t].join(",")}function JR({mask:e,unmask:t,block:r,unblock:n,ignore:i}){let a=["base","iframe[srcdoc]:not([src])"],o=As(e,[".sentry-mask","[data-sentry-mask]"]),s=As(t,[]);return{maskTextSelector:o,unmaskTextSelector:s,blockSelector:As(r,[".sentry-block","[data-sentry-block]",...a]),unblockSelector:As(n,[]),ignoreSelector:As(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function ZR({el:e,key:t,maskAttributes:r,maskAllText:n,privacyOptions:i,value:a}){return!n||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?a:r.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?a.replace(/[\S]/g,"*"):a}var T_='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',QR=["content-length","content-type","accept"],I_=!1,Hp=(e=>new ol(e)),ol=class e{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=zk,flushMaxDelay:r=$k,minReplayDuration:n=Kk,maxReplayDuration:i=n_,stickySession:a=!0,useCompression:o=!0,workerUrl:s,_experiments:c={},maskAllText:u=!0,maskAllInputs:l=!0,blockAllMedia:d=!0,mutationBreadcrumbLimit:f=750,mutationLimit:S=1e4,slowClickTimeout:T=7e3,slowClickIgnoreSelectors:I=[],networkDetailAllowUrls:k=[],networkDetailDenyUrls:w=[],networkCaptureBodies:C=!0,networkRequestHeaders:$=[],networkResponseHeaders:W=[],mask:Y=[],maskAttributes:N=["title","placeholder"],unmask:A=[],block:V=[],unblock:F=[],ignore:M=[],maskFn:E,beforeAddRecordingEvent:Z,beforeErrorSampling:ge,onError:Re}={}){this.name=e.id;let Xe=JR({mask:Y,unmask:A,block:V,unblock:F,ignore:M});if(this._recordingOptions={maskAllInputs:l,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:E,maskInputFn:E,maskAttributeFn:(de,ze,Ee)=>ZR({maskAttributes:N,maskAllText:u,privacyOptions:Xe,key:de,value:ze,el:Ee}),...Xe,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:de=>{try{de.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:r,minReplayDuration:Math.min(n,Xk),maxReplayDuration:Math.min(i,n_),stickySession:a,useCompression:o,workerUrl:s,blockAllMedia:d,maskAllInputs:l,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:S,slowClickTimeout:T,slowClickIgnoreSelectors:I,networkDetailAllowUrls:k,networkDetailDenyUrls:w,networkCaptureBodies:C,networkRequestHeaders:w_($),networkResponseHeaders:w_(W),beforeAddRecordingEvent:Z,beforeErrorSampling:ge,onError:Re,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${T_}`:T_),this._isInitialized&&Iu())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return I_}set _isInitialized(t){I_=t}afterAllSetup(t){!Iu()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}getRecordingMode(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){let r=eC(this._initialOptions,t);this._replay=new xp({options:r,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{let r=t.getIntegrationByName("ReplayCanvas");if(!r)return;this._replay._canvas=r.getOptions()}catch{}}};ol.__initStatic();function eC(e,t){let r=t.getOptions(),n={sessionSampleRate:0,errorSampleRate:0,...Oe(e)},i=gi(r.replaysSessionSampleRate),a=gi(r.replaysOnErrorSampleRate);return i==null&&a==null&&Ft(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(n.sessionSampleRate=i),a!=null&&(n.errorSampleRate=a),n}function w_(e){return[...QR,...e.map(t=>t.toLowerCase())]}var my=new WeakMap,Vp=new Map,zs={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function gy(e,t){let{traceFetch:r,traceXHR:n,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:a,enableHTTPTimings:o,tracePropagationTargets:s}={traceFetch:zs.traceFetch,traceXHR:zs.traceXHR,trackFetchStreamPerformance:zs.trackFetchStreamPerformance,...t},c=typeof a=="function"?a:d=>!0,u=d=>nC(d,s),l={};r&&(e.addEventProcessor(d=>(d.type==="transaction"&&d.spans&&d.spans.forEach(f=>{if(f.op==="http.client"){let S=Vp.get(f.span_id);S&&(f.timestamp=S/1e3,Vp.delete(f.span_id))}}),d)),i&&wf(d=>{if(d.response){let f=my.get(d.response);f&&d.endTimestamp&&Vp.set(f,d.endTimestamp)}}),hs(d=>{let f=Ef(d,c,u,l);if(d.response&&d.fetchData.__span&&my.set(d.response,d.fetchData.__span),f){let S=vy(d.fetchData.url),T=S?Mr(S).host:void 0;f.setAttributes({"http.url":S,"server.address":T})}o&&f&&hy(f)})),n&&ks(d=>{let f=iC(d,c,u,l);o&&f&&hy(f)})}function tC(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function hy(e){let{url:t}=ce(e).data||{};if(!t||typeof t!="string")return;let r=rn("resource",({entries:n})=>{n.forEach(i=>{tC(i)&&i.name.endsWith(t)&&(rC(i).forEach(o=>e.setAttribute(...o)),setTimeout(r))})})}function En(e=0){return((rt||performance.timeOrigin)+e)/1e3}function rC(e){let{name:t,version:r}=Is(e.nextHopProtocol),n=[];return n.push(["network.protocol.version",r],["network.protocol.name",t]),rt?[...n,["http.request.redirect_start",En(e.redirectStart)],["http.request.fetch_start",En(e.fetchStart)],["http.request.domain_lookup_start",En(e.domainLookupStart)],["http.request.domain_lookup_end",En(e.domainLookupEnd)],["http.request.connect_start",En(e.connectStart)],["http.request.secure_connection_start",En(e.secureConnectionStart)],["http.request.connection_end",En(e.connectEnd)],["http.request.request_start",En(e.requestStart)],["http.request.response_start",En(e.responseStart)],["http.request.response_end",En(e.responseEnd)]]:n}function nC(e,t){let r=ae.location&&ae.location.href;if(r){let n,i;try{n=new URL(e,r),i=new URL(r).origin}catch{return!1}let a=n.origin===i;return t?Nr(n.toString(),t)||a&&Nr(n.pathname,t):a}else{let n=!!e.match(/^\/(?!\/)/);return t?Nr(e,t):n}}function iC(e,t,r,n){let i=e.xhr,a=i&&i[nn];if(!i||i.__sentry_own_request__||!a)return;let o=Xt()&&t(a.url);if(e.endTimestamp&&o){let d=i.__sentry_xhr_span_id__;if(!d)return;let f=n[d];f&&a.status_code!==void 0&&(Ja(f,a.status_code),f.end(),delete n[d]);return}let s=vy(a.url),c=s?Mr(s).host:void 0,u=!!Ce(),l=o&&u?tn({name:`${a.method} ${a.url}`,attributes:{type:"xhr","http.method":a.method,"http.url":s,url:a.url,"server.address":c,[Be]:"auto.http.browser",[Kt]:"http.client"}}):new Tr;return i.__sentry_xhr_span_id__=l.spanContext().spanId,n[i.__sentry_xhr_span_id__]=l,r(a.url)&&aC(i,Xt()&&u?l:void 0),l}function aC(e,t){let{"sentry-trace":r,baggage:n}=fs({span:t});r&&oC(e,r,n)}function oC(e,t,r){try{e.setRequestHeader("sentry-trace",t),r&&e.setRequestHeader("baggage",r)}catch{}}function vy(e){try{return new URL(e,ae.location.origin).href}catch{return}}function _y(){ae&&ae.document?ae.document.addEventListener("visibilitychange",()=>{let e=Ce();if(!e)return;let t=Me(e);if(ae.document.hidden&&t){let r="cancelled",{op:n,status:i}=ce(t);Nt&&O.log(`[Tracing] Transaction: ${r} -> since tab moved to the background, op: ${n}`),i||t.setStatus({code:2,message:r}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Nt&&O.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var sC="BrowserTracing",cC={...to,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...zs},zp=((e={})=>{ru();let{enableInp:t,enableLongTask:r,enableLongAnimationFrame:n,_experiments:{enableInteractions:i,enableStandaloneClsSpans:a},beforeStartSpan:o,idleTimeout:s,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:l,traceFetch:d,traceXHR:f,trackFetchStreamPerformance:S,shouldCreateSpanForRequest:T,enableHTTPTimings:I,instrumentPageLoad:k,instrumentNavigation:w}={...cC,...e},C=zf({recordClsStandaloneSpans:a||!1});t&&Xf(),n&&te.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?jf():r&&$f(),i&&qf();let $={name:void 0,source:void 0};function W(Y,N){let A=N.op==="pageload",V=o?o(N):N,F=V.attributes||{};N.name!==V.name&&(F[It]="custom",V.attributes=F),$.name=V.name,$.source=F[It];let M=cu(V,{idleTimeout:s,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:A,beforeSpanEnd:Z=>{C(),Gf(Z,{recordClsOnPageloadSpan:!a})}});function E(){["interactive","complete"].includes(ae.document.readyState)&&Y.emit("idleSpanEnableAutoFinish",M)}return A&&ae.document&&(ae.document.addEventListener("readystatechange",()=>{E()}),E()),M}return{name:sC,afterAllSetup(Y){let N,A=ae.location&&ae.location.href;function V(){N&&!ce(N).timestamp&&(Nt&&O.log(`[Tracing] Finishing current active span with op: ${ce(N).op}`),N.end())}Y.on("startNavigationSpan",F=>{re()===Y&&(V(),N=W(Y,{op:"navigation",...F}))}),Y.on("startPageLoadSpan",(F,M={})=>{if(re()!==Y)return;V();let E=M.sentryTrace||yy("sentry-trace"),Z=M.baggage||yy("baggage"),ge=Wd(E,Z);ve().setPropagationContext(ge),N=W(Y,{op:"pageload",...F})}),Y.on("spanEnd",F=>{let M=ce(F).op;if(F!==Me(F)||M!=="navigation"&&M!=="pageload")return;let E=ve(),Z=E.getPropagationContext();E.setPropagationContext({...Z,sampled:Z.sampled!==void 0?Z.sampled:Or(F),dsc:Z.dsc||Jt(F)})}),ae.location&&(k&&Sy(Y,{name:ae.location.pathname,startTime:rt?rt/1e3:void 0,attributes:{[It]:"url",[Be]:"auto.pageload.browser"}}),w&&jn(({to:F,from:M})=>{if(M===void 0&&A&&A.indexOf(F)!==-1){A=void 0;return}M!==F&&(A=void 0,Ey(Y,{name:ae.location.pathname,attributes:{[It]:"url",[Be]:"auto.navigation.browser"}}))})),l&&_y(),i&&uC(s,c,u,$),t&&Jf(),gy(Y,{traceFetch:d,traceXHR:f,trackFetchStreamPerformance:S,tracePropagationTargets:Y.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:T,enableHTTPTimings:I})}}});function Sy(e,t,r){e.emit("startPageLoadSpan",t,r),ve().setTransactionName(t.name);let n=Ce();return(n&&ce(n).op)==="pageload"?n:void 0}function Ey(e,t){ht().setPropagationContext({traceId:cr()}),ve().setPropagationContext({traceId:cr()}),e.emit("startNavigationSpan",t),ve().setTransactionName(t.name);let r=Ce();return(r&&ce(r).op)==="navigation"?r:void 0}function yy(e){let t=Ud(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function uC(e,t,r,n){let i,a=()=>{let o="ui.action.click",s=Ce(),c=s&&Me(s);if(c){let u=ce(c).op;if(["navigation","pageload"].includes(u)){Nt&&O.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Xa,"interactionInterrupted"),i.end(),i=void 0),!n.name){Nt&&O.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}i=cu({name:n.name,op:o,attributes:{[It]:n.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:r})};ae.document&&addEventListener("click",a,{once:!1,capture:!0})}function by(){let e=window.SENTRY_DSN;if(!e){console.log("Sentry DSN not configured, skipping Sentry initialization");return}try{Qf({dsn:e,integrations:[zp(),Hp()],tracesSampleRate:.1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,environment:window.ENVIRONMENT||"development",beforeSend(t){return window.ENVIRONMENT==="development"?null:t}}),console.log("Sentry frontend tracking initialized successfully")}catch(t){console.error("Failed to initialize Sentry:",t)}}function Ty(e,t){t?Hn(r=>{Object.entries(t).forEach(([n,i])=>{r.setContext(n,typeof i=="object"?i:{value:i})}),Vn(e)}):Vn(e)}function Iy(e,t,r){lr({message:e,category:t||"user-action",data:r,level:"info"})}var Xi={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},bn=console,ho={};Object.keys(Xi).forEach(function(e){ho[e]=bn[e]});var $s="Datadog Browser SDK:",se={debug:ho.debug.bind(bn,$s),log:ho.log.bind(bn,$s),info:ho.info.bind(bn,$s),warn:ho.warn.bind(bn,$s),error:ho.error.bind(bn,$s)},Ji="https://docs.datadoghq.com",pl="".concat(Ji,"/real_user_monitoring/browser/troubleshooting"),wi="More details:";function ml(e,t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{return e.apply(void 0,r)}catch(i){se.error(t,i)}}}function sn(e){return e!==0&&Math.random()*100<=e}function Zi(e,t){return+e.toFixed(t)}function wy(e){return Wn(e)&&e>=0&&e<=100}function Wn(e){return typeof e=="number"}var Le=1e3,Ge=60*Le,jp=60*Ge,dC=24*jp,qp=365*dC;function Qi(e){return{relative:e,timeStamp:fC(e)}}function xy(e){return{relative:js(e),timeStamp:e}}function fC(e){var t=Mt()-performance.now();return t>qs()?Math.round(xi(t,e)):pC(e)}function ky(){return Math.round(Mt()-xi(qs(),performance.now()))}function he(e){return Wn(e)?Zi(e*1e6,0):e}function Mt(){return new Date().getTime()}function Ne(){return Mt()}function gt(){return performance.now()}function Ve(){return{relative:gt(),timeStamp:Ne()}}function hl(){return{relative:0,timeStamp:qs()}}function Pe(e,t){return t-e}function xi(e,t){return e+t}function js(e){return e-qs()}function pC(e){return Math.round(xi(qs(),e))}function Ay(e){return e<qp}var $p;function qs(){return $p===void 0&&($p=performance.timing.navigationStart),$p}var Ur=1024,Gp=1024*Ur,mC=/[^\u0000-\u007F]/;function go(e){return mC.test(e)?window.TextEncoder!==void 0?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function Ry(e){for(var t=e.reduce(function(s,c){return s+c.length},0),r=new Uint8Array(t),n=0,i=0,a=e;i<a.length;i++){var o=a[i];r.set(o,n),n+=o.length}return r}function it(e,t){return e.indexOf(t)!==-1}function vo(e){if(Array.from)return Array.from(e);var t=[];if(e instanceof Set)e.forEach(function(n){return t.push(n)});else for(var r=0;r<e.length;r++)t.push(e[r]);return t}function tr(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(t(n,r))return n}}function Cy(e,t){for(var r=e.length-1;r>=0;r-=1){var n=e[r];if(t(n,r,e))return n}}function Ny(e,t){Array.prototype.forEach.call(e,t)}function gl(e){return Object.keys(e).map(function(t){return e[t]})}function _o(e){return Object.keys(e).map(function(t){return[t,e[t]]})}function Tn(e,t){return e.slice(0,t.length)===t}function Oy(e,t){return e.slice(-t.length)===t}function j(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}),e}function Yn(e){return j({},e)}function ea(e,t){return Object.keys(e).some(function(r){return e[r]===t})}function Fr(e){return Object.keys(e).length===0}function My(e,t){for(var r={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];r[a]=t(e[a])}return r}function Br(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,typeof e!="object"&&(typeof self=="object"?e=self:typeof window=="object"?e=window:e={}),e}function Hr(e,t){var r=Br(),n;return r.Zone&&typeof r.Zone.__symbol__=="function"&&(n=e[r.Zone.__symbol__(t)]),n||(n=e[t]),n}var hC=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},Wp,Dy=!1;function Ly(e){Wp=e}function Yp(e){Dy=e}function X(e){return function(){return Vr(e,this,arguments)}}function Vr(e,t,r){try{return e.apply(t,r)}catch(n){if(vl(n),Wp)try{Wp(n)}catch(i){vl(i)}}}function vl(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Dy&&se.error.apply(se,hC(["[MONITOR]"],e,!1))}function De(e,t){return Hr(Br(),"setTimeout")(X(e),t)}function ct(e){Hr(Br(),"clearTimeout")(e)}function zr(e,t){return Hr(Br(),"setInterval")(X(e),t)}function In(e){Hr(Br(),"clearInterval")(e)}var ie=(function(){function e(t){this.onFirstSubscribe=t,this.observers=[]}return e.prototype.subscribe=function(t){var r=this;return this.observers.push(t),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:function(){r.observers=r.observers.filter(function(n){return t!==n}),!r.observers.length&&r.onLastUnsubscribe&&r.onLastUnsubscribe()}}},e.prototype.notify=function(t){this.observers.forEach(function(r){return r(t)})},e})();function _l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ie(function(r){var n=e.map(function(i){return i.subscribe(function(a){return r.notify(a)})});return function(){return n.forEach(function(i){return i.unsubscribe()})}})}function wt(e,t,r){var n=r&&r.leading!==void 0?r.leading:!0,i=r&&r.trailing!==void 0?r.trailing:!0,a=!1,o,s;return{throttled:function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];if(a){o=c;return}n?e.apply(void 0,c):o=c,a=!0,s=De(function(){i&&o&&e.apply(void 0,o),a=!1,o=void 0},t)},cancel:function(){ct(s),a=!1,o=void 0}}}function fe(){}function Ue(e){return e?(parseInt(e,10)^Math.random()*16>>parseInt(e,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Ue)}var yl=/([\w-]+)\s*=\s*([^;]+)/g;function ki(e,t){for(yl.lastIndex=0;;){var r=yl.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function Py(e){var t=new Map;for(yl.lastIndex=0;;){var r=yl.exec(e);if(r)t.set(r[1],r[2]);else break}return t}function Sl(e,t,r){r===void 0&&(r="");var n=e.charCodeAt(t-1),i=n>=55296&&n<=56319,a=i?t+1:t;return e.length<=a?e:"".concat(e.slice(0,a)).concat(r)}function Uy(){return Kp()===0}function Fy(){return Kp()===1}function By(){return Kp()===2}var El;function Kp(){return El??(El=gC())}function gC(e){var t;e===void 0&&(e=window);var r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?1:((t=e.navigator.vendor)===null||t===void 0?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?2:e.document.documentMode?0:3}var ut;(function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.LONG_ANIMATION_FRAME="long_animation_frame",e.ANONYMOUS_USER_TRACKING="anonymous_user_tracking",e.ACTION_NAME_MASKING="action_name_masking",e.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",e.DELAY_VIEWPORT_COLLECTION="delay_viewport_collection"})(ut||(ut={}));var Xp=new Set;function Jp(e){Array.isArray(e)&&Hy(e.filter(function(t){return ea(ut,t)}))}function Hy(e){e.forEach(function(t){Xp.add(t)})}function xt(e){return Xp.has(e)}function Zp(){return Xp}function ta(e,t,r,n){r===void 0&&(r=0);var i=new Date;i.setTime(i.getTime()+r);var a="expires=".concat(i.toUTCString()),o=n&&n.crossSite?"none":"strict",s=n&&n.domain?";domain=".concat(n.domain):"",c=n&&n.secure?";secure":"",u=n&&n.partitioned?";partitioned":"";document.cookie="".concat(e,"=").concat(t,";").concat(a,";path=/;samesite=").concat(o).concat(s).concat(c).concat(u)}function Gs(e){return ki(document.cookie,e)}var Qp;function $r(e){return Qp||(Qp=Py(document.cookie)),Qp.get(e)}function tm(e,t){ta(e,"",0,t)}function rm(e){if(document.cookie===void 0||document.cookie===null)return!1;try{var t="dd_cookie_test_".concat(Ue()),r="test";ta(t,r,Ge,e);var n=Gs(t)===r;return tm(t,e),n}catch(i){return se.error(i),!1}}var em;function Vy(){if(em===void 0){for(var e="dd_site_test_".concat(Ue()),t="test",r=window.location.hostname.split("."),n=r.pop();r.length&&!Gs(e);)n="".concat(r.pop(),".").concat(n),ta(e,t,Le,{domain:n});tm(e,{domain:n}),em=n}return em}var Kn="_dd_s";function rr(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function bl(e){var t=j({},e),r=["id","name","email"];return r.forEach(function(n){n in t&&(t[n]=String(t[n]))}),t}function nm(e){var t=rr(e)==="object";return t||se.error("Unsupported user:",e),t}function zy(){return Math.floor(Math.random()*Math.pow(2,53)).toString(36)}var nr=4*jp,Tl=15*Ge,$y=qp,Xn={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"};var im=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Il="&";function jy(e){return!!e&&(e.indexOf(Il)!==-1||im.test(e))}var vC="1";function wn(e){var t={isExpired:vC};return xt(ut.ANONYMOUS_USER_TRACKING)&&(e?.anonymousId?t.anonymousId=e?.anonymousId:t.anonymousId=zy()),t}function Ws(e){return Fr(e)}function wl(e){return!Ws(e)}function yo(e){return e.isExpired!==void 0||!_C(e)}function _C(e){return(e.created===void 0||Mt()-Number(e.created)<nr)&&(e.expire===void 0||Mt()<Number(e.expire))}function xl(e){e.expire=String(Mt()+Tl)}function Ys(e){return _o(e).map(function(t){var r=t[0],n=t[1];return r==="anonymousId"?"aid=".concat(n):"".concat(r,"=").concat(n)}).join(Il)}function kl(e){var t={};return jy(e)&&e.split(Il).forEach(function(r){var n=im.exec(r);if(n!==null){var i=n[1],a=n[2];i==="aid"?t.anonymousId=a:t[i]=a}}),t}var yC="_dd",SC="_dd_r",EC="_dd_l",bC="rum",TC="logs";function qy(e){var t=$r(Kn);if(!t){var r=$r(yC),n=$r(SC),i=$r(EC),a={};r&&(a.id=r),i&&/^[01]$/.test(i)&&(a[TC]=i),n&&/^[012]$/.test(n)&&(a[bC]=n),wl(a)&&(xl(a),e.persistSession(a))}}function am(e){var t=kC(e);return rm(t)?{type:Xn.COOKIE,cookieOptions:t}:void 0}function Gy(e){var t={isLockEnabled:Fy(),persistSession:IC(e),retrieveSession:xC,expireSession:function(r){return wC(e,r)}};return qy(t),t}function IC(e){return function(t){ta(Kn,Ys(t),Tl,e)}}function wC(e,t){var r=wn(t);ta(Kn,Ys(r),xt(ut.ANONYMOUS_USER_TRACKING)?$y:nr,e)}function xC(){var e=Gs(Kn),t=kl(e);return t}function kC(e){var t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie||!!e.useCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=Vy()),t}var AC="_dd_test_";function om(){try{var e=Ue(),t="".concat(AC).concat(e);localStorage.setItem(t,e);var r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:Xn.LOCAL_STORAGE}:void 0}catch{return}}function Wy(){return{isLockEnabled:!1,persistSession:Yy,retrieveSession:RC,expireSession:CC}}function Yy(e){localStorage.setItem(Kn,Ys(e))}function RC(){var e=localStorage.getItem(Kn);return kl(e)}function CC(e){Yy(wn(e))}var NC=10,OC=100,Xy=[],Rl;function Ai(e,t,r){var n;r===void 0&&(r=0);var i=t.isLockEnabled,a=t.persistSession,o=t.expireSession,s=function(f){return a(j({},f,{lock:u}))},c=function(){var f=t.retrieveSession(),S=f.lock;return f.lock&&delete f.lock,{session:f,lock:S}};if(Rl||(Rl=e),e!==Rl){Xy.push(e);return}if(i&&r>=OC){Ky(t);return}var u,l=c();if(i){if(l.lock){Al(e,t,r);return}if(u=Ue(),s(l.session),l=c(),l.lock!==u){Al(e,t,r);return}}var d=e.process(l.session);if(i&&(l=c(),l.lock!==u)){Al(e,t,r);return}if(d&&(yo(d)?o(d):(xl(d),i?s(d):a(d))),i&&!(d&&yo(d))){if(l=c(),l.lock!==u){Al(e,t,r);return}a(l.session),d=l.session}(n=e.after)===null||n===void 0||n.call(e,d||l.session),Ky(t)}function Al(e,t,r){De(function(){Ai(e,t,r+1)},NC)}function Ky(e){Rl=void 0;var t=Xy.shift();t&&Ai(t,e)}var Jy=Le;function Zy(e){switch(e.sessionPersistence){case Xn.COOKIE:return am(e);case Xn.LOCAL_STORAGE:return om();case void 0:{var t=am(e);return!t&&e.allowFallbackToLocalStorage&&(t=om()),t}default:se.error("Invalid session persistence '".concat(String(e.sessionPersistence),"'"))}}function Qy(e,t,r){var n=new ie,i=new ie,a=new ie,o=e.type===Xn.COOKIE?Gy(e.cookieOptions):Wy(),s=o.expireSession,c=zr(T,Jy),u;k();var l=wt(function(){Ai({process:function(A){if(!Ws(A)){var V=I(A);return w(V),V}},after:function(A){wl(A)&&!C()&&Y(A),u=A}},o)},Jy),d=l.throttled,f=l.cancel;function S(){Ai({process:function(A){return C()?I(A):void 0}},o)}function T(){Ai({process:function(A){return yo(A)?wn(A):void 0},after:I},o)}function I(A){return yo(A)&&(A=wn(A)),C()&&($(A)?W():(a.notify({previousState:u,newState:A}),u=A)),A}function k(){Ai({process:function(A){if(Ws(A))return wn(A)},after:function(A){u=A}},o)}function w(A){if(Ws(A))return!1;var V=r(A[t]),F=V.trackingType,M=V.isTracked;A[t]=F,delete A.isExpired,M&&!A.id&&(A.id=Ue(),A.created=String(Mt()))}function C(){return u[t]!==void 0}function $(A){return u.id!==A.id||u[t]!==A[t]}function W(){u=wn(u),i.notify()}function Y(A){u=A,n.notify()}function N(A){Ai({process:function(V){return j({},V,A)},after:I},o)}return{expandOrRenewSession:d,expandSession:S,getSession:function(){return u},renewObservable:n,expireObservable:i,sessionStateUpdateObservable:a,restartSession:k,expire:function(){f(),s(u),I(wn(u))},stop:function(){In(c)},updateSessionState:N}}var Ks={GRANTED:"granted",NOT_GRANTED:"not-granted"};function sm(e){var t=new ie;return{tryToInit:function(r){e||(e=r)},update:function(r){e=r,t.notify()},isGranted:function(){return e===Ks.GRANTED},observable:t}}function xr(e,t,r){if(typeof e!="object"||e===null)return JSON.stringify(e);var n=ra(Object.prototype),i=ra(Array.prototype),a=ra(Object.getPrototypeOf(e)),o=ra(e);try{return JSON.stringify(e,t,r)}catch{return"<error: unable to serialize object>"}finally{n(),i(),a(),o()}}function ra(e){var t=e,r=t.toJSON;return r?(delete t.toJSON,function(){t.toJSON=r}):fe}function So(e){return Xs(e,location.href).href}function tS(e){try{return!!Xs(e)}catch{return!1}}function rS(e){var t=Xs(e).pathname;return t[0]==="/"?t:"/".concat(t)}function Xs(e,t){var r=MC();if(r)try{return t!==void 0?new r(e,t):new r(e)}catch(o){throw new Error("Failed to construct URL: ".concat(String(o)," ").concat(xr({url:e,base:t})))}if(t===void 0&&!/:/.test(e))throw new Error("Invalid URL: '".concat(e,"'"));var n=document,i=n.createElement("a");if(t!==void 0){n=document.implementation.createHTMLDocument("");var a=n.createElement("base");a.href=t,n.head.appendChild(a),n.body.appendChild(i)}return i.href=e,i}var eS=URL,Cl;function MC(){if(Cl===void 0)try{var e=new eS("http://test/path");Cl=e.href==="http://test/path"}catch{Cl=!1}return Cl?eS:void 0}var Js="datad0g.com",nS="dd0g-gov.com",cn="datadoghq.com",cm="datadoghq.eu",um="ddog-gov.com",iS="pci.browser-intake-datadoghq.com",lm=["ddsource","ddtags"];function Eo(e,t,r){var n=DC(e,t);return{build:function(i,a){var o=PC(e,t,r,i,a);return n(o)},urlPrefix:n(""),trackType:t}}function DC(e,t){var r="/api/v2/".concat(t),n=e.proxy;if(typeof n=="string"){var i=So(n);return function(o){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(o)))}}if(typeof n=="function")return function(o){return n({path:r,parameters:o})};var a=LC(t,e);return function(o){return"https://".concat(a).concat(r,"?").concat(o)}}function LC(e,t){var r=t.site,n=r===void 0?cn:r,i=t.internalAnalyticsSubdomain;if(e==="logs"&&t.usePciIntake&&n===cn)return iS;if(i&&n===cn)return"".concat(i,".").concat(cn);if(n===nS)return"http-intake.logs.".concat(n);var a=n.split("."),o=a.pop();return"browser-intake-".concat(a.join("-"),".").concat(o)}function PC(e,t,r,n,i){var a=e.clientToken,o=e.internalAnalyticsSubdomain,s=i.retry,c=i.encoding,u=["sdk_version:".concat("5.35.1"),"api:".concat(n)].concat(r);s&&u.push("retry_count:".concat(s.count),"retry_after:".concat(s.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(u.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("5.35.1")),"dd-evp-origin=browser","dd-request-id=".concat(Ue())];return c&&l.push("dd-evp-encoding=".concat(c)),t==="rum"&&l.push("batch_time=".concat(Ne())),o&&l.reverse(),l.join("&")}var UC=200;function aS(e){var t=e.env,r=e.service,n=e.version,i=e.datacenter,a=[];return t&&a.push(Nl("env",t)),r&&a.push(Nl("service",r)),n&&a.push(Nl("version",n)),i&&a.push(Nl("datacenter",i)),a}function Nl(e,t){var r=UC-e.length-1;(t.length>r||FC(t))&&se.warn("".concat(e," value doesn't meet tag requirements and will be sanitized. ").concat(wi," ").concat(Ji,"/getting_started/tagging/#defining-tags"));var n=t.replace(/,/g,"_");return"".concat(e,":").concat(n)}function FC(e){return BC()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(e):!1}function BC(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch{return!1}}function dm(e){var t=e.site||cn,r=aS(e),n=HC(e,r),i=VC(e,r);return j({replica:i,site:t},n)}function HC(e,t){return{logsEndpointBuilder:Eo(e,"logs",t),rumEndpointBuilder:Eo(e,"rum",t),sessionReplayEndpointBuilder:Eo(e,"replay",t)}}function VC(e,t){if(e.replica){var r=j({},e,{site:cn,clientToken:e.replica.clientToken}),n={logsEndpointBuilder:Eo(r,"logs",t),rumEndpointBuilder:Eo(r,"rum",t)};return j({applicationId:e.replica.applicationId},n)}}function Ol(e){return lm.every(function(t){return it(e,t)})}var Zn={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},na={ALL:"all",SAMPLED:"sampled"};function fm(e,t){return e!=null&&typeof e!="string"?(se.error("".concat(t," must be defined as a string")),!1):!0}function zC(e){return e&&typeof e=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(e)?(se.error("Site should be a valid Datadog site. ".concat(wi," ").concat(Ji,"/getting_started/site/.")),!1):!0}function Jn(e,t){return e!==void 0&&!wy(e)?(se.error("".concat(t," Sample Rate should be a number between 0 and 100")),!1):!0}function Ml(e){var t,r,n,i,a;if(!e||!e.clientToken){se.error("Client Token is not configured, we will not send any data.");return}if(!(!zC(e.site)||!Jn(e.sessionSampleRate,"Session")||!Jn(e.telemetrySampleRate,"Telemetry")||!Jn(e.telemetryConfigurationSampleRate,"Telemetry Configuration")||!Jn(e.telemetryUsageSampleRate,"Telemetry Usage")||!fm(e.version,"Version")||!fm(e.env,"Env")||!fm(e.service,"Service"))){if(e.trackingConsent!==void 0&&!ea(Ks,e.trackingConsent)){se.error('Tracking Consent should be either "granted" or "not-granted"');return}return j({beforeSend:e.beforeSend&&ml(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Zy(e),sessionSampleRate:(t=e.sessionSampleRate)!==null&&t!==void 0?t:100,telemetrySampleRate:(r=e.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(n=e.telemetryConfigurationSampleRate)!==null&&n!==void 0?n:5,telemetryUsageSampleRate:(i=e.telemetryUsageSampleRate)!==null&&i!==void 0?i:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:(a=e.trackingConsent)!==null&&a!==void 0?a:Ks.GRANTED,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*Ur,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Le,batchMessagesLimit:50,messageBytesLimit:256*Ur},dm(e))}}function Dl(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_cross_site_session_cookie:e.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent}}var Zs="?";function ir(e){var t=[],r=pm(e,"stack"),n=String(e);return r&&Tn(r,n)&&(r=r.slice(n.length)),r&&r.split(`
`).forEach(function(i){var a=qC(i)||WC(i)||KC(i)||ZC(i);a&&(!a.func&&a.line&&(a.func=Zs),t.push(a))}),{message:pm(e,"message"),name:pm(e,"name"),stack:t}}var oS="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",bo="(?::(\\d+))",$C=new RegExp("^\\s*at (.*?) ?\\(".concat(oS).concat(bo,"?").concat(bo,"?\\)?\\s*$"),"i"),jC=new RegExp("\\((\\S*)".concat(bo).concat(bo,"\\)"));function qC(e){var t=$C.exec(e);if(t){var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=jC.exec(t[2]);return n&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||Zs,line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}}var GC=new RegExp("^\\s*at ?".concat(oS).concat(bo,"?").concat(bo,"??\\s*$"),"i");function WC(e){var t=GC.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:Zs,line:t[2]?+t[2]:void 0,url:t[1]}}var YC=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function KC(e){var t=YC.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||Zs,line:+t[3],url:t[2]}}var XC=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,JC=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ZC(e){var t=XC.exec(e);if(t){var r=t[3]&&t[3].indexOf(" > eval")>-1,n=JC.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||Zs,line:t[4]?+t[4]:void 0,url:t[3]}}}function pm(e,t){if(!(typeof e!="object"||!e||!(t in e))){var r=e[t];return typeof r=="string"?r:void 0}}function sS(e,t,r,n){var i=[{url:t,column:n,line:r}],a=eN(e),o=a.name,s=a.message;return{name:o,message:s,stack:i}}var QC=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function eN(e){var t,r,n;return{}.toString.call(e)==="[object String]"&&(t=QC.exec(e),r=t[1],n=t[2]),{name:r,message:n}}function ia(){var e=2,t=new Error,r;if(!t.stack)try{throw t}catch{}return Vr(function(){var n=ir(t);n.stack=n.stack.slice(e),r=xn(n)}),r}function xn(e){var t=mm(e);return e.stack.forEach(function(r){var n=r.func==="?"?"<anonymous>":r.func,i=r.args&&r.args.length>0?"(".concat(r.args.join(", "),")"):"",a=r.line?":".concat(r.line):"",o=r.line&&r.column?":".concat(r.column):"";t+=`
  at `.concat(n).concat(i," @ ").concat(r.url).concat(a).concat(o)}),t}function mm(e){return"".concat(e.name||"Error",": ").concat(e.message)}function lt(e,t,r,n){var i=n===void 0?{}:n,a=i.computeHandlingStack,o=e[t];if(typeof o!="function")if(t in e&&Tn(t,"on"))o=fe;else return{stop:fe};var s=!1,c=function(){if(s)return o.apply(this,arguments);var u=vo(arguments),l;Vr(r,null,[{target:this,parameters:u,onPostCall:function(f){l=f},handlingStack:a?ia():void 0}]);var d=o.apply(this,u);return l&&Vr(l,null,[d]),d};return e[t]=c,{stop:function(){s=!0,e[t]===c&&(e[t]=o)}}}function aa(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:fe};var i=fe,a=function(s,c){De(function(){a!==i&&r(s,c)},0)},o=function(s){n.set.call(this,s),a(this,s)};return Object.defineProperty(e,t,{set:o}),{stop:function(){var s;((s=Object.getOwnPropertyDescriptor(e,t))===null||s===void 0?void 0:s.set)===o&&Object.defineProperty(e,t,n),a=i}}}var tN=220*Ur,rN="$",nN=3;function We(e,t){t===void 0&&(t=tN);var r=ra(Object.prototype),n=ra(Array.prototype),i=[],a=new WeakMap,o=hm(e,rN,void 0,i,a),s=JSON.stringify(o),c=s?s.length:0;if(c>t){gm(t,"discarded",e);return}for(;i.length>0&&c<t;){var u=i.shift(),l=0;if(Array.isArray(u.source))for(var d=0;d<u.source.length;d++){var f=hm(u.source[d],u.path,d,i,a);if(f!==void 0?c+=JSON.stringify(f).length:c+=4,c+=l,l=1,c>t){gm(t,"truncated",e);break}u.target[d]=f}else for(var d in u.source)if(Object.prototype.hasOwnProperty.call(u.source,d)){var f=hm(u.source[d],u.path,d,i,a);if(f!==void 0&&(c+=JSON.stringify(f).length+l+d.length+nN,l=1),c>t){gm(t,"truncated",e);break}u.target[d]=f}}return r(),n(),o}function hm(e,t,r,n,i){var a=oN(e);if(!a||typeof a!="object")return iN(a);var o=aN(a);if(o!=="[Object]"&&o!=="[Array]"&&o!=="[Error]")return o;var s=e;if(i.has(s))return"[Reference seen at ".concat(i.get(s),"]");var c=r!==void 0?"".concat(t,".").concat(r):t,u=Array.isArray(a)?[]:{};return i.set(s,c),n.push({source:a,target:u,path:c}),u}function iN(e){return typeof e=="bigint"?"[BigInt] ".concat(e.toString()):typeof e=="function"?"[Function] ".concat(e.name||"unknown"):typeof e=="symbol"?"[Symbol] ".concat(e.description||e.toString()):e}function aN(e){try{if(e instanceof Event)return{isTrusted:e.isTrusted};var t=Object.prototype.toString.call(e),r=t.match(/\[object (.*)\]/);if(r&&r[1])return"[".concat(r[1],"]")}catch{}return"[Unserializable]"}function oN(e){var t=e;if(t&&typeof t.toJSON=="function")try{return t.toJSON()}catch{}return e}function gm(e,t,r){se.warn("The data provided has been ".concat(t," as it is over the limit of ").concat(e," characters:"),r)}var Ll="No stack, consider using an instance of Error";function Qs(e){var t=e.stackTrace,r=e.originalError,n=e.handlingStack,i=e.startClocks,a=e.nonErrorPrefix,o=e.source,s=e.handling,c=kr(r),u=sN(t,c,a,r),l=cN(c,t)?xn(t):Ll,d=c?_m(r,o):void 0,f=t?t.name:void 0,S=vm(r);return{startClocks:i,source:o,handling:s,handlingStack:n,originalError:r,type:f,message:u,stack:l,causes:d,fingerprint:S}}function sN(e,t,r,n){return e?.message&&e?.name?e.message:t?"Empty message":"".concat(r," ").concat(xr(We(n)))}function cN(e,t){return t===void 0?!1:e?!0:t.stack.length>0&&(t.stack.length>1||t.stack[0].url!==void 0)}function vm(e){return kr(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function kr(e){return e instanceof Error||Object.prototype.toString.call(e)==="[object Error]"}function _m(e,t){for(var r=e,n=[];kr(r?.cause)&&n.length<10;){var i=ir(r.cause);n.push({message:r.cause.message,source:t,type:i?.name,stack:i&&xn(i)}),r=r.cause}return n.length?n:void 0}var Ar={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function ym(e){var t=function(i,a){var o=Qs({stackTrace:i,originalError:a,startClocks:Ve(),nonErrorPrefix:"Uncaught",source:Ar.SOURCE,handling:"unhandled"});e.notify(o)},r=uN(t).stop,n=lN(t).stop;return{stop:function(){r(),n()}}}function uN(e){return lt(window,"onerror",function(t){var r=t.parameters,n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],c;kr(s)?c=ir(s):c=sS(n,i,a,o),e(c,s??n)})}function lN(e){return lt(window,"onunhandledrejection",function(t){var r=t.parameters[0],n=r.reason||"Empty reason",i=ir(n);e(i,n)})}function Sm(e){var t=j({version:"5.35.1",onReady:function(r){r()}},e);return Object.defineProperty(t,"_setDebug",{get:function(){return Yp},enumerable:!1}),t}function Em(e,t,r){var n=e[t];n&&!n.q&&n.version&&se.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=r,n&&n.q&&n.q.forEach(function(i){return ml(i,"onReady callback threw an error:")()})}function ec(e,t){t.silentMultipleInit||se.error("".concat(e," is already initialized."))}function _e(e,t,r,n,i){return Ye(e,t,[r],n,i)}function Ye(e,t,r,n,i){var a=i===void 0?{}:i,o=a.once,s=a.capture,c=a.passive,u=X(function(T){!T.isTrusted&&!T.__ddIsTrusted&&!e.allowUntrustedEvents||(o&&S(),n(T))}),l=c?{capture:s,passive:c}:s,d=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,f=Hr(d,"addEventListener");r.forEach(function(T){return f.call(t,T,u,l)});function S(){var T=Hr(d,"removeEventListener");r.forEach(function(I){return T.call(t,I,u,l)})}return{stop:S}}var oa={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function bm(e,t){var r=[];it(t,oa.cspViolation)&&r.push(fN(e));var n=t.filter(function(i){return i!==oa.cspViolation});return n.length&&r.push(dN(n)),_l.apply(void 0,r)}function dN(e){return new ie(function(t){if(window.ReportingObserver){var r=X(function(i,a){return i.forEach(function(o){return t.notify(pN(o))})}),n=new window.ReportingObserver(r,{types:e,buffered:!0});return n.observe(),function(){n.disconnect()}}})}function fN(e){return new ie(function(t){var r=_e(e,document,"securitypolicyviolation",function(n){t.notify(mN(n))}).stop;return r})}function pN(e){var t=e.type,r=e.body;return cS({type:r.id,message:"".concat(t,": ").concat(r.message),originalError:e,stack:uS(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}function mN(e){var t="'".concat(e.blockedURI,"' blocked by '").concat(e.effectiveDirective,"' directive");return cS({type:e.effectiveDirective,message:"".concat(oa.cspViolation,": ").concat(t),originalError:e,csp:{disposition:e.disposition},stack:uS(e.effectiveDirective,e.originalPolicy?"".concat(t,' of the policy "').concat(Sl(e.originalPolicy,100,"..."),'"'):"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}function cS(e){return j({startClocks:Ve(),source:Ar.REPORT,handling:"unhandled"},e)}function uS(e,t,r,n,i){return r?xn({name:e,message:t,stack:[{func:"?",url:r,line:n??void 0,column:i??void 0}]}):void 0}function sa(e,t){var r=window.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}function Pl(e,t,r){if(r===void 0&&(r=hN()),t===void 0)return e;if(typeof t!="object"||t===null)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){var n=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,n)}if(!r.hasAlreadyBeenSeen(t)){if(Array.isArray(t)){for(var i=Array.isArray(e)?e:[],a=0;a<t.length;++a)i[a]=Pl(i[a],t[a],r);return i}var o=rr(e)==="object"?e:{};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(o[s]=Pl(o[s],t[s],r));return o}}function To(e){return Pl(void 0,e)}function Dt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n=0,i=e;n<i.length;n++){var a=i[n];a!=null&&(r=Pl(r,a))}return r}function hN(){if(typeof WeakSet<"u"){var e=new WeakSet;return{hasAlreadyBeenSeen:function(r){var n=e.has(r);return n||e.add(r),n}}}var t=[];return{hasAlreadyBeenSeen:function(r){var n=t.indexOf(r)>=0;return n||t.push(r),n}}}function Ul(){var e,t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:(e=t.connection)===null||e===void 0?void 0:e.effectiveType}}function Fl(e,t){var r=e.indexOf(t);r>=0&&e.splice(r,1)}var gN=500;function tc(){var e=[],t=function(i){var a=e.push(i);a>gN&&e.splice(0,1)},r=function(i){Fl(e,i)},n=function(i){e.forEach(function(a){return a(i)}),e.length=0};return{add:t,remove:r,drain:n}}var Ri={log:"log",configuration:"configuration",usage:"usage"};var vN=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],_N=[um],lS=tc(),Io=function(e){lS.add(function(){return Io(e)})};function Bl(e,t){var r,n,i=new ie,a=new Set,o=!it(_N,t.site)&&sn(t.telemetrySampleRate),s=(r={},r[Ri.log]=o,r[Ri.configuration]=o&&sn(t.telemetryConfigurationSampleRate),r[Ri.usage]=o&&sn(t.telemetryUsageSampleRate),r),c=yN();Io=function(l){var d=xr(l);if(s[l.type]&&a.size<t.maxTelemetryEventsPerPage&&!a.has(d)){var f=u(e,l,c);i.notify(f),sa("telemetry",f),a.add(d)}},Ly(Ci);function u(l,d,f){return Dt({type:"telemetry",date:Ne(),service:l,version:"5.35.1",source:"browser",_dd:{format_version:2},telemetry:Dt(d,{runtime_env:f,connectivity:Ul(),sdk_setup:"npm"}),experimental_features:vo(Zp())},n!==void 0?n():{})}return{setContextProvider:function(l){n=l},observable:i,enabled:o}}function yN(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function Hl(){lS.drain()}function Vl(e){return e.site===Js}function pr(e,t){vl(Xi.debug,e,t),Io(j({type:Ri.log,message:e,status:"debug"},t))}function Ci(e,t){Io(j({type:Ri.log,status:"error"},SN(e),t))}function zl(e){Io({type:Ri.configuration,configuration:e})}function Lt(e){Io({type:Ri.usage,usage:e})}function SN(e){if(kr(e)){var t=ir(e);return{error:{kind:t.name,stack:xn(EN(t))},message:t.message}}return{error:{stack:Ll},message:"".concat("Uncaught"," ").concat(xr(e))}}function EN(e){return e.stack=e.stack.filter(function(t){return!t.url||vN.some(function(r){return Tn(t.url,r)})}),e}var $l=1/0,dS=Ge;function Rr(e){var t=e.expireDelay,r=e.maxEntries,n=[],i=zr(function(){return a()},dS);function a(){for(var f=gt()-t;n.length>0&&n[n.length-1].endTime<f;)n.pop()}function o(f,S){var T={value:f,startTime:S,endTime:$l,remove:function(){Fl(n,T)},close:function(I){T.endTime=I}};return r&&n.length>=r&&n.pop(),n.unshift(T),T}function s(f,S){f===void 0&&(f=$l),S===void 0&&(S={returnInactive:!1});for(var T=0,I=n;T<I.length;T++){var k=I[T];if(k.startTime<=f){if(S.returnInactive||f<=k.endTime)return k.value;break}}}function c(f){var S=n[0];S&&S.endTime===$l&&S.close(f)}function u(f,S){f===void 0&&(f=$l),S===void 0&&(S=0);var T=xi(f,S);return n.filter(function(I){return I.startTime<=T&&f<=I.endTime}).map(function(I){return I.value})}function l(){n=[]}function d(){In(i)}return{add:o,find:s,closeActive:c,findAll:u,reset:l,stop:d}}var IN=Ge,wN=nr,wo=[];function Tm(e,t,r,n){var i=new ie,a=new ie,o=Qy(e.sessionStoreStrategyType,t,r);wo.push(function(){return o.stop()});var s=Rr({expireDelay:wN});wo.push(function(){return s.stop()}),o.renewObservable.subscribe(function(){s.add(c(),gt()),i.notify()}),o.expireObservable.subscribe(function(){a.notify(),s.closeActive(gt())}),o.expandOrRenewSession(),s.add(c(),hl().relative),n.observable.subscribe(function(){n.isGranted()?o.expandOrRenewSession():o.expire()}),xN(e,function(){n.isGranted()&&o.expandOrRenewSession()}),kN(e,function(){return o.expandSession()}),AN(e,function(){return o.restartSession()});function c(){return{id:o.getSession().id,trackingType:o.getSession()[t],isReplayForced:!!o.getSession().forcedReplay,anonymousId:o.getSession().anonymousId}}return{findSession:function(u,l){return s.find(u,l)},renewObservable:i,expireObservable:a,sessionStateUpdateObservable:o.sessionStateUpdateObservable,expire:o.expire,updateSessionState:o.updateSessionState}}function xN(e,t){var r=Ye(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop;wo.push(r)}function kN(e,t){var r=function(){document.visibilityState==="visible"&&t()},n=_e(e,document,"visibilitychange",r).stop;wo.push(n);var i=zr(r,IN);wo.push(function(){In(i)})}function AN(e,t){var r=_e(e,window,"resume",t,{capture:!0}).stop;wo.push(r)}function fS(e){return e>=500}function pS(e){try{return e.clone()}catch{return}}var RN=80*Ur,CN=32,mS=3*Gp,NN=Ge,hS=Le;function Im(e,t,r,n,i){t.transportStatus===0&&t.queuedPayloads.size()===0&&t.bandwidthMonitor.canHandle(e)?vS(e,t,r,{onSuccess:function(){return _S(0,t,r,n,i)},onFailure:function(){t.queuedPayloads.enqueue(e),gS(t,r,n,i)}}):t.queuedPayloads.enqueue(e)}function gS(e,t,r,n){e.transportStatus===2&&De(function(){var i=e.queuedPayloads.first();vS(i,e,t,{onSuccess:function(){e.queuedPayloads.dequeue(),e.currentBackoffTime=hS,_S(1,e,t,r,n)},onFailure:function(){e.currentBackoffTime=Math.min(NN,e.currentBackoffTime*2),gS(e,t,r,n)}})},e.currentBackoffTime)}function vS(e,t,r,n){var i=n.onSuccess,a=n.onFailure;t.bandwidthMonitor.add(e),r(e,function(o){t.bandwidthMonitor.remove(e),ON(o)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:o.status},a()):(t.transportStatus=0,i())})}function _S(e,t,r,n,i){e===0&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:"Reached max ".concat(n," events size queued for upload: ").concat(mS/Gp,"MiB"),source:Ar.AGENT,startClocks:Ve()}),t.queueFullReported=!0);var a=t.queuedPayloads;for(t.queuedPayloads=SS();a.size()>0;)Im(a.dequeue(),t,r,n,i)}function ON(e){return e.type!=="opaque"&&(e.status===0&&!navigator.onLine||e.status===408||e.status===429||fS(e.status))}function yS(){return{transportStatus:0,currentBackoffTime:hS,bandwidthMonitor:MN(),queuedPayloads:SS(),queueFullReported:!1}}function SS(){var e=[];return{bytesCount:0,enqueue:function(t){this.isFull()||(e.push(t),this.bytesCount+=t.bytesCount)},first:function(){return e[0]},dequeue:function(){var t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:function(){return e.length},isFull:function(){return this.bytesCount>=mS}}}function MN(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(e){return this.ongoingRequestCount===0||this.ongoingByteCount+e.bytesCount<=RN&&this.ongoingRequestCount<CN},add:function(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove:function(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}}}function xo(e,t,r){var n=yS(),i=function(a,o){return PN(e,t,a,o)};return{send:function(a){Im(a,n,i,e.trackType,r)},sendOnExit:function(a){DN(e,t,a)}}}function DN(e,t,r){var n=!!navigator.sendBeacon&&r.bytesCount<t;if(n)try{var i=e.build("beacon",r),a=navigator.sendBeacon(i,r.data);if(a)return}catch(s){LN(s)}var o=e.build("xhr",r);wm(o,r.data)}var ES=!1;function LN(e){ES||(ES=!0,Ci(e))}function PN(e,t,r,n){var i=UN()&&r.bytesCount<t;if(i){var a=e.build("fetch",r);fetch(a,{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(X(function(s){return n?.({status:s.status,type:s.type})}),X(function(){var s=e.build("xhr",r);wm(s,r.data,n)}))}else{var o=e.build("xhr",r);wm(o,r.data,n)}}function UN(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function wm(e,t,r){var n=new XMLHttpRequest;n.open("POST",e,!0),t instanceof Blob&&n.setRequestHeader("Content-Type",t.type),_e({allowUntrustedEvents:!0},n,"loadend",function(){r?.({status:n.status})},{once:!0}),n.send(t)}function jr(){var e=FN();if(e)return{getCapabilities:function(){var t;return JSON.parse(((t=e.getCapabilities)===null||t===void 0?void 0:t.call(e))||"[]")},getPrivacyLevel:function(){var t;return(t=e.getPrivacyLevel)===null||t===void 0?void 0:t.call(e)},getAllowedWebViewHosts:function(){return JSON.parse(e.getAllowedWebViewHosts())},send:function(t,r,n){var i=n?{id:n}:void 0;e.send(JSON.stringify({eventType:t,event:r,view:i}))}}}function ko(e){var t=jr();return!!t&&it(t.getCapabilities(),e)}function mr(e){var t;e===void 0&&(e=(t=Br().location)===null||t===void 0?void 0:t.hostname);var r=jr();return!!r&&r.getAllowedWebViewHosts().some(function(n){return e===n||Oy(e,".".concat(n))})}function FN(){return Br().DatadogEventBridge}var Qn={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function xm(e){return new ie(function(t){var r=Ye(e,window,["visibilitychange","freeze"],function(i){i.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:Qn.HIDDEN}):i.type==="freeze"&&t.notify({reason:Qn.FROZEN})},{capture:!0}).stop,n=_e(e,window,"beforeunload",function(){t.notify({reason:Qn.UNLOADING})}).stop;return function(){r(),n()}})}function rc(e){return it(gl(Qn),e)}function TS(e){var t=e.encoder,r=e.request,n=e.flushController,i=e.messageBytesLimit,a={},o=n.flushObservable.subscribe(function(f){return d(f)});function s(f,S,T){n.notifyBeforeAddMessage(S),T!==void 0?(a[T]=f,n.notifyAfterAddMessage()):t.write(t.isEmpty?f:`
`.concat(f),function(I){n.notifyAfterAddMessage(I-S)})}function c(f){return f!==void 0&&a[f]!==void 0}function u(f){var S=a[f];delete a[f];var T=t.estimateEncodedBytesCount(S);n.notifyAfterRemoveMessage(T)}function l(f,S){var T=xr(f),I=t.estimateEncodedBytesCount(T);if(I>=i){se.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(i,"KB. ").concat(wi," ").concat(pl,"/#technical-limitations"));return}c(S)&&u(S),s(T,I,S)}function d(f){var S=gl(a).join(`
`);a={};var T=rc(f.reason),I=T?r.sendOnExit:r.send;if(T&&t.isAsync){var k=t.finishSync();k.outputBytesCount&&I(bS(k));var w=[k.pendingData,S].filter(Boolean).join(`
`);w&&I({data:w,bytesCount:go(w)})}else S&&t.write(t.isEmpty?S:`
`.concat(S)),t.finish(function(C){I(bS(C))})}return{flushController:n,add:l,upsert:l,stop:o.unsubscribe}}function bS(e){var t;return typeof e.output=="string"?t=e.output:t=new Blob([e.output],{type:"text/plain"}),{data:t,bytesCount:e.outputBytesCount,encoding:e.encoding}}function km(e){var t=e.messagesLimit,r=e.bytesLimit,n=e.durationLimit,i=e.pageExitObservable,a=e.sessionExpireObservable,o=i.subscribe(function(I){return d(I.reason)}),s=a.subscribe(function(){return d("session_expire")}),c=new ie(function(){return function(){o.unsubscribe(),s.unsubscribe()}}),u=0,l=0;function d(I){if(l!==0){var k=l,w=u;l=0,u=0,T(),c.notify({reason:I,messagesCount:k,bytesCount:w})}}var f;function S(){f===void 0&&(f=De(function(){d("duration_limit")},n))}function T(){ct(f),f=void 0}return{flushObservable:c,get messagesCount(){return l},notifyBeforeAddMessage:function(I){u+I>=r&&d("bytes_limit"),l+=1,u+=I,S()},notifyAfterAddMessage:function(I){I===void 0&&(I=0),u+=I,l>=t?d("messages_limit"):u>=r&&d("bytes_limit")},notifyAfterRemoveMessage:function(I){u-=I,l-=1,l===0&&T()}}}function jl(e,t,r,n,i,a,o){o===void 0&&(o=TS);var s=u(e,t),c=r&&u(e,r);function u(l,d){var f=d.endpoint,S=d.encoder;return o({encoder:S,request:xo(f,l.batchBytesLimit,n),flushController:km({messagesLimit:l.batchMessagesLimit,bytesLimit:l.batchBytesLimit,durationLimit:l.flushTimeout,pageExitObservable:i,sessionExpireObservable:a}),messageBytesLimit:l.messageBytesLimit})}return{flushObservable:s.flushController.flushObservable,add:function(l,d){d===void 0&&(d=!0),s.add(l),c&&d&&c.add(r.transformMessage?r.transformMessage(l):l)},upsert:function(l,d){s.upsert(l,d),c&&c.upsert(r.transformMessage?r.transformMessage(l):l,d)},stop:function(){s.stop(),c&&c.stop()}}}function Am(){var e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write:function(r,n){var i=go(r);t+=i,e+=r,n&&n(i)},finish:function(r){r(this.finishSync())},finishSync:function(){var r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount:function(r){return r.length}}}var Rm=(function(){function e(){this.callbacks={}}return e.prototype.notify=function(t,r){var n=this.callbacks[t];n&&n.forEach(function(i){return i(r)})},e.prototype.subscribe=function(t,r){var n=this;return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),{unsubscribe:function(){n.callbacks[t]=n.callbacks[t].filter(function(i){return r!==i})}}},e})();function ql(e,t,r){var n=0,i=!1;return{isLimitReached:function(){if(n===0&&De(function(){n=0},Ge),n+=1,n<=t||i)return i=!1,!1;if(n===t+1){i=!0;try{r({message:"Reached max number of ".concat(e,"s by minute: ").concat(t),source:Ar.AGENT,startClocks:Ve()})}finally{i=!1}}return!0}}}function ca(e,t,r){if(document.readyState===t||document.readyState==="complete")return r(),{stop:fe};var n=t==="complete"?"load":"DOMContentLoaded";return _e(e,window,n,r,{once:!0})}var Cm,Nm=new WeakMap;function Om(e){return Cm||(Cm=BN(e)),Cm}function BN(e){return new ie(function(t){var r=lt(XMLHttpRequest.prototype,"open",HN).stop,n=lt(XMLHttpRequest.prototype,"send",function(a){VN(a,e,t)},{computeHandlingStack:!0}).stop,i=lt(XMLHttpRequest.prototype,"abort",zN).stop;return function(){r(),n(),i()}})}function HN(e){var t=e.target,r=e.parameters,n=r[0],i=r[1];Nm.set(t,{state:"open",method:String(n).toUpperCase(),url:So(String(i))})}function VN(e,t,r){var n=e.target,i=e.handlingStack,a=Nm.get(n);if(a){var o=a;o.state="start",o.startClocks=Ve(),o.isAborted=!1,o.xhr=n,o.handlingStack=i;var s=!1,c=lt(n,"onreadystatechange",function(){n.readyState===XMLHttpRequest.DONE&&u()}).stop,u=function(){if(l(),c(),!s){s=!0;var d=a;d.state="complete",d.duration=Pe(o.startClocks.timeStamp,Ne()),d.status=n.status,r.notify(Yn(d))}},l=_e(t,n,"loadend",u).stop;r.notify(o)}}function zN(e){var t=e.target,r=Nm.get(t);r&&(r.isAborted=!0)}var Mm;function nc(){return Mm||(Mm=$N()),Mm}function $N(){return new ie(function(e){if(window.fetch){var t=lt(window,"fetch",function(r){return jN(r,e)},{computeHandlingStack:!0}).stop;return t}})}function jN(e,t){var r=e.parameters,n=e.onPostCall,i=e.handlingStack,a=r[0],o=r[1],s=o&&o.method;s===void 0&&a instanceof Request&&(s=a.method);var c=s!==void 0?String(s).toUpperCase():"GET",u=a instanceof Request?a.url:So(String(a)),l=Ve(),d={state:"start",init:o,input:a,method:c,startClocks:l,url:u,handlingStack:i};t.notify(d),r[0]=d.input,r[1]=d.init,n(function(f){return qN(t,f,d)})}function qN(e,t,r){var n=r;function i(a){n.state="resolve",j(n,a),e.notify(n)}t.then(X(function(a){i({response:a,responseType:a.type,status:a.status,isAborted:!1})}),X(function(a){var o,s;i({status:0,isAborted:((s=(o=n.init)===null||o===void 0?void 0:o.signal)===null||s===void 0?void 0:s.aborted)||a instanceof DOMException&&a.code===DOMException.ABORT_ERR,error:a})}))}function ic(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(X(e),t);return function(){return window.cancelIdleCallback(r)}}return WN(e)}var GN=50;function WN(e){var t=Mt(),r=De(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,GN-(Mt()-t))}})},0);return function(){return ct(r)}}var YN=Le,KN=30;function IS(){var e=[];function t(n){var i;if(n.didTimeout){var a=performance.now();i=function(){return KN-(performance.now()-a)}}else i=n.timeRemaining.bind(n);for(;i()>0&&e.length;)e.shift()();e.length&&r()}function r(){ic(t,{timeout:YN})}return{push:function(n){e.push(n)===1&&r()}}}var Dm={};function Lm(e){var t=e.map(function(r){return Dm[r]||(Dm[r]=XN(r)),Dm[r]});return _l.apply(void 0,t)}function XN(e){return new ie(function(t){var r=bn[e];return bn[e]=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r.apply(console,n);var a=ia();Vr(function(){t.notify(JN(n,e,a))})},function(){bn[e]=r}})}function JN(e,t,r){var n=e.map(function(o){return ZN(o)}).join(" "),i;if(t===Xi.error){var a=tr(e,kr);i={stack:a?xn(ir(a)):void 0,fingerprint:vm(a),causes:a?_m(a,"console"):void 0,startClocks:Ve(),message:n,source:Ar.CONSOLE,handling:"handled",handlingStack:r}}return{api:t,message:n,error:i,handlingStack:r}}function ZN(e){return typeof e=="string"?We(e):kr(e)?mm(ir(e)):xr(We(e),void 0,2)}function Ao(e){var t={},r=new ie,n={getContext:function(){return To(t)},setContext:function(i){rr(i)==="object"?(t=We(i),e?.updateCustomerData(t)):n.clearContext(),r.notify()},setContextProperty:function(i,a){t[i]=We(a),e?.updateCustomerData(t),r.notify()},removeContextProperty:function(i){delete t[i],e?.updateCustomerData(t),r.notify()},clearContext:function(){t={},e?.resetCustomerData(),r.notify()},changeObservable:r};return n}var QN="_dd_c",eO=[];function Gl(e,t,r,n){var i=tO(r,n);eO.push(_e(e,window,"storage",function(c){var u=c.key;i===u&&a()})),t.changeObservable.subscribe(o),t.setContext(Dt(s(),t.getContext()));function a(){t.setContext(s())}function o(){localStorage.setItem(i,JSON.stringify(t.getContext()))}function s(){var c=localStorage.getItem(i);return c!==null?JSON.parse(c):{}}}function tO(e,t){return"".concat(QN,"_").concat(e,"_").concat(t)}var wS=3*Ur,rO=16*Ur,nO=200;function Um(e){e===void 0&&(e=2);var t=new Map,r=!1;function n(i){if(i===void 0&&(i=0),!(r||e===0)){var a=e===2?wS:rO,o=i;t.forEach(function(s){o+=s.getBytesCount()}),o>a&&(iO(a),r=!0)}}return{createDetachedTracker:function(){var i=Pm(function(){return n(i.getBytesCount())});return i},getOrCreateTracker:function(i){return t.has(i)||t.set(i,Pm(n)),t.get(i)},setCompressionStatus:function(i){e===0&&(e=i,n())},getCompressionStatus:function(){return e},stop:function(){t.forEach(function(i){return i.stop()}),t.clear()}}}function Pm(e){var t=0,r=wt(function(o){t=go(xr(o)),e()},nO),n=r.throttled,i=r.cancel,a=function(){i(),t=0};return{updateCustomerData:function(o){Fr(o)?a():n(o)},resetCustomerData:a,getBytesCount:function(){return t},stop:function(){i()}}}function iO(e){se.warn("Customer data exceeds the recommended ".concat(e/Ur,"KiB threshold. ").concat(wi," ").concat(pl,"/#customer-data-exceeds-the-recommended-threshold-warning"))}function Fm(e,t,r){var n=e.getReader(),i=[],a=0;o();function o(){n.read().then(X(function(c){if(c.done){s();return}r.collectStreamBody&&i.push(c.value),a+=c.value.length,a>r.bytesLimit?s():o()}),X(function(c){return t(c)}))}function s(){n.cancel().catch(fe);var c,u;if(r.collectStreamBody){var l;if(i.length===1)l=i[0];else{l=new Uint8Array(a);var d=0;i.forEach(function(f){l.set(f,d),d+=f.length})}c=l.slice(0,r.bytesLimit),u=l.length>r.bytesLimit}t(void 0,c,u)}}var aO="datadog-synthetics-public-id",oO="datadog-synthetics-result-id",sO="datadog-synthetics-injects-rum";function ac(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||$r(sO))}function Bm(){var e=window._DATADOG_SYNTHETICS_PUBLIC_ID||$r(aO);return typeof e=="string"?e:void 0}function Hm(){var e=window._DATADOG_SYNTHETICS_RESULT_ID||$r(oO);return typeof e=="string"?e:void 0}function oc(e){var t=rr(e);return t==="string"||t==="function"||e instanceof RegExp}function Wl(e,t,r){return r===void 0&&(r=!1),e.some(function(n){try{if(typeof n=="function")return n(t);if(n instanceof RegExp)return n.test(t);if(typeof n=="string")return r?Tn(t,n):n===t}catch(i){se.error(i)}return!1})}function xS(e,t,r){return{context:e.getContext(),user:t.getContext(),hasReplay:r.isRecording()?!0:void 0}}function kS(){var e=new Map,t=new WeakMap;return{vitalsByName:e,vitalsByReference:t}}function AS(e,t,r){function n(a){return!t.wasInPageStateDuringPeriod("frozen",a.startClocks.relative,a.duration)}function i(a){n(a)&&e.notify(12,uO(a,!0))}return{addDurationVital:i,startDurationVital:function(a,o){return o===void 0&&(o={}),Vm(r,a,o)},stopDurationVital:function(a,o){o===void 0&&(o={}),zm(i,r,a,o)}}}function Vm(e,t,r){var n=e.vitalsByName,i=e.vitalsByReference;r===void 0&&(r={});var a={name:t,startClocks:Ve(),context:r.context,description:r.description},o={__dd_vital_reference:!0};return n.set(t,a),i.set(o,a),o}function zm(e,t,r,n){var i=t.vitalsByName,a=t.vitalsByReference;n===void 0&&(n={});var o=typeof r=="string"?i.get(r):a.get(r);o&&(e(cO(o,o.startClocks,n,Ve())),typeof r=="string"?i.delete(r):a.delete(r))}function cO(e,t,r,n){var i;return{name:e.name,type:"duration",startClocks:t,duration:Pe(t.timeStamp,n.timeStamp),context:Dt(e.context,r.context),description:(i=r.description)!==null&&i!==void 0?i:e.description}}function uO(e,t){var r={date:e.startClocks.timeStamp,vital:{id:Ue(),type:e.type,name:e.name,duration:he(e.duration),description:e.description},type:"vital"};return t&&(r._dd={vital:{computed_value:!0}}),{rawRumEvent:r,startTime:e.startClocks.relative,customerContext:e.context,domainContext:{}}}function Yl(){return window.crypto||window.msCrypto}function RS(){return CS(64)}function Kl(){return CS(63)}var $m;function CS(e){return $m||($m=xt(ut.CONSISTENT_TRACE_SAMPLING)&&lO()?dO:fO),$m(e)}function lO(){try{return crypto.getRandomValues(new BigUint64Array(1)),!0}catch{return!1}}function dO(e){var t=crypto.getRandomValues(new BigUint64Array(1))[0];return e===63&&(t>>=BigInt("1")),t}function fO(e){var t=Yl().getRandomValues(new Uint32Array(2));return e===63&&(t[t.length-1]>>>=1),{toString:function(r){r===void 0&&(r=10);var n=t[1],i=t[0],a="";do{var o=n%r*4294967296+i;n=Math.floor(n/r),i=Math.floor(o/r),a=(o%r).toString(r)+a}while(n||i);return a}}}function ua(e){var t=e.toString(16);return Array(17-t.length).join("0")+t}function NS(e,t){if(t===100)return!0;if(t===0)return!1;if(typeof e!="bigint")return sn(t);var r=BigInt("1111111111111111111"),n=BigInt("0x10000000000000000"),i=e*r%n;return Number(i)<=t/100*Number(n)}function MS(e){var t=e;return rr(t)==="object"&&oc(t.match)&&Array.isArray(t.propagatorTypes)}function pO(e){e.status===0&&!e.isAborted&&(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function DS(e,t){return{clearTracingIfNeeded:pO,traceFetch:function(r){return OS(e,r,t,function(n){var i;if(r.input instanceof Request&&!(!((i=r.init)===null||i===void 0)&&i.headers))r.input=new Request(r.input),Object.keys(n).forEach(function(o){r.input.headers.append(o,n[o])});else{r.init=Yn(r.init);var a=[];r.init.headers instanceof Headers?r.init.headers.forEach(function(o,s){a.push([s,o])}):Array.isArray(r.init.headers)?r.init.headers.forEach(function(o){a.push(o)}):r.init.headers&&Object.keys(r.init.headers).forEach(function(o){a.push([o,r.init.headers[o]])}),r.init.headers=a.concat(_o(n))}})},traceXhr:function(r,n){return OS(e,r,t,function(i){Object.keys(i).forEach(function(a){n.setRequestHeader(a,i[a])})})}}}function OS(e,t,r,n){if(!(!mO()||!r.findTrackedSession())){var i=tr(e.allowedTracingUrls,function(s){return Wl([s.match],t.url,!0)});if(i){var a=RS();t.traceSampled=NS(a,e.traceSampleRate);var o=t.traceSampled||e.traceContextInjection===na.ALL;o&&(t.traceId=a,t.spanId=Kl(),n(hO(t.traceId,t.spanId,t.traceSampled,i.propagatorTypes)))}}}function mO(){return Yl()!==void 0}function hO(e,t,r,n){var i={};return n.forEach(function(a){switch(a){case"datadog":{j(i,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toString()});break}case"tracecontext":{j(i,{traceparent:"00-0000000000000000".concat(ua(e),"-").concat(ua(t),"-0").concat(r?"1":"0")});break}case"b3":{j(i,{b3:"".concat(ua(e),"-").concat(ua(t),"-").concat(r?"1":"0")});break}case"b3multi":{j(i,{"X-B3-TraceId":ua(e),"X-B3-SpanId":ua(t),"X-B3-Sampled":r?"1":"0"});break}}}),i}var LS=["tracecontext","datadog"];function PS(e){var t,r,n;if(!e.applicationId){se.error("Application ID is not configured, no RUM data will be collected.");return}if(!(!Jn(e.sessionReplaySampleRate,"Session Replay")||!Jn(e.traceSampleRate,"Trace"))){if(e.excludedActivityUrls!==void 0&&!Array.isArray(e.excludedActivityUrls)){se.error("Excluded Activity Urls should be an array");return}var i=gO(e);if(i){var a=Ml(e);if(a){var o=(t=e.sessionReplaySampleRate)!==null&&t!==void 0?t:0;return j({applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:o,startSessionReplayRecordingManually:e.startSessionReplayRecordingManually!==void 0?!!e.startSessionReplayRecordingManually:o===0,traceSampleRate:(r=e.traceSampleRate)!==null&&r!==void 0?r:100,rulePsr:Wn(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:i,excludedActivityUrls:(n=e.excludedActivityUrls)!==null&&n!==void 0?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!e.trackUserInteractions,trackViewsManually:!!e.trackViewsManually,trackResources:!!e.trackResources,trackLongTasks:!!e.trackLongTasks,subdomain:e.subdomain,defaultPrivacyLevel:ea(Zn,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:Zn.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:ea(na,e.traceContextInjection)?e.traceContextInjection:na.ALL,plugins:e.plugins||[]},a)}}}}function gO(e){if(e.allowedTracingUrls===void 0)return[];if(!Array.isArray(e.allowedTracingUrls)){se.error("Allowed Tracing URLs should be an array");return}if(e.allowedTracingUrls.length!==0&&e.service===void 0){se.error("Service needs to be configured when tracing is enabled");return}var t=[];return e.allowedTracingUrls.forEach(function(r){oc(r)?t.push({match:r,propagatorTypes:LS}):MS(r)?t.push(r):se.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",r)}),t}function vO(e){var t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(function(r){oc(r)?LS.forEach(function(n){return t.add(n)}):rr(r)==="object"&&Array.isArray(r.propagatorTypes)&&r.propagatorTypes.forEach(function(n){return t.add(n)})}),vo(t)}function US(e){var t,r=Dl(e);return j({session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:vO(e),default_privacy_level:e.defaultPrivacyLevel,enable_privacy_for_action_name:e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks,plugins:(t=e.plugins)===null||t===void 0?void 0:t.map(function(n){var i;return j({name:n.name},(i=n.getConfigurationTelemetry)===null||i===void 0?void 0:i.call(n))})},r)}var _O="https://d3uc069fcn7uxw.cloudfront.net/configuration";function BS(e,t){SO(e,function(r){t(yO(e,r))})}function yO(e,t){return j({},e,t)}function SO(e,t){var r=new XMLHttpRequest;_e(e,r,"load",function(){r.status===200?t(JSON.parse(r.responseText)):FS()}),_e(e,r,"error",function(){FS()}),r.open("GET","".concat(_O,"/").concat(encodeURIComponent(e.remoteConfigurationId),".json")),r.send()}function FS(){se.error("Error fetching the remote configuration.")}function HS(e,t,r){if(e)for(var n=0,i=e;n<i.length;n++){var a=i[n],o=a[t];o&&o(r)}}function VS(e,t,r,n,i){var a=e.ignoreInitIfSyntheticsWillInjectRum,o=e.startDeflateWorker,s=tc(),c,u,l,d,f=r.observable.subscribe(S);function S(){if(!(!l||!d||!r.isGranted())){f.unsubscribe();var k;if(d.trackViewsManually){if(!c)return;s.remove(c.callback),k=c.options}var w=i(d,u,k);s.drain(w)}}function T(k){var w=mr();if(w&&(k=EO(k)),l=k,zl(US(k)),d){ec("DD_RUM",k);return}var C=PS(k);if(C){if(!w&&!C.sessionStoreStrategyType){se.warn("No storage available for session. We will not send any data.");return}C.compressIntakeRequests&&!w&&o&&(u=o(C,"Datadog RUM",fe),!u)||(d=C,nc().subscribe(fe),r.tryToInit(C.trackingConsent),S())}}var I=function(k){s.add(function(w){return w.addDurationVital(k)})};return{init:function(k,w){if(!k){se.error("Missing configuration");return}Jp(k.enableExperimentalFeatures),l=k,!(a&&ac())&&(HS(k.plugins,"onInit",{initConfiguration:k,publicApi:w}),k.remoteConfigurationId&&xt(ut.REMOTE_CONFIGURATION)?BS(k,T):T(k))},get initConfiguration(){return l},getInternalContext:fe,stopSession:fe,addTiming:function(k,w){w===void 0&&(w=Ne()),s.add(function(C){return C.addTiming(k,w)})},startView:function(k,w){w===void 0&&(w=Ve());var C=function($){$.startView(k,w)};s.add(C),c||(c={options:k,callback:C},S())},setViewName:function(k){s.add(function(w){return w.setViewName(k)})},setViewContext:function(k){s.add(function(w){return w.setViewContext(k)})},setViewContextProperty:function(k,w){s.add(function(C){return C.setViewContextProperty(k,w)})},addAction:function(k,w){w===void 0&&(w=t()),s.add(function(C){return C.addAction(k,w)})},addError:function(k,w){w===void 0&&(w=t()),s.add(function(C){return C.addError(k,w)})},addFeatureFlagEvaluation:function(k,w){s.add(function(C){return C.addFeatureFlagEvaluation(k,w)})},startDurationVital:function(k,w){return Vm(n,k,w)},stopDurationVital:function(k,w){zm(I,n,k,w)},addDurationVital:I}}function EO(e){var t,r;return j({},e,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(t=e.defaultPrivacyLevel)!==null&&t!==void 0?t:(r=jr())===null||r===void 0?void 0:r.getPrivacyLevel()})}var zS="rum";function jm(e,t,r){r===void 0&&(r={});var n=Um(0),i=Ao(n.getOrCreateTracker(2)),a=Ao(n.getOrCreateTracker(1)),o=sm(),s=kS();function c(){return xS(i,a,t)}var u=VS(r,c,o,s,function(f,S,T){f.storeContextsAcrossPages&&(Gl(f,i,zS,2),Gl(f,a,zS,1)),n.setCompressionStatus(S?1:2);var I=e(f,t,n,c,T,S&&r.createDeflateEncoder?function(k){return r.createDeflateEncoder(f,S,k)}:Am,o,s);return t.onRumStart(I.lifeCycle,f,I.session,I.viewHistory,S),u=bO(u,I),I}),l=X(function(f){var S=typeof f=="object"?f:{name:f};S.context&&n.getOrCreateTracker(3).updateCustomerData(S.context),u.startView(S),Lt({feature:"start-view"})}),d=Sm({init:X(function(f){u.init(f,d)}),setTrackingConsent:X(function(f){o.update(f),Lt({feature:"set-tracking-consent",tracking_consent:f})}),setViewName:X(function(f){u.setViewName(f)}),setViewContext:X(function(f){u.setViewContext(f)}),setViewContextProperty:X(function(f,S){u.setViewContextProperty(f,S)}),setGlobalContext:X(function(f){i.setContext(f),Lt({feature:"set-global-context"})}),getGlobalContext:X(function(){return i.getContext()}),setGlobalContextProperty:X(function(f,S){i.setContextProperty(f,S),Lt({feature:"set-global-context"})}),removeGlobalContextProperty:X(function(f){return i.removeContextProperty(f)}),clearGlobalContext:X(function(){return i.clearContext()}),getInternalContext:X(function(f){return u.getInternalContext(f)}),getInitConfiguration:X(function(){return To(u.initConfiguration)}),addAction:function(f,S){var T=ia();Vr(function(){u.addAction({name:We(f),context:We(S),startClocks:Ve(),type:"custom",handlingStack:T}),Lt({feature:"add-action"})})},addError:function(f,S){var T=ia();Vr(function(){u.addError({error:f,handlingStack:T,context:We(S),startClocks:Ve()}),Lt({feature:"add-error"})})},addTiming:X(function(f,S){u.addTiming(We(f),S)}),setUser:X(function(f){nm(f)&&a.setContext(bl(f)),Lt({feature:"set-user"})}),getUser:X(function(){return a.getContext()}),setUserProperty:X(function(f,S){var T,I=bl((T={},T[f]=S,T))[f];a.setContextProperty(f,I),Lt({feature:"set-user"})}),removeUserProperty:X(function(f){return a.removeContextProperty(f)}),clearUser:X(function(){return a.clearContext()}),startView:l,stopSession:X(function(){u.stopSession(),Lt({feature:"stop-session"})}),addFeatureFlagEvaluation:X(function(f,S){u.addFeatureFlagEvaluation(We(f),We(S)),Lt({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:X(function(){return t.getSessionReplayLink()}),startSessionReplayRecording:X(function(f){t.start(f),Lt({feature:"start-session-replay-recording",force:f&&f.force})}),stopSessionReplayRecording:X(function(){return t.stop()}),addDurationVital:X(function(f,S){Lt({feature:"add-duration-vital"}),u.addDurationVital({name:We(f),type:"duration",startClocks:xy(S.startTime),duration:S.duration,context:We(S&&S.context),description:We(S&&S.description)})}),startDurationVital:X(function(f,S){return Lt({feature:"start-duration-vital"}),u.startDurationVital(We(f),{context:We(S&&S.context),description:We(S&&S.description)})}),stopDurationVital:X(function(f,S){Lt({feature:"stop-duration-vital"}),u.stopDurationVital(typeof f=="string"?We(f):f,{context:We(S&&S.context),description:We(S&&S.description)})})});return d}function bO(e,t){return j({init:function(r){ec("DD_RUM",r)},initConfiguration:e.initConfiguration},t)}function $S(){var e=Xl();return new ie(function(t){if(e){var r=new e(X(function(){return t.notify()}));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),function(){return r.disconnect()}}})}function Xl(){var e,t=window;if(t.Zone&&(e=Hr(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){var r=new t.MutationObserver(fe),n=Hr(r,"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}function jS(){var e=new ie,t=lt(window,"open",function(){return e.notify()}).stop;return{observable:e,stop:t}}function qS(){var e=Bm(),t=Hm();if(e&&t)return{test_id:e,result_id:t,injected:ac()}}function WS(e,t,r){var n=To(e),i=r(n);return _o(t).forEach(function(a){var o=a[0],s=a[1],c=TO(n,o),u=rr(c);u===s?GS(e,o,We(c)):s==="object"&&(u==="undefined"||u==="null")&&GS(e,o,{})}),i}function TO(e,t){for(var r=e,n=0,i=t.split(".");n<i.length;n++){var a=i[n];if(!IO(r,a))return;r=r[a]}return r}function GS(e,t,r){for(var n=e,i=t.split("."),a=0;a<i.length;a+=1){var o=i[a];if(!YS(n))return;a!==i.length-1?n=n[o]:n[o]=r}}function YS(e){return rr(e)==="object"}function IO(e,t){return YS(e)&&Object.prototype.hasOwnProperty.call(e,t)}var Ro={"view.name":"string","view.url":"string","view.referrer":"string"},Co={context:"object"},qm={service:"string",version:"string"},KS;function XS(e,t,r,n,i,a,o,s,c,u){var l,d;KS=(l={},l.view=j({},Co,Ro),l.error=j({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},Co,Ro,qm),l.resource=j({"resource.url":"string"},xt(ut.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},Co,Ro,qm),l.action=j({"action.target.name":"string"},Co,Ro,qm),l.long_task=j({},Co,Ro),l.vital=j({},Co,Ro),l);var f=(d={},d.error=ql("error",e.eventRateLimiterThreshold,u),d.action=ql("action",e.eventRateLimiterThreshold,u),d.vital=ql("vital",e.eventRateLimiterThreshold,u),d),S=qS();t.subscribe(12,function(T){var I=T.startTime,k=T.rawRumEvent,w=T.domainContext,C=T.savedCommonContext,$=T.customerContext,W=n.findView(I),Y=i.findUrl(I),N=r.findTrackedSession(I);if(N&&W&&Y){var A=C||c(),V=a.findActionId(I),F={_dd:{format_version:2,drift:ky(),configuration:{session_sample_rate:Zi(e.sessionSampleRate,3),session_replay_sample_rate:Zi(e.sessionReplaySampleRate,3)},browser_sdk_version:mr()?"5.35.1":void 0},application:{id:e.applicationId},date:Ne(),service:W.service||e.service,version:W.version||e.version,source:"browser",session:{id:N.id,type:S?"synthetics":s.get()?"ci_test":"user"},view:{id:W.id,name:W.name,url:Y.url,referrer:Y.referrer},action:xO(k)&&V?{id:V}:void 0,synthetics:S,ci_test:s.get(),display:o.get(),connectivity:Ul()},M=Dt(F,k);M.context=Dt(A.context,W.context,$),"has_replay"in M.session||(M.session.has_replay=A.hasReplay),M.type==="view"&&(M.session.sampled_for_replay=N.sessionReplay===1),xt(ut.ANONYMOUS_USER_TRACKING)&&!A.user.anonymous_id&&(A.user.anonymous_id=N.anonymousId),Fr(A.user)||(M.usr=A.user),wO(M,e.beforeSend,w,f)&&(Fr(M.context)&&delete M.context,t.notify(13,M))}})}function wO(e,t,r,n){var i;if(t){var a=WS(e,KS[e.type],function(s){return t(s,r)});if(a===!1&&e.type!=="view")return!1;a===!1&&se.warn("Can't dismiss view events using beforeSend!")}var o=(i=n[e.type])===null||i===void 0?void 0:i.isLimitReached();return!o}function xO(e){return["error","resource","long_task"].indexOf(e.type)!==-1}function JS(e,t,r,n,i){return{get:function(a){var o=r.findView(a),s=i.findUrl(a),c=t.findTrackedSession(a);if(c&&o&&s){var u=n.findActionId(a);return{application_id:e,session_id:c.id,user_action:u?{id:u}:void 0,view:{id:o.id,name:o.name,referrer:s.referrer,url:s.url}}}}}}var Gm=Rm;var kO=nr;function Wm(e){var t=Rr({expireDelay:kO});e.subscribe(1,function(n){t.add(r(n),n.startClocks.relative)}),e.subscribe(6,function(n){var i=n.endClocks;t.closeActive(i.relative)}),e.subscribe(3,function(n){var i=t.find(n.startClocks.relative);i&&n.name&&(i.name=n.name),i&&n.context&&(i.context=n.context)}),e.subscribe(10,function(){t.reset()});function r(n){return{service:n.service,version:n.version,context:n.context,id:n.id,name:n.name,startClocks:n.startClocks}}return{findView:function(n){return t.find(n)},stop:function(){t.stop()}}}var Km="initial_document",AO=[["document",function(e){return Km===e}],["xhr",function(e){return e==="xmlhttprequest"}],["fetch",function(e){return e==="fetch"}],["beacon",function(e){return e==="beacon"}],["css",function(e,t){return/\.css$/i.test(t)}],["js",function(e,t){return/\.js$/i.test(t)}],["image",function(e,t){return it(["image","img","icon"],e)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)!==null}],["font",function(e,t){return/\.(woff|eot|woff2|ttf)$/i.exec(t)!==null}],["media",function(e,t){return it(["audio","video"],e)||/\.(mp3|mp4)$/i.exec(t)!==null}]];function QS(e){var t=e.name;if(!tS(t))return pr('Failed to construct URL for "'.concat(e.name,'"')),"other";for(var r=rS(t),n=0,i=AO;n<i.length;n++){var a=i[n],o=a[0],s=a[1];if(s(e.initiatorType,r))return o}return"other"}function ZS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=1;r<e.length;r+=1)if(e[r-1]>e[r])return!1;return!0}function eE(e){return e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch"}function tE(e){var t=e.duration,r=e.startTime,n=e.responseEnd;return t===0&&r<n?he(Pe(r,n)):he(t)}function rE(e){if(Xm(e)){var t=e.startTime,r=e.fetchStart,n=e.workerStart,i=e.redirectStart,a=e.redirectEnd,o=e.domainLookupStart,s=e.domainLookupEnd,c=e.connectStart,u=e.secureConnectionStart,l=e.connectEnd,d=e.requestStart,f=e.responseStart,S=e.responseEnd,T={download:la(t,f,S),first_byte:la(t,d,f)};return 0<n&&n<r&&(T.worker=la(t,n,r)),r<l&&(T.connect=la(t,c,l),c<=u&&u<=l&&(T.ssl=la(t,u,l))),r<s&&(T.dns=la(t,o,s)),t<a&&(T.redirect=la(t,i,a)),T}}function Jl(e){return e.duration>=0}function Xm(e){var t=ZS(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=RO(e)?ZS(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart):!0;return t&&r}function RO(e){return e.redirectEnd>e.startTime}function la(e,t,r){if(e<=t&&t<=r)return{duration:he(Pe(t,r)),start:he(Pe(e,t))}}function Jm(e){return e.nextHopProtocol===""?void 0:e.nextHopProtocol}function Zm(e){return e.deliveryType===""?"other":e.deliveryType}function nE(e){if(e.startTime<e.responseStart){var t=e.encodedBodySize,r=e.decodedBodySize,n=e.transferSize;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:n}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function sc(e){return e&&!Ol(e)}var CO=/data:(.+)?(;base64)?,/g,Ym=24e3;function cc(e){return e.length<=Ym?!1:e.substring(0,5)==="data:"?(e=e.substring(0,Ym),!0):!1}function uc(e){return"".concat(e.match(CO)[0],"[...]")}var iE=1;function aE(e,t,r){var n=DS(t,r);NO(e,t,n),OO(e,n)}function NO(e,t,r){var n=Om(t).subscribe(function(i){var a=i;if(sc(a.url))switch(a.state){case"start":r.traceXhr(a,a.xhr),a.requestIndex=oE(),e.notify(7,{requestIndex:a.requestIndex,url:a.url});break;case"complete":r.clearTracingIfNeeded(a),e.notify(8,{duration:a.duration,method:a.method,requestIndex:a.requestIndex,spanId:a.spanId,startClocks:a.startClocks,status:a.status,traceId:a.traceId,traceSampled:a.traceSampled,type:"xhr",url:a.url,xhr:a.xhr,isAborted:a.isAborted,handlingStack:a.handlingStack});break}});return{stop:function(){return n.unsubscribe()}}}function OO(e,t){var r=nc().subscribe(function(n){var i=n;if(sc(i.url))switch(i.state){case"start":t.traceFetch(i),i.requestIndex=oE(),e.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":MO(i,function(a){t.clearTracingIfNeeded(i),e.notify(8,{duration:a,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted,handlingStack:i.handlingStack})});break}});return{stop:function(){return r.unsubscribe()}}}function oE(){var e=iE;return iE+=1,e}function MO(e,t){var r=e.response&&pS(e.response);!r||!r.body?t(Pe(e.startClocks.timeStamp,Ne())):Fm(r.body,function(){t(Pe(e.startClocks.timeStamp,Ne()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function Zl(e){return Wn(e)&&e<0?void 0:e}function Ql(e){var t=e.lifeCycle,r=e.isChildEvent,n=e.onChange,i=n===void 0?fe:n,a={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},o=t.subscribe(13,function(s){var c;if(!(s.type==="view"||s.type==="vital"||!r(s)))switch(s.type){case"error":a.errorCount+=1,i();break;case"action":a.actionCount+=1,s.action.frustration&&(a.frustrationCount+=s.action.frustration.type.length),i();break;case"long_task":a.longTaskCount+=1,i();break;case"resource":!((c=s._dd)===null||c===void 0)&&c.discarded||(a.resourceCount+=1,i());break}});return{stop:function(){o.unsubscribe()},eventCounts:a}}function sE(e,t){var r=Mt(),n=!1,i=Ye(e,window,["click","mousedown","keydown","touchstart","pointerdown"],function(s){if(s.cancelable){var c={entryType:"first-input",processingStart:gt(),processingEnd:gt(),startTime:s.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:function(){return{}}};s.type==="pointerdown"?a(e,c):o(c)}},{passive:!0,capture:!0}).stop;return{stop:i};function a(s,c){Ye(s,window,["pointerup","pointercancel"],function(u){u.type==="pointerup"&&o(c)},{once:!0})}function o(s){if(!n){n=!0,i();var c=s.processingStart-s.startTime;c>=0&&c<Mt()-r&&t(s)}}}var we;(function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.LONG_ANIMATION_FRAME="long-animation-frame",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"})(we||(we={}));function Et(e,t){return new ie(function(r){if(window.PerformanceObserver){var n=function(u){var l=PO(u);l.length>0&&r.notify(l)},i,a=!0,o=new PerformanceObserver(X(function(u){a?i=De(function(){return n(u.getEntries())}):n(u.getEntries())}));try{o.observe(t)}catch{var s=[we.RESOURCE,we.NAVIGATION,we.LONG_TASK,we.PAINT];if(it(s,t.type)){t.buffered&&(i=De(function(){return n(performance.getEntriesByType(t.type))}));try{o.observe({entryTypes:[t.type]})}catch{return}}}a=!1,DO(e);var c;return!da(we.FIRST_INPUT)&&t.type===we.FIRST_INPUT&&(c=sE(e,function(u){n([u])}).stop),function(){o.disconnect(),c&&c(),ct(i)}}})}var lc;function DO(e){return!lc&&LO()&&"addEventListener"in performance&&(lc=_e(e,performance,"resourcetimingbufferfull",function(){performance.clearResourceTimings()})),function(){lc?.stop()}}function LO(){return window.performance!==void 0&&"getEntries"in performance}function da(e){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(e)}function PO(e){return e.filter(function(t){return!UO(t)})}function UO(e){return e.entryType===we.RESOURCE&&(!sc(e.name)||!Jl(e))}var eh=100,FO=100;function dc(e,t,r,n,i,a){var o=HO(e,t,r,n);return BO(o,i,a)}function BO(e,t,r){var n,i=!1,a=De(X(function(){return u({hadActivity:!1})}),eh),o=r!==void 0?De(X(function(){return u({hadActivity:!0,end:Ne()})}),r):void 0,s=e.subscribe(function(l){var d=l.isBusy;ct(a),ct(n);var f=Ne();d||(n=De(X(function(){return u({hadActivity:!0,end:f})}),FO))}),c=function(){i=!0,ct(a),ct(n),ct(o),s.unsubscribe()};function u(l){i||(c(),t(l))}return{stop:c}}function HO(e,t,r,n){return new ie(function(i){var a=[],o,s=0;return a.push(t.subscribe(c),r.subscribe(c),Et(n,{type:we.RESOURCE}).subscribe(function(u){u.some(function(l){return!Qm(n,l.name)})&&c()}),e.subscribe(7,function(u){Qm(n,u.url)||(o===void 0&&(o=u.requestIndex),s+=1,c())}),e.subscribe(8,function(u){Qm(n,u.url)||o===void 0||u.requestIndex<o||(s-=1,c())})),function(){a.forEach(function(u){return u.unsubscribe()})};function c(){i.notify({isBusy:s>0})}})}function Qm(e,t){return Wl(e.excludedActivityUrls,t)}function kn(e){return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,r){return r?t==="\0"?"\uFFFD":"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," "):"\\".concat(t)})}function ei(e,t){return e.matches?e.matches(t):e.msMatchesSelector?e.msMatchesSelector(t):!1}function fa(e){if(e.parentElement)return e.parentElement;for(;e.parentNode;){if(e.parentNode.nodeType===Node.ELEMENT_NODE)return e.parentNode;e=e.parentNode}return null}function uE(e){if(e.classList)return e.classList;var t=(e.getAttribute("class")||"").trim();return t?t.split(/\s+/):[]}var cE=1,lE=(function(){function e(t){var r=this;this.map=new WeakMap,t&&t.forEach(function(n){return r.map.set(n,cE)})}return e.prototype.add=function(t){return this.map.set(t,cE),this},e.prototype.delete=function(t){return this.map.delete(t)},e.prototype.has=function(t){return this.map.has(t)},e})();function ed(e){return e.nodeType===Node.TEXT_NODE}function dE(e){return e.nodeType===Node.COMMENT_NODE}function An(e){return e.nodeType===Node.ELEMENT_NODE}function No(e){return An(e)&&!!e.shadowRoot}function fc(e){var t=e;return!!t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&An(t.host)}function fE(e){return e.childNodes.length>0||No(e)}function td(e,t){for(var r=e.firstChild;r;)t(r),r=r.nextSibling;No(e)&&t(e.shadowRoot)}function pa(e){return fc(e)?e.host:e.parentNode}var ee={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:Zn.ALLOW,MASK:Zn.MASK,MASK_USER_INPUT:Zn.MASK_USER_INPUT},pc="data-dd-privacy";var mE="hidden",VO="dd-privacy-",Rn="***",th="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",zO={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},$O="x";function $t(e,t,r){if(r&&r.has(e))return r.get(e);var n=pa(e),i=n?$t(n,t,r):t,a=nh(e),o=rh(a,i);return r&&r.set(e,o),o}function rh(e,t){switch(t){case ee.HIDDEN:case ee.IGNORE:return t}switch(e){case ee.ALLOW:case ee.MASK:case ee.MASK_USER_INPUT:case ee.HIDDEN:case ee.IGNORE:return e;default:return t}}function nh(e){if(An(e)){if(e.tagName==="BASE")return ee.ALLOW;if(e.tagName==="INPUT"){var t=e;if(t.type==="password"||t.type==="email"||t.type==="tel"||t.type==="hidden")return ee.MASK;var r=t.getAttribute("autocomplete");if(r&&(r.startsWith("cc-")||r.endsWith("-password")))return ee.MASK}if(ei(e,ma(ee.HIDDEN)))return ee.HIDDEN;if(ei(e,ma(ee.MASK)))return ee.MASK;if(ei(e,ma(ee.MASK_USER_INPUT)))return ee.MASK_USER_INPUT;if(ei(e,ma(ee.ALLOW)))return ee.ALLOW;if(qO(e))return ee.IGNORE}}function ha(e,t){switch(t){case ee.MASK:case ee.HIDDEN:case ee.IGNORE:return!0;case ee.MASK_USER_INPUT:return ed(e)?pE(e.parentNode):pE(e);default:return!1}}function pE(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;var t=e;if(t.tagName==="INPUT")switch(t.type){case"button":case"color":case"reset":case"submit":return!1}return!!zO[t.tagName]}var jO=function(e){return e.replace(/\S/g,$O)};function rd(e,t,r){var n,i=(n=e.parentElement)===null||n===void 0?void 0:n.tagName,a=e.textContent||"";if(!(t&&!a.trim())){var o=r,s=i==="SCRIPT";if(s)a=Rn;else if(o===ee.HIDDEN)a=Rn;else if(ha(e,o))if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!a.trim())return}else i==="OPTION"?a=Rn:a=jO(a);return a}}function qO(e){if(e.nodeName==="SCRIPT")return!0;if(e.nodeName==="LINK"){var t=i("rel");return/preload|prefetch/i.test(t)&&i("as")==="script"||t==="shortcut icon"||t==="icon"}if(e.nodeName==="META"){var r=i("name"),t=i("rel"),n=i("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||t==="icon"||t==="apple-touch-icon"||t==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(n)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||e.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(n)||/^product:/.test(n)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function i(a){return(e.getAttribute(a)||"").toLowerCase()}return!1}function ma(e){return"[".concat(pc,'="').concat(e,'"], .').concat(VO).concat(e)}var gc="data-dd-action-name",GO="Masked Element";function vE(e,t,r){var n=t.enablePrivacyForActionName,i=t.actionNameAttribute,a=hE(e,gc)||i&&hE(e,i);return a?{name:a,nameSource:"custom_attribute"}:r===ee.MASK?{name:GO,nameSource:"mask_placeholder"}:gE(e,i,WO,n)||gE(e,i,YO,n)||{name:"",nameSource:"blank"}}function hE(e,t){var r;if(QO())r=e.closest("[".concat(t,"]"));else for(var n=e;n;){if(n.hasAttribute(t)){r=n;break}n=fa(n)}if(r){var i=r.getAttribute(t);return yE(_E(i.trim()))}}var WO=[function(e,t,r){if(ZO()){if("labels"in e&&e.labels&&e.labels.length>0)return hc(e.labels[0],t)}else if(e.id){var n=e.ownerDocument&&tr(e.ownerDocument.querySelectorAll("label"),function(i){return i.htmlFor===e.id});return n&&hc(n,t,r)}},function(e){if(e.nodeName==="INPUT"){var t=e,r=t.getAttribute("type");if(r==="button"||r==="submit"||r==="reset")return{name:t.value,nameSource:"text_content"}}},function(e,t,r){if(e.nodeName==="BUTTON"||e.nodeName==="LABEL"||e.getAttribute("role")==="button")return hc(e,t,r)},function(e){return mc(e,"aria-label")},function(e,t,r){var n=e.getAttribute("aria-labelledby");if(n)return{name:n.split(/\s+/).map(function(i){return XO(e,i)}).filter(function(i){return!!i}).map(function(i){return SE(i,t,r)}).join(" "),nameSource:"text_content"}},function(e){return mc(e,"alt")},function(e){return mc(e,"name")},function(e){return mc(e,"title")},function(e){return mc(e,"placeholder")},function(e,t){if("options"in e&&e.options.length>0)return hc(e.options[0],t)}],YO=[function(e,t,r){return hc(e,t,r)}],KO=10;function gE(e,t,r,n){for(var i=e,a=0;a<=KO&&i&&i.nodeName!=="BODY"&&i.nodeName!=="HTML"&&i.nodeName!=="HEAD";){for(var o=0,s=r;o<s.length;o++){var c=s[o],u=c(i,t,n);if(u){var l=u.name,d=u.nameSource,f=l&&l.trim();if(f)return{name:yE(_E(f)),nameSource:d}}}if(i.nodeName==="FORM")break;i=fa(i),a+=1}}function _E(e){return e.replace(/\s+/g," ")}function yE(e){return e.length>100?"".concat(Sl(e,100)," [...]"):e}function XO(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null}function mc(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function hc(e,t,r){return{name:SE(e,t,r)||"",nameSource:"text_content"}}function SE(e,t,r){if(!e.isContentEditable){if("innerText"in e){var n=e.innerText,i=function(a){for(var o=e.querySelectorAll(a),s=0;s<o.length;s+=1){var c=o[s];if("innerText"in c){var u=c.innerText;u&&u.trim().length>0&&(n=n.replace(u,""))}}};return JO()||i("script, style"),i("[".concat(gc,"]")),t&&i("[".concat(t,"]")),r&&i("".concat(ma(ee.HIDDEN),", ").concat(ma(ee.MASK))),n}return e.textContent}}function JO(){return!Uy()}var ih;function ZO(){return ih===void 0&&(ih="labels"in HTMLInputElement.prototype),ih}var ah;function QO(){return ah===void 0&&(ah="closest"in HTMLElement.prototype),ah}var id=[gc,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],eM=[TE,rM],tM=[TE,nM,iM];function Cn(e,t){if(uM(e)){for(var r,n=e;n&&n.nodeName!=="HTML";){var i=EE(n,eM,oM,t,r);if(i)return i;var a=EE(n,tM,sM,t,r);r=a||vc(aM(n),r),n=fa(n)}return r}}function bE(e){return/[0-9]/.test(e)}function rM(e){if(e.id&&!bE(e.id))return"#".concat(kn(e.id))}function nM(e){if(e.tagName!=="BODY")for(var t=uE(e),r=0;r<t.length;r+=1){var n=t[r];if(!bE(n))return"".concat(kn(e.tagName),".").concat(kn(n))}}function iM(e){return kn(e.tagName)}function TE(e,t){if(t){var r=o(t);if(r)return r}for(var n=0,i=id;n<i.length;n++){var a=i[n],r=o(a);if(r)return r}function o(s){if(e.hasAttribute(s))return"".concat(kn(e.tagName),"[").concat(s,'="').concat(kn(e.getAttribute(s)),'"]')}}function aM(e){for(var t=fa(e).firstElementChild,r=1;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return"".concat(kn(e.tagName),":nth-of-type(").concat(r,")")}function EE(e,t,r,n,i){for(var a=0,o=t;a<o.length;a++){var s=o[a],c=s(e,n);if(c&&r(e,c,i))return vc(c,i)}}function oM(e,t,r){return e.ownerDocument.querySelectorAll(vc(t,r)).length===1}function sM(e,t,r){var n;if(r===void 0)n=function(s){return ei(s,t)};else{var i=cM()?vc("".concat(t,":scope"),r):vc(t,r);n=function(s){return s.querySelector(i)!==null}}for(var a=fa(e),o=a.firstElementChild;o;){if(o!==e&&n(o))return!1;o=o.nextElementSibling}return!0}function vc(e,t){return t?"".concat(e,">").concat(t):e}var nd;function cM(){if(nd===void 0)try{document.querySelector(":scope"),nd=!0}catch{nd=!1}return nd}function uM(e){return"isConnected"in e?e.isConnected:e.ownerDocument.documentElement.contains(e)}var IE=Le,lM=100;function wE(e,t){var r=[],n=0,i;a(e);function a(c){c.stopObservable.subscribe(o),r.push(c),ct(i),i=De(s,IE)}function o(){n===1&&r.every(function(c){return c.isStopped()})&&(n=2,t(r))}function s(){ct(i),n===0&&(n=1,o())}return{tryAppend:function(c){return n!==0?!1:r.length>0&&!dM(r[r.length-1].event,c.event)?(s(),!1):(a(c),!0)},stop:function(){s()}}}function dM(e,t){return e.target===t.target&&fM(e,t)<=lM&&e.timeStamp-t.timeStamp<=IE}function fM(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))}function AE(e,t){var r=t.onPointerDown,n=t.onPointerUp,i,a={selection:!1,input:!1,scroll:!1},o,s=[_e(e,window,"pointerdown",function(c){kE(c)&&(i=xE(),a={selection:!1,input:!1,scroll:!1},o=r(c))},{capture:!0}),_e(e,window,"selectionchange",function(){(!i||!xE())&&(a.selection=!0)},{capture:!0}),_e(e,window,"scroll",function(){a.scroll=!0},{capture:!0,passive:!0}),_e(e,window,"pointerup",function(c){if(kE(c)&&o){var u=a;n(o,c,function(){return u}),o=void 0}},{capture:!0}),_e(e,window,"input",function(){a.input=!0},{capture:!0})];return{stop:function(){s.forEach(function(c){return c.stop()})}}}function xE(){var e=window.getSelection();return!e||e.isCollapsed}function kE(e){return e.target instanceof Element&&e.isPrimary!==!1}var RE=3;function NE(e,t){if(pM(e))return t.addFrustration("rage_click"),e.some(CE)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};var r=e.some(function(n){return n.getUserActivity().selection});return e.forEach(function(n){n.hasError&&n.addFrustration("error_click"),CE(n)&&!r&&n.addFrustration("dead_click")}),{isRage:!1}}function pM(e){if(e.some(function(r){return r.getUserActivity().selection||r.getUserActivity().scroll}))return!1;for(var t=0;t<e.length-(RE-1);t+=1)if(e[t+RE-1].event.timeStamp-e[t].event.timeStamp<=Le)return!0;return!1}var mM='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function CE(e){return e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll?!1:!ei(e.event.target,mM)}var oh=10*Le,_c=new Map;function OE(e){var t=_c.get(e);return _c.delete(e),t}function sh(e,t){_c.set(e,t),_c.forEach(function(r,n){Pe(n,gt())>oh&&_c.delete(n)})}var hM=5*Ge;function ME(e,t,r,n){var i=Rr({expireDelay:hM}),a=new ie,o;e.subscribe(10,function(){i.reset()}),e.subscribe(5,l);var s=AE(n,{onPointerDown:function(d){return gM(n,e,t,d,r)},onPointerUp:function(d,f,S){var T=d.clickActionBase,I=d.hadActivityOnPointerDown;vM(n,e,t,r,i,a,u,T,f,S,I)}}).stop,c={findActionId:function(d){return i.findAll(d)}};return{stop:function(){l(),a.notify(),s()},actionContexts:c};function u(d){if(!o||!o.tryAppend(d)){var f=d.clone();o=wE(d,function(S){yM(S,f)})}}function l(){o&&o.stop()}}function gM(e,t,r,n,i){var a=e.enablePrivacyForActionName?$t(n.target,e.defaultPrivacyLevel):ee.ALLOW;if(a!==ee.HIDDEN){var o=_M(n,a,e),s=!1;return dc(t,r,i,e,function(c){s=c.hadActivity},eh),{clickActionBase:o,hadActivityOnPointerDown:function(){return s}}}}function vM(e,t,r,n,i,a,o,s,c,u,l){var d,f=DE(t,i,u,s,c);o(f);var S=(d=s?.target)===null||d===void 0?void 0:d.selector;S&&sh(c.timeStamp,S);var T=dc(t,r,n,e,function(w){w.hadActivity&&w.end<f.startClocks.timeStamp?f.discard():w.hadActivity?f.stop(w.end):l()?f.stop(f.startClocks.timeStamp):f.stop()},oh).stop,I=t.subscribe(5,function(w){var C=w.endClocks;f.stop(C.timeStamp)}),k=a.subscribe(function(){f.stop()});f.stopObservable.subscribe(function(){I.unsubscribe(),T(),k.unsubscribe()})}function _M(e,t,r){var n=e.target.getBoundingClientRect(),i=Cn(e.target,r.actionNameAttribute);i&&sh(e.timeStamp,i);var a=vE(e.target,r,t);return{type:"click",target:{width:Math.round(n.width),height:Math.round(n.height),selector:i},position:{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)},name:a.name,nameSource:a.nameSource}}function DE(e,t,r,n,i){var a=Ue(),o=Ve(),s=t.add(a,o.relative),c=Ql({lifeCycle:e,isChildEvent:function(T){return T.action!==void 0&&(Array.isArray(T.action.id)?it(T.action.id,a):T.action.id===a)}}),u=0,l,d=[],f=new ie;function S(T){u===0&&(l=T,u=1,l?s.close(js(l)):s.remove(),c.stop(),f.notify())}return{event:i,stop:S,stopObservable:f,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return l!==void 0},getUserActivity:r,addFrustration:function(T){d.push(T)},startClocks:o,isStopped:function(){return u===1||u===2},clone:function(){return DE(e,t,r,n,i)},validate:function(T){if(S(),u===1){var I=c.eventCounts,k=I.resourceCount,w=I.errorCount,C=I.longTaskCount,$=j({type:"click",duration:l&&Pe(o.timeStamp,l),startClocks:o,id:a,frustrationTypes:d,counts:{resourceCount:k,errorCount:w,longTaskCount:C},events:T??[i],event:i},n);e.notify(0,$),u=2}},discard:function(){S(),u=2}}}function yM(e,t){var r=NE(e,t).isRage;r?(e.forEach(function(n){return n.discard()}),t.stop(Ne()),t.validate(e.map(function(n){return n.event}))):(t.discard(),e.forEach(function(n){return n.validate()}))}function PE(e,t,r,n,i){var a;e.subscribe(0,function(c){return e.notify(12,LE(c,i))});var o={findActionId:fe},s=fe;return n.trackUserInteractions&&(a=ME(e,t,r,n),o=a.actionContexts,s=a.stop),{addAction:function(c,u){e.notify(12,j({savedCommonContext:u},LE(c,i)))},actionContexts:o,stop:s}}function LE(e,t){var r=ad(e)?{action:{id:e.id,loading_time:Zl(he(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:xt(ut.ACTION_NAME_MASKING)?e.nameSource:void 0}}}:void 0,n=ad(e)?void 0:e.context,i=Dt({action:{id:Ue(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},r),a=ad(e)?{events:e.events}:{};return!ad(e)&&e.handlingStack&&(a.handlingStack=e.handlingStack),{customerContext:n,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:a}}function ad(e){return e.type!=="custom"}function UE(e){var t=Lm([Xi.error]).subscribe(function(r){return e.notify(r.error)});return{stop:function(){t.unsubscribe()}}}function FE(e,t){var r=bm(e,[oa.cspViolation,oa.intervention]).subscribe(function(n){return t.notify(n)});return{stop:function(){r.unsubscribe()}}}function BE(e,t,r,n){var i=new ie;return UE(i),ym(i),FE(t,i),i.subscribe(function(a){return e.notify(14,{error:a})}),SM(e,r,n)}function SM(e,t,r){return e.subscribe(14,function(n){var i=n.error,a=n.customerContext,o=n.savedCommonContext;e.notify(12,j({customerContext:a,savedCommonContext:o},EM(i,t,r)))}),{addError:function(n,i){var a=n.error,o=n.handlingStack,s=n.startClocks,c=n.context,u=kr(a)?ir(a):void 0,l=Qs({stackTrace:u,originalError:a,handlingStack:o,startClocks:s,nonErrorPrefix:"Provided",source:Ar.CUSTOM,handling:"handled"});e.notify(14,{customerContext:c,savedCommonContext:i,error:l})}}}function EM(e,t,r){var n={date:e.startClocks.timeStamp,error:{id:Ue(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint,csp:e.csp},type:"error",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},i=r.findFeatureFlagEvaluations(e.startClocks.relative);i&&!Fr(i)&&(n.feature_flags=i);var a={error:e.originalError,handlingStack:e.handlingStack};return{rawRumEvent:n,startTime:e.startClocks.relative,domainContext:a}}function HE(e,t){var r=Et(t,{type:we.LONG_TASK,buffered:!0}).subscribe(function(n){for(var i=0,a=n;i<a.length;i++){var o=a[i];if(o.entryType!==we.LONG_TASK||!t.trackLongTasks)break;var s=Qi(o.startTime),c={date:s.timeStamp,long_task:{id:Ue(),entry_type:"long-task",duration:he(o.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:c,startTime:s.relative,domainContext:{performanceEntry:o}})}});return{stop:function(){r.unsubscribe()}}}var VE=new lE;function zE(e){if(!(!performance||!("getEntriesByName"in performance))){var t=performance.getEntriesByName(e.url,"resource");if(!(!t.length||!("toJSON"in t[0]))){var r=t.filter(function(n){return!VE.has(n)}).filter(function(n){return Jl(n)&&Xm(n)}).filter(function(n){return bM(n,e.startClocks.relative,$E({startTime:e.startClocks.relative,duration:e.duration}))});if(r.length===1)return VE.add(r[0]),r[0].toJSON()}}}function $E(e){return xi(e.startTime,e.duration)}function bM(e,t,r){var n=1;return e.startTime>=t-n&&$E(e)<=xi(r,n)}var TM=2*Ge;function qE(e){var t=IM(e)||wM(e);if(!(!t||t.traceTime<=Mt()-TM))return t.traceId}function IM(e){var t=e.querySelector("meta[name=dd-trace-id]"),r=e.querySelector("meta[name=dd-trace-time]");return GE(t&&t.content,r&&r.content)}function wM(e){var t=xM(e);if(t)return GE(ki(t,"trace-id"),ki(t,"trace-time"))}function GE(e,t){var r=t&&Number(t);if(!(!e||!r))return{traceId:e,traceTime:r}}function xM(e){for(var t=0;t<e.childNodes.length;t+=1){var r=jE(e.childNodes[t]);if(r)return r}if(e.body)for(var t=e.body.childNodes.length-1;t>=0;t-=1){var n=e.body.childNodes[t],r=jE(n);if(r)return r;if(!ed(n))break}}function jE(e){if(e&&dE(e)){var t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function od(){if(da(we.NAVIGATION)){var e=performance.getEntriesByType(we.NAVIGATION)[0];if(e)return e}var t=kM(),r=j({entryType:we.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.responseEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:function(){return j({},r,{toJSON:void 0})}},t);return r}function kM(){var e={},t=performance.timing;for(var r in t)if(Wn(t[r])){var n=r,i=t[n];e[n]=i===0?0:js(i)}return e}function WE(e,t){ca(e,"interactive",function(){var r=j(od().toJSON(),{entryType:we.RESOURCE,initiatorType:Km,traceId:qE(document),toJSON:function(){return j({},r,{toJSON:void 0})}});t(r)})}function KE(e,t,r,n,i){n===void 0&&(n=IS()),i===void 0&&(i=WE),e.subscribe(8,function(s){o(function(){return AM(s,t,r)})});var a=Et(t,{type:we.RESOURCE,buffered:!0}).subscribe(function(s){for(var c=function(f){eE(f)||o(function(){return YE(f,t)})},u=0,l=s;u<l.length;u++){var d=l[u];c(d)}});i(t,function(s){o(function(){return YE(s,t)})});function o(s){n.push(function(){var c=s();c&&e.notify(12,c)})}return{stop:function(){a.unsubscribe()}}}function AM(e,t,r){var n=zE(e),i=n?Qi(n.startTime):e.startClocks,a=RM(e,t);if(!(!t.trackResources&&!a)){var o=e.type==="xhr"?"xhr":"fetch",s=n?XE(n):void 0,c=NM(r,i,e.duration),u=Dt({date:i.timeStamp,resource:{id:Ue(),type:o,duration:c,method:e.method,status_code:e.status,protocol:n&&Jm(n),url:cc(e.url)?uc(e.url):e.url,delivery_type:n&&Zm(n)},type:"resource",_dd:{discarded:!t.trackResources}},a,s);return{startTime:i.relative,rawRumEvent:u,domainContext:{performanceEntry:n,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}}}function YE(e,t){var r=Qi(e.startTime),n=CM(e,t);if(!(!t.trackResources&&!n)){var i=QS(e),a=XE(e),o=Dt({date:r.timeStamp,resource:{id:Ue(),type:i,url:e.name,status_code:OM(e.responseStatus),protocol:Jm(e),delivery_type:Zm(e)},type:"resource",_dd:{discarded:!t.trackResources}},n,a);return{startTime:r.relative,rawRumEvent:o,domainContext:{performanceEntry:e}}}}function XE(e){var t=e.renderBlockingStatus;return{resource:j({duration:tE(e),render_blocking_status:t},nE(e),rE(e))}}function RM(e,t){var r=e.traceSampled&&e.traceId&&e.spanId;if(r)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}function CM(e,t){var r=e.traceId;if(r)return{_dd:{trace_id:e.traceId,span_id:Kl().toString(),rule_psr:t.rulePsr}}}function NM(e,t,r){return e.wasInPageStateDuringPeriod("frozen",t.relative,r)?void 0:he(r)}function OM(e){return e===0?void 0:e}function JE(e,t,r){var n=Ql({lifeCycle:e,isChildEvent:function(o){return o.view.id===t},onChange:r}),i=n.stop,a=n.eventCounts;return{stop:i,eventCounts:a}}var MM=10*Ge;function ZE(e,t,r){var n=Et(e,{type:we.PAINT,buffered:!0}).subscribe(function(i){var a=tr(i,function(o){return o.name==="first-contentful-paint"&&o.startTime<t.timeStamp&&o.startTime<MM});a&&r(a.startTime)});return{stop:n.unsubscribe}}function QE(e,t,r){var n=Et(e,{type:we.FIRST_INPUT,buffered:!0}).subscribe(function(i){var a=tr(i,function(c){return c.startTime<t.timeStamp});if(a){var o=Pe(a.startTime,a.processingStart),s=void 0;a.target&&An(a.target)&&(s=Cn(a.target,e.actionNameAttribute)),r({delay:o>=0?o:0,time:a.startTime,targetSelector:s})}});return{stop:function(){n.unsubscribe()}}}function eb(e,t,r){return r===void 0&&(r=od),PM(e,function(){var n=r();LM(n)||t(DM(n))})}function DM(e){return{domComplete:e.domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=gt()?e.responseStart:void 0}}function LM(e){return e.loadEventEnd<=0}function PM(e,t){var r,n=ca(e,"complete",function(){r=De(function(){return t()})}).stop;return{stop:function(){n(),ct(r)}}}var UM=10*Ge;function tb(e,t,r,n){var i=1/0,a=Ye(e,r,["pointerdown","keydown"],function(c){i=c.timeStamp},{capture:!0,once:!0}).stop,o=0,s=Et(e,{type:we.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(function(c){var u=Cy(c,function(d){return d.entryType===we.LARGEST_CONTENTFUL_PAINT&&d.startTime<i&&d.startTime<t.timeStamp&&d.startTime<UM&&d.size>o});if(u){var l=void 0;u.element&&(l=Cn(u.element,e.actionNameAttribute)),n({value:u.startTime,targetSelector:l}),o=u.size}});return{stop:function(){a(),s.unsubscribe()}}}function sd(e,t){t===void 0&&(t=window);var r,n;return document.visibilityState==="hidden"?r=0:(r=1/0,n=Ye(e,t,["pagehide","visibilitychange"],function(i){(i.type==="pagehide"||document.visibilityState==="hidden")&&(r=i.timeStamp,n())},{capture:!0}).stop),{get timeStamp(){return r},stop:function(){n?.()}}}function rb(e,t,r){var n={},i=eb(e,function(l){t(l.loadEvent),n.navigationTimings=l,r()}).stop,a=sd(e),o=ZE(e,a,function(l){n.firstContentfulPaint=l,r()}).stop,s=tb(e,a,window,function(l){n.largestContentfulPaint=l,r()}).stop,c=QE(e,a,function(l){n.firstInput=l,r()}).stop;function u(){i(),o(),s(),c(),a.stop()}return{stop:u,initialViewMetrics:n}}function nb(e,t,r){if(!zM())return{stop:fe};var n=0,i,a;r({value:0});var o=VM(),s=Et(e,{type:we.LAYOUT_SHIFT,buffered:!0}).subscribe(function(c){for(var u=0,l=c;u<l.length;u++){var d=l[u];if(!(d.hadRecentInput||d.startTime<t)){var f=o.update(d),S=f.cumulatedValue,T=f.isMaxValue;if(T){var I=FM(d.sources);i=I?new WeakRef(I):void 0,a=Pe(t,d.startTime)}if(S>n){n=S;var I=i?.deref();r({value:Zi(n,4),targetSelector:I&&Cn(I,e.actionNameAttribute),time:a})}}}});return{stop:function(){s.unsubscribe()}}}function FM(e){var t;if(e)return(t=tr(e,function(r){return!!r.node&&An(r.node)}))===null||t===void 0?void 0:t.node}var BM=5*Le,HM=Le;function VM(){var e=0,t,r,n=0;return{update:function(i){var a=t===void 0||i.startTime-r>=HM||i.startTime-t>=BM,o;return a?(t=r=i.startTime,n=e=i.value,o=!0):(e+=i.value,r=i.startTime,o=i.value>n,o&&(n=i.value)),{cumulatedValue:e,isMaxValue:o}}}}function zM(){return da(we.LAYOUT_SHIFT)&&"WeakRef"in window}var cd,ib=0,ch=1/0,uh=0;function ab(){"interactionCount"in performance||cd||(cd=new window.PerformanceObserver(X(function(e){e.getEntries().forEach(function(t){var r=t;r.interactionId&&(ch=Math.min(ch,r.interactionId),uh=Math.max(uh,r.interactionId),ib=(uh-ch)/7+1)})})),cd.observe({type:"event",buffered:!0,durationThreshold:0}))}var lh=function(){return cd?ib:window.performance.interactionCount||0};var ob=10,$M=1*Ge;function sb(e,t,r){if(!GM())return{getInteractionToNextPaint:function(){},setViewEnd:fe,stop:fe};var n=qM(r),i=n.getViewInteractionCount,a=n.stopViewInteractionCount,o=1/0,s=jM(i),c=-1,u,l;function d(T){for(var I=0,k=T;I<k.length;I++){var w=k[I];w.interactionId&&w.startTime>=t&&w.startTime<=o&&s.process(w)}var C=s.estimateP98Interaction();C&&C.duration!==c&&(c=C.duration,l=Pe(t,C.startTime),u=OE(C.startTime),!u&&C.target&&An(C.target)&&(u=Cn(C.target,e.actionNameAttribute)))}var f=Et(e,{type:we.FIRST_INPUT,buffered:!0}).subscribe(d),S=Et(e,{type:we.EVENT,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:function(){if(c>=0)return{value:Math.min(c,$M),targetSelector:u,time:l};if(i())return{value:0}},setViewEnd:function(T){o=T,a()},stop:function(){S.unsubscribe(),f.unsubscribe()}}}function jM(e){var t=[];function r(){t.sort(function(n,i){return i.duration-n.duration}).splice(ob)}return{process:function(n){var i=t.findIndex(function(o){return n.interactionId===o.interactionId}),a=t[t.length-1];i!==-1?n.duration>t[i].duration&&(t[i]=n,r()):(t.length<ob||n.duration>a.duration)&&(t.push(n),r())},estimateP98Interaction:function(){var n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}function qM(e){ab();var t=e==="initial_load"?0:lh(),r={stopped:!1};function n(){return lh()-t}return{getViewInteractionCount:function(){return r.stopped?r.interactionCount:n()},stopViewInteractionCount:function(){r={stopped:!0,interactionCount:n()}}}}function GM(){return da(we.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function cb(e,t,r,n,i,a,o){var s=i==="initial_load",c=!0,u=[],l=sd(n);function d(){if(!c&&!s&&u.length>0){var S=Math.max.apply(Math,u);S<l.timeStamp&&o(S)}}var f=dc(e,t,r,n,function(S){c&&(c=!1,S.hadActivity&&u.push(Pe(a.timeStamp,S.end)),d())}).stop;return{stop:function(){f(),l.stop()},setLoadEvent:function(S){s&&(s=!1,u.push(S),d())}}}function yc(){var e,t=window.visualViewport;return t?e=t.pageLeft-t.offsetLeft:window.scrollX!==void 0?e=window.scrollX:e=window.pageXOffset||0,Math.round(e)}function ga(){var e,t=window.visualViewport;return t?e=t.pageTop-t.offsetTop:window.scrollY!==void 0?e=window.scrollY:e=window.pageYOffset||0,Math.round(e)}var dh;function Sc(e){return dh||(dh=WM(e)),dh}function WM(e){return new ie(function(t){var r=wt(function(){t.notify(ti())},200).throttled;return _e(e,window,"resize",r,{capture:!0,passive:!0}).stop})}function ti(){var e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var YM=Le;function ub(e,t,r,n){n===void 0&&(n=XM(e));var i=0,a=0,o=0,s=n.subscribe(function(c){var u=c.scrollDepth,l=c.scrollTop,d=c.scrollHeight,f=!1;if(u>i&&(i=u,f=!0),d>a){a=d;var S=gt();o=Pe(t.relative,S),f=!0}f&&r({maxDepth:Math.min(i,a),maxDepthScrollTop:l,maxScrollHeight:a,maxScrollHeightTime:o})});return{stop:function(){return s.unsubscribe()}}}function KM(){var e=ga(),t=ti().height,r=Math.round((document.scrollingElement||document.documentElement).scrollHeight),n=Math.round(t+e);return{scrollHeight:r,scrollDepth:n,scrollTop:e}}function XM(e,t){return t===void 0&&(t=YM),new ie(function(r){function n(){r.notify(KM())}if(window.ResizeObserver){var i=wt(n,t,{leading:!1,trailing:!0}),a=document.scrollingElement||document.documentElement,o=new ResizeObserver(X(i.throttled));a&&o.observe(a);var s=_e(e,window,"scroll",i.throttled,{passive:!0});return function(){i.cancel(),o.disconnect(),s.stop()}}})}function lb(e,t,r,n,i,a,o){var s={},c=cb(e,t,r,n,a,o,function(w){s.loadingTime=w,i()}),u=c.stop,l=c.setLoadEvent,d=ub(n,o,function(w){s.scroll=w}).stop,f=nb(n,o.relative,function(w){s.cumulativeLayoutShift=w,i()}).stop,S=sb(n,o.relative,a),T=S.stop,I=S.getInteractionToNextPaint,k=S.setViewEnd;return{stop:function(){u(),f(),d()},stopINPTracking:T,setLoadEvent:l,setViewEnd:k,getCommonViewMetrics:function(){return s.interactionToNextPaint=I(),s}}}var JM=3e3,ZM=5*Ge,QM=5*Ge;function fb(e,t,r,n,i,a,o,s){var c=new Set,u=d("initial_load",hl(),s);f();var l;o&&(l=S(a));function d(T,I,k){var w=eD(t,r,n,i,e,T,I,k);return c.add(w),w.stopObservable.subscribe(function(){c.delete(w)}),w}function f(){t.subscribe(10,function(){u=d("route_change",void 0,{name:u.name,service:u.service,version:u.version,context:u.contextManager.getContext()})}),t.subscribe(9,function(){u.end({sessionIsActive:!1})}),t.subscribe(11,function(T){T.reason===Qn.UNLOADING&&u.end()})}function S(T){return T.subscribe(function(I){var k=I.oldLocation,w=I.newLocation;rD(k,w)&&(u.end(),u=d("route_change"))})}return{addTiming:function(T,I){I===void 0&&(I=Ne()),u.addTiming(T,I)},startView:function(T,I){u.end({endClocks:I}),u=d("route_change",I,T)},setViewContext:function(T){u.contextManager.setContext(T)},setViewContextProperty:function(T,I){u.contextManager.setContextProperty(T,I)},setViewName:function(T){u.setViewName(T)},stop:function(){l&&l.unsubscribe(),u.end(),c.forEach(function(T){return T.stop()})}}}function eD(e,t,r,n,i,a,o,s){o===void 0&&(o=Ve());var c=Ue(),u=new ie,l={},d=0,f,S=Yn(i),T=Ao(),I=!0,k,w,C,$;s&&(k=s.name,w=s.service||void 0,C=s.version||void 0,s.context&&($=s.context,T.setContext($)));var W={id:c,name:k,startClocks:o,service:w,version:C,context:$};e.notify(1,W),e.notify(2,W);var Y=wt(qt,JM,{leading:!1}),N=Y.throttled,A=Y.cancel,V=lb(e,t,r,n,N,a,o),F=V.setLoadEvent,M=V.setViewEnd,E=V.stop,Z=V.stopINPTracking,ge=V.getCommonViewMetrics,Re=a==="initial_load"?rb(n,F,N):{stop:fe,initialViewMetrics:{}},Xe=Re.stop,de=Re.initialViewMetrics,ze=JE(e,c,N),Ee=ze.stop,He=ze.eventCounts,Tt=zr(qt,ZM);qt(),T.changeObservable.subscribe(function(){e.notify(3,{id:c,name:k,context:T.getContext(),startClocks:o}),N()});function qt(){A(),d+=1;var At=f===void 0?Ne():f.timeStamp;e.notify(4,{customTimings:l,documentVersion:d,id:c,name:k,service:w,version:C,context:T.getContext(),loadingType:a,location:S,startClocks:o,commonViewMetrics:ge(),initialViewMetrics:de,duration:Pe(o.timeStamp,At),isActive:f===void 0,sessionIsActive:I,eventCounts:He})}return{get name(){return k},service:w,version:C,contextManager:T,stopObservable:u,end:function(At){var ft=this,pt,Qe;At===void 0&&(At={}),!f&&(f=(pt=At.endClocks)!==null&&pt!==void 0?pt:Ve(),I=(Qe=At.sessionIsActive)!==null&&Qe!==void 0?Qe:!0,e.notify(5,{endClocks:f}),e.notify(6,{endClocks:f}),In(Tt),M(f.relative),E(),qt(),De(function(){ft.stop()},QM))},stop:function(){Xe(),Ee(),Z(),u.notify()},addTiming:function(At,ft){if(!f){var pt=Ay(ft)?ft:Pe(o.timeStamp,ft);l[tD(At)]=pt,N()}},setViewName:function(At){k=At,qt()}}}function tD(e){var t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&se.warn("Invalid timing name: ".concat(e,", sanitized to: ").concat(t)),t}function rD(e,t){return e.pathname!==t.pathname||!nD(t.hash)&&db(t.hash)!==db(e.hash)}function nD(e){var t=e.substring(1);return t!==""&&!!document.getElementById(t)}function db(e){var t=e.indexOf("?");return t<0?e:e.slice(0,t)}function pb(e,t,r,n,i,a,o,s,c,u){return e.subscribe(4,function(l){return e.notify(12,iD(l,t,o,c,s))}),fb(r,e,n,i,t,a,!t.trackViewsManually,u)}function iD(e,t,r,n,i){var a,o,s,c,u,l,d,f,S,T,I,k,w,C,$,W,Y=n.getReplayStats(e.id),N=r.findFeatureFlagEvaluations(e.startClocks.relative),A=i.findAll(e.startClocks.relative,e.duration),V={_dd:{document_version:e.documentVersion,replay_stats:Y,page_states:A,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:(a=e.commonViewMetrics.cumulativeLayoutShift)===null||a===void 0?void 0:a.value,cumulative_layout_shift_time:he((o=e.commonViewMetrics.cumulativeLayoutShift)===null||o===void 0?void 0:o.time),cumulative_layout_shift_target_selector:(s=e.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.targetSelector,first_byte:he((c=e.initialViewMetrics.navigationTimings)===null||c===void 0?void 0:c.firstByte),dom_complete:he((u=e.initialViewMetrics.navigationTimings)===null||u===void 0?void 0:u.domComplete),dom_content_loaded:he((l=e.initialViewMetrics.navigationTimings)===null||l===void 0?void 0:l.domContentLoaded),dom_interactive:he((d=e.initialViewMetrics.navigationTimings)===null||d===void 0?void 0:d.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:he(e.initialViewMetrics.firstContentfulPaint),first_input_delay:he((f=e.initialViewMetrics.firstInput)===null||f===void 0?void 0:f.delay),first_input_time:he((S=e.initialViewMetrics.firstInput)===null||S===void 0?void 0:S.time),first_input_target_selector:(T=e.initialViewMetrics.firstInput)===null||T===void 0?void 0:T.targetSelector,interaction_to_next_paint:he((I=e.commonViewMetrics.interactionToNextPaint)===null||I===void 0?void 0:I.value),interaction_to_next_paint_time:he((k=e.commonViewMetrics.interactionToNextPaint)===null||k===void 0?void 0:k.time),interaction_to_next_paint_target_selector:(w=e.commonViewMetrics.interactionToNextPaint)===null||w===void 0?void 0:w.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:he((C=e.initialViewMetrics.largestContentfulPaint)===null||C===void 0?void 0:C.value),largest_contentful_paint_target_selector:($=e.initialViewMetrics.largestContentfulPaint)===null||$===void 0?void 0:$.targetSelector,load_event:he((W=e.initialViewMetrics.navigationTimings)===null||W===void 0?void 0:W.loadEvent),loading_time:Zl(he(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},resource:{count:e.eventCounts.resourceCount},time_spent:he(e.duration)},feature_flags:N&&!Fr(N)?N:void 0,display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:he(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:Y?!0:void 0,is_active:e.sessionIsActive?void 0:!1},privacy:{replay_level:t.defaultPrivacyLevel}};return Fr(e.customTimings)||(V.view.custom_timings=My(e.customTimings,he)),{rawRumEvent:V,startTime:e.startClocks.relative,domainContext:{location:e.location}}}var aD="rum";function mb(e,t,r){var n=Tm(e,aD,function(i){return oD(e,i)},r);return n.expireObservable.subscribe(function(){t.notify(9)}),n.renewObservable.subscribe(function(){t.notify(10)}),n.sessionStateUpdateObservable.subscribe(function(i){var a=i.previousState,o=i.newState;if(!a.forcedReplay&&o.forcedReplay){var s=n.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:function(i){var a=n.findSession(i);if(!(!a||!gb(a.trackingType)))return{id:a.id,sessionReplay:a.trackingType==="1"?1:a.isReplayForced?2:0,anonymousId:a.anonymousId}},expire:n.expire,expireObservable:n.expireObservable,setForcedReplay:function(){return n.updateSessionState({forcedReplay:"1"})}}}function hb(){var e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:ko("records")?1:0};return{findTrackedSession:function(){return e},expire:fe,expireObservable:new ie,setForcedReplay:fe}}function oD(e,t){var r;return sD(t)?r=t:sn(e.sessionSampleRate)?sn(e.sessionReplaySampleRate)?r="1":r="2":r="0",{trackingType:r,isTracked:gb(r)}}function sD(e){return e==="0"||e==="1"||e==="2"}function gb(e){return e==="2"||e==="1"}function vb(e,t,r,n,i,a,o){var s=e.replica,c=jl(e,{endpoint:e.rumEndpointBuilder,encoder:o(2)},s&&{endpoint:s.rumEndpointBuilder,transformMessage:function(u){return Dt(u,{application:{id:s.applicationId}})},encoder:o(3)},n,i,a);return t.subscribe(13,function(u){u.type==="view"?c.upsert(u,u.view.id):c.add(u)}),r.subscribe(function(u){return c.add(u,Vl(e))}),c}function _b(e){var t=jr();e.subscribe(13,function(r){t.send("rum",r)})}var cD=nr;function yb(e,t,r){var n=Rr({expireDelay:cD}),i;e.subscribe(1,function(s){var c=s.startClocks,u=r.href;n.add(o({url:u,referrer:i||document.referrer}),c.relative),i=u}),e.subscribe(6,function(s){var c=s.endClocks;n.closeActive(c.relative)});var a=t.subscribe(function(s){var c=s.newLocation,u=n.find();if(u){var l=gt();n.closeActive(l),n.add(o({url:c.href,referrer:u.referrer}),l)}});function o(s){var c=s.url,u=s.referrer;return{url:c,referrer:u}}return{findUrl:function(s){return n.find(s)},stop:function(){a.unsubscribe(),n.stop()}}}function Eb(e,t){var r=Yn(t);return new ie(function(n){var i=uD(e,o).stop,a=lD(e,o).stop;function o(){if(r.href!==t.href){var s=Yn(t);n.notify({newLocation:s,oldLocation:r}),r=s}}return function(){i(),a()}})}function uD(e,t){var r=lt(Sb("pushState"),"pushState",function(a){var o=a.onPostCall;o(t)}).stop,n=lt(Sb("replaceState"),"replaceState",function(a){var o=a.onPostCall;o(t)}).stop,i=_e(e,window,"popstate",t).stop;return{stop:function(){r(),n(),i()}}}function lD(e,t){return _e(e,window,"hashchange",t)}function Sb(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}var dD=nr;function bb(e,t){var r=Rr({expireDelay:dD});return e.subscribe(1,function(n){var i=n.startClocks;r.add({},i.relative),t.resetCustomerData()}),e.subscribe(6,function(n){var i=n.endClocks;r.closeActive(i.relative)}),{findFeatureFlagEvaluations:function(n){return r.find(n)},addFeatureFlagEvaluation:function(n,i){var a=r.find();a&&(a[n]=i,t.updateCustomerData(a))},stop:function(){return t.stop()}}}var fD=10*Le,ri,va,ph;function Ib(e,t,r,n,i){var a=t.enabled&&sn(e.customerDataTelemetrySampleRate);a&&(wb(),Tb(),r.subscribe(13,function(o){ph=!0,Ec(va.globalContextBytes,n.getOrCreateTracker(2).getBytesCount()),Ec(va.userContextBytes,n.getOrCreateTracker(1).getBytesCount()),Ec(va.featureFlagBytes,it(["view","error"],o.type)?n.getOrCreateTracker(0).getBytesCount():0)}),i.subscribe(function(o){var s=o.bytesCount,c=o.messagesCount;ph&&(ri.batchCount+=1,Ec(ri.batchBytesCount,s),Ec(ri.batchMessagesCount,c),fh(ri.globalContextBytes,va.globalContextBytes),fh(ri.userContextBytes,va.userContextBytes),fh(ri.featureFlagBytes,va.featureFlagBytes),Tb())}),zr(pD,fD))}function pD(){ri.batchCount!==0&&(pr("Customer data measures",ri),wb())}function Ni(){return{min:1/0,max:0,sum:0}}function Ec(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function fh(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function wb(){ri={batchCount:0,batchBytesCount:Ni(),batchMessagesCount:Ni(),globalContextBytes:Ni(),userContextBytes:Ni(),featureFlagBytes:Ni()}}function Tb(){ph=!1,va={globalContextBytes:Ni(),userContextBytes:Ni(),featureFlagBytes:Ni()}}var mD=4e3,hD=500,gD=nr;function xb(e,t){t===void 0&&(t=hD);var r=Rr({expireDelay:gD,maxEntries:mD}),n;a(kb(),gt());var i=Ye(e,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],function(s){a(vD(s),s.timeStamp)},{capture:!0}).stop;function a(s,c){c===void 0&&(c=gt()),s!==n&&(n=s,r.closeActive(c),r.add({state:n,startTime:c},c))}var o={findAll:function(s,c){var u=r.findAll(s,c);if(u.length!==0){for(var l=[],d=Math.max(0,u.length-t),f=u.length-1;f>=d;f--){var S=u[f],T=Pe(s,S.startTime);l.push({state:S.state,start:he(T)})}return l}},wasInPageStateAt:function(s,c){return o.wasInPageStateDuringPeriod(s,c,0)},wasInPageStateDuringPeriod:function(s,c,u){return r.findAll(c,u).some(function(l){return l.state===s})},addPageState:a,stop:function(){i(),r.stop()}};return o}function vD(e){return e.type==="freeze"?"frozen":e.type==="pagehide"?e.persisted?"frozen":"terminated":kb()}function kb(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function Ab(e){var t,r;xt(ut.DELAY_VIEWPORT_COLLECTION)?r=requestAnimationFrame(function(){t=ti()}):t=ti();var n=Sc(e).subscribe(function(i){t=i}).unsubscribe;return{get:function(){return t?{viewport:t}:void 0},stop:function(){n(),r&&cancelAnimationFrame(r)}}}function Rb(e,t){var r=window.cookieStore?_D(e):SD;return new ie(function(n){return r(t,function(i){return n.notify(i)})})}function _D(e){return function(t,r){var n=_e(e,window.cookieStore,"change",function(i){var a=tr(i.changed,function(o){return o.name===t})||tr(i.deleted,function(o){return o.name===t});a&&r(a.value)});return n.stop}}var yD=Le;function SD(e,t){var r=ki(document.cookie,e),n=zr(function(){var i=ki(document.cookie,e);i!==r&&t(i)},yD);return function(){In(n)}}var Cb="datadog-ci-visibility-test-execution-id";function Nb(e,t){var r;t===void 0&&(t=Rb(e,Cb));var n=$r(Cb)||((r=window.Cypress)===null||r===void 0?void 0:r.env("traceId")),i=t.subscribe(function(a){n=a});return{get:function(){if(typeof n=="string")return{test_execution_id:n}},stop:function(){return i.unsubscribe()}}}function Ob(e,t){var r=Et(t,{type:we.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(function(n){for(var i=0,a=n;i<a.length;i++){var o=a[i],s=Qi(o.startTime),c={date:s.timeStamp,long_task:{id:Ue(),entry_type:"long-animation-frame",duration:he(o.duration),blocking_duration:he(o.blockingDuration),first_ui_event_timestamp:he(o.firstUIEventTimestamp),render_start:he(o.renderStart),style_and_layout_start:he(o.styleAndLayoutStart),start_time:he(o.startTime),scripts:o.scripts.map(function(u){return{duration:he(u.duration),pause_duration:he(u.pauseDuration),forced_style_and_layout_duration:he(u.forcedStyleAndLayoutDuration),start_time:he(u.startTime),execution_start:he(u.executionStart),source_url:u.sourceURL,source_function_name:u.sourceFunctionName,source_char_position:u.sourceCharPosition,invoker:u.invoker,invoker_type:u.invokerType,window_attribution:u.windowAttribution}})},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:c,startTime:s.relative,domainContext:{performanceEntry:o}})}});return{stop:function(){return r.unsubscribe()}}}function mh(e,t,r,n,i,a,o,s){var c=[],u=new Gm;u.subscribe(13,function(Qe){return sa("rum",Qe)});var l=ED(e);l.setContextProvider(function(){var Qe,Kr;return{application:{id:e.applicationId},session:{id:(Qe=I.findTrackedSession())===null||Qe===void 0?void 0:Qe.id},view:{id:(Kr=V.findView())===null||Kr===void 0?void 0:Kr.id},action:{id:M.findActionId()}}});var d=function(Qe){u.notify(14,{error:Qe}),pr("Error reported to customer",{"error.message":Qe.message})},f=bb(u,r.getOrCreateTracker(0)),S=xm(e),T=S.subscribe(function(Qe){u.notify(11,Qe)});c.push(function(){return T.unsubscribe()});var I=mr()?hb():mb(e,u,o);if(mr())_b(u);else{var k=vb(e,u,l.observable,d,S,I.expireObservable,a);c.push(function(){return k.stop()}),Ib(e,l,u,r,k.flushObservable)}var w=$S(),C=Eb(e,location),$=xb(e),W=jS(),Y=W.observable,N=W.stop;c.push(N);var A=bD(u,e,location,I,$,C,w,Y,n,d),V=A.viewHistory,F=A.urlContexts,M=A.actionContexts,E=A.addAction,Z=A.stop;c.push(Z),Hl();var ge=pb(u,e,location,w,Y,C,f,$,t,i),Re=ge.addTiming,Xe=ge.startView,de=ge.setViewName,ze=ge.setViewContext,Ee=ge.setViewContextProperty,He=ge.stop;c.push(He);var Tt=KE(u,e,$).stop;if(c.push(Tt),xt(ut.LONG_ANIMATION_FRAME)){if(e.trackLongTasks){var qt=Ob(u,e).stop;c.push(qt)}}else HE(u,e);var At=BE(u,e,$,f).addError;aE(u,e,I);var ft=AS(u,$,s),pt=JS(e.applicationId,I,V,M,F);return{addAction:E,addError:At,addTiming:Re,addFeatureFlagEvaluation:f.addFeatureFlagEvaluation,startView:Xe,setViewContext:ze,setViewContextProperty:Ee,setViewName:de,lifeCycle:u,viewHistory:V,session:I,stopSession:function(){return I.expire()},getInternalContext:pt.get,startDurationVital:ft.startDurationVital,stopDurationVital:ft.stopDurationVital,addDurationVital:ft.addDurationVital,stop:function(){c.forEach(function(Qe){return Qe()})}}}function ED(e){var t=Bl("browser-rum-sdk",e);if(mr()){var r=jr();t.observable.subscribe(function(n){return r.send("internal_telemetry",n)})}return t}function bD(e,t,r,n,i,a,o,s,c,u){var l=Wm(e),d=yb(e,a,r),f=PE(e,o,s,t,i),S=Ab(t),T=Nb(t);return XS(t,e,n,l,d,f.actionContexts,S,T,c,u),{viewHistory:l,pageStateHistory:i,urlContexts:d,addAction:f.addAction,actionContexts:f.actionContexts,stop:function(){f.stop(),T.stop(),S.stop(),d.stop(),l.stop(),i.stop()}}}function hh(e,t){var r=t.session,n=t.viewContext,i=t.errorType,a=r?r.id:"no-session-id",o=[];i!==void 0&&o.push("error-type=".concat(i)),n&&(o.push("seed=".concat(n.id)),o.push("from=".concat(n.startClocks.timeStamp)));var s=TD(e),c="/rum/replay/sessions/".concat(a);return"".concat(s).concat(c,"?").concat(o.join("&"))}function TD(e){var t=e.site,r=e.subdomain||ID(e);return"https://".concat(r?"".concat(r,"."):"").concat(t)}function ID(e){switch(e.site){case cn:case cm:return"app";case Js:return"dd";default:return}}var wD=10,ar;function Mb(e){return ud(e).segments_count}function Db(e){ud(e).segments_count+=1}function Lb(e){ud(e).records_count+=1}function Pb(e,t){ud(e).segments_total_raw_size+=t}function Ub(e){return ar?.get(e)}function ud(e){ar||(ar=new Map);var t;return ar.has(e)?t=ar.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},ar.set(e,t),ar.size>wD&&xD()),t}function xD(){if(ar)if(ar.keys){var e=ar.keys().next().value;e&&ar.delete(e)}else{var t=!0;ar.forEach(function(r,n){t&&(ar.delete(n),t=!1)})}}var gh=new WeakMap;function kt(e){return gh.has(e)}function vh(e){for(var t=e;t;){if(!kt(t)&&!fc(t))return!1;t=pa(t)}return!0}function Ze(e){return gh.get(e)}function Bb(e,t){gh.set(e,t)}function _a(e,t){var r=e.tagName,n=e.value;if(ha(e,t)){var i=e.type;return r==="INPUT"&&(i==="button"||i==="submit"||i==="reset")?n:!n||r==="OPTION"?void 0:Rn}if(r==="OPTION"||r==="SELECT")return e.value;if(!(r!=="INPUT"&&r!=="TEXTAREA"))return n}var kD=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,AD=/^[A-Za-z]+:|^\/\//,RD=/^data:.*,/i;function Hb(e,t){return e.replace(kD,function(r,n,i,a,o,s){var c=i||o||s;if(!t||!c||AD.test(c)||RD.test(c))return r;var u=n||a||"";return"url(".concat(u).concat(CD(c,t)).concat(u,")")})}function CD(e,t){try{return Xs(e,t).href}catch{return e}}var ND=/[^a-z1-6-_]/;function ld(e){var t=e.toLowerCase().trim();return ND.test(t)?"div":t}function _h(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(e,"' height='").concat(t,"' style='background-color:silver'%3E%3C/svg%3E")}var Pt={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9},Oi={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11},vt={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8},qr={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9},yh={Play:0,Pause:1};function Sh(e){if(!(e===void 0||e.length===0))return e.map(function(t){var r=t.cssRules||t.rules,n=Array.from(r,function(a){return a.cssText}),i={cssRules:n,disabled:t.disabled||void 0,media:t.media.length>0?Array.from(t.media):void 0};return i})}function bc(e,t,r,n){if(t===ee.HIDDEN)return null;var i=e.getAttribute(r);if(t===ee.MASK&&r!==pc&&!id.includes(r)&&r!==n.actionNameAttribute){var a=e.tagName;switch(r){case"title":case"alt":case"placeholder":return Rn}if(a==="IMG"&&(r==="src"||r==="srcset")){var o=e;if(o.naturalWidth>0)return _h(o.naturalWidth,o.naturalHeight);var s=e.getBoundingClientRect(),c=s.width,u=s.height;return c>0||u>0?_h(c,u):th}if(a==="SOURCE"&&(r==="src"||r==="srcset"))return th;if(a==="A"&&r==="href")return Rn;if(i&&Tn(r,"data-"))return Rn;if(a==="IFRAME"&&r==="srcdoc")return Rn}return!i||typeof i!="string"?i:cc(i)?uc(i):i}function Vb(e,t,r){var n;if(t===ee.HIDDEN)return{};for(var i={},a=ld(e.tagName),o=e.ownerDocument,s=0;s<e.attributes.length;s+=1){var c=e.attributes.item(s),u=c.name,l=bc(e,t,u,r.configuration);l!==null&&(i[u]=l)}if(e.value&&(a==="textarea"||a==="select"||a==="option"||a==="input")){var d=_a(e,t);d!==void 0&&(i.value=d)}if(a==="option"&&t===ee.ALLOW){var f=e;f.selected&&(i.selected=f.selected)}if(a==="link"){var S=Array.from(o.styleSheets).find(function(W){return W.href===e.href}),T=Eh(S);T&&S&&(i._cssText=T)}if(a==="style"&&e.sheet){var T=Eh(e.sheet);T&&(i._cssText=T)}var I=e;if(a==="input"&&(I.type==="radio"||I.type==="checkbox")&&(t===ee.ALLOW?i.checked=!!I.checked:ha(I,t)&&delete i.checked),a==="audio"||a==="video"){var k=e;i.rr_mediaState=k.paused?"paused":"played"}var w,C,$=r.serializationContext;switch($.status){case 0:w=Math.round(e.scrollTop),C=Math.round(e.scrollLeft),(w||C)&&$.elementsScrollPositions.set(e,{scrollTop:w,scrollLeft:C});break;case 1:$.elementsScrollPositions.has(e)&&(n=$.elementsScrollPositions.get(e),w=n.scrollTop,C=n.scrollLeft);break}return C&&(i.rr_scrollLeft=C),w&&(i.rr_scrollTop=w),i}function Eh(e){if(!e)return null;var t;try{t=e.rules||e.cssRules}catch{}if(!t)return null;var r=Array.from(t,By()?OD:zb).join("");return Hb(r,e.href)}function OD(e){if(DD(e)&&e.selectorText.includes(":")){var t=/(\[[\w-]+[^\\])(:[^\]]+\])/g;return e.cssText.replace(t,"$1\\$2")}return zb(e)}function zb(e){return MD(e)&&Eh(e.styleSheet)||e.cssText}function MD(e){return"styleSheet"in e}function DD(e){return"selectorText"in e}function ya(e,t){var r=UD(e,t);if(!r)return null;var n=Ze(e)||PD(),i=r;return i.id=n,Bb(e,n),t.serializedNodeIds&&t.serializedNodeIds.add(n),i}var LD=1;function PD(){return LD++}function bh(e,t){var r=[];return td(e,function(n){var i=ya(n,t);i&&r.push(i)}),r}function UD(e,t){switch(e.nodeType){case e.DOCUMENT_NODE:return FD(e,t);case e.DOCUMENT_FRAGMENT_NODE:return BD(e,t);case e.DOCUMENT_TYPE_NODE:return HD(e);case e.ELEMENT_NODE:return VD(e,t);case e.TEXT_NODE:return $D(e,t);case e.CDATA_SECTION_NODE:return jD()}}function FD(e,t){return{type:Oi.Document,childNodes:bh(e,t),adoptedStyleSheets:Sh(e.adoptedStyleSheets)}}function BD(e,t){var r=fc(e);return r&&t.serializationContext.shadowRootsController.addShadowRoot(e),{type:Oi.DocumentFragment,childNodes:bh(e,t),isShadowRoot:r,adoptedStyleSheets:r?Sh(e.adoptedStyleSheets):void 0}}function HD(e){return{type:Oi.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId}}function VD(e,t){var r,n=ld(e.tagName),i=zD(e)||void 0,a=rh(nh(e),t.parentNodePrivacyLevel);if(a===ee.HIDDEN){var o=e.getBoundingClientRect(),s=o.width,c=o.height;return{type:Oi.Element,tagName:n,attributes:(r={rr_width:"".concat(s,"px"),rr_height:"".concat(c,"px")},r[pc]=mE,r),childNodes:[],isSVG:i}}if(a!==ee.IGNORE){var u=Vb(e,a,t),l=[];if(fE(e)&&n!=="style"){var d=void 0;t.parentNodePrivacyLevel===a&&t.ignoreWhiteSpace===(n==="head")?d=t:d=j({},t,{parentNodePrivacyLevel:a,ignoreWhiteSpace:n==="head"}),l=bh(e,d)}return{type:Oi.Element,tagName:n,attributes:u,childNodes:l,isSVG:i}}}function zD(e){return e.tagName==="svg"||e instanceof SVGElement}function $D(e,t){var r=rd(e,t.ignoreWhiteSpace||!1,t.parentNodePrivacyLevel);if(r!==void 0)return{type:Oi.Text,textContent:r}}function jD(){return{type:Oi.CDATA,textContent:""}}function dd(e,t,r){return ya(e,{serializationContext:r,parentNodePrivacyLevel:t.defaultPrivacyLevel,configuration:t})}function Th(e){return!!e.changedTouches}function Nn(e){return e.composed===!0&&No(e.target)?e.composedPath()[0]:e.target}var $b=25;function qD(e){return Math.abs(e.pageTop-e.offsetTop-window.scrollY)>$b||Math.abs(e.pageLeft-e.offsetLeft-window.scrollX)>$b}var jb=function(e,t){var r=window.visualViewport,n={layoutViewportX:e,layoutViewportY:t,visualViewportX:e,visualViewportY:t};if(r)qD(r)?(n.layoutViewportX=Math.round(e+r.offsetLeft),n.layoutViewportY=Math.round(t+r.offsetTop)):(n.visualViewportX=Math.round(e-r.offsetLeft),n.visualViewportY=Math.round(t-r.offsetTop));else return n;return n},fd=function(e){return{scale:e.scale,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,pageLeft:e.pageLeft,pageTop:e.pageTop,height:e.height,width:e.width}};function bt(e,t){return{data:j({source:e},t),type:Pt.IncrementalSnapshot,timestamp:Ne()}}var GD=50;function Ih(e,t){var r=wt(function(o){var s=Nn(o);if(kt(s)){var c=wh(o);if(!c)return;var u={id:Ze(s),timeOffset:0,x:c.x,y:c.y};t(bt(Th(o)?vt.TouchMove:vt.MouseMove,{positions:[u]}))}},GD,{trailing:!1}),n=r.throttled,i=r.cancel,a=Ye(e,document,["mousemove","touchmove"],n,{capture:!0,passive:!0}).stop;return{stop:function(){a(),i()}}}function wh(e){var t=Th(e)?e.changedTouches[0]:e,r=t.clientX,n=t.clientY;if(window.visualViewport){var i=jb(r,n),a=i.visualViewportX,o=i.visualViewportY;r=a,n=o}if(!Number.isFinite(r)||!Number.isFinite(n)){e.isTrusted&&pr("mouse/touch event without x/y");return}return{x:r,y:n}}var un,qb=(un={},un.pointerup=qr.MouseUp,un.mousedown=qr.MouseDown,un.click=qr.Click,un.contextmenu=qr.ContextMenu,un.dblclick=qr.DblClick,un.focus=qr.Focus,un.blur=qr.Blur,un.touchstart=qr.TouchStart,un.touchend=qr.TouchEnd,un);function xh(e,t,r){var n=function(i){var a=Nn(i);if(!($t(a,e.defaultPrivacyLevel)===ee.HIDDEN||!kt(a))){var o=Ze(a),s=qb[i.type],c;if(s!==qr.Blur&&s!==qr.Focus){var u=wh(i);if(!u)return;c={id:o,type:s,x:u.x,y:u.y}}else c={id:o,type:s};var l=j({id:r.getIdForEvent(i)},bt(vt.MouseInteraction,c));t(l)}};return Ye(e,document,Object.keys(qb),n,{capture:!0,passive:!0})}var WD=100;function Tc(e,t,r,n){n===void 0&&(n=document);var i=wt(function(c){var u=Nn(c);if(!(!u||$t(u,e.defaultPrivacyLevel)===ee.HIDDEN||!kt(u))){var l=Ze(u),d=u===document?{scrollTop:ga(),scrollLeft:yc()}:{scrollTop:Math.round(u.scrollTop),scrollLeft:Math.round(u.scrollLeft)};r.set(u,d),t(bt(vt.Scroll,{id:l,x:d.scrollLeft,y:d.scrollTop}))}},WD),a=i.throttled,o=i.cancel,s=_e(e,n,"scroll",a,{capture:!0,passive:!0}).stop;return{stop:function(){s(),o()}}}var YD=200;function kh(e,t){var r=Sc(e).subscribe(function(n){t(bt(vt.ViewportResize,n))});return{stop:function(){r.unsubscribe()}}}function Ah(e,t){var r=window.visualViewport;if(!r)return{stop:fe};var n=wt(function(){t({data:fd(r),type:Pt.VisualViewport,timestamp:Ne()})},YD,{trailing:!1}),i=n.throttled,a=n.cancel,o=Ye(e,r,["resize","scroll"],i,{capture:!0,passive:!0}).stop;return{stop:function(){o(),a()}}}function Rh(e,t){return Ye(e,document,["play","pause"],function(r){var n=Nn(r);!n||$t(n,e.defaultPrivacyLevel)===ee.HIDDEN||!kt(n)||t(bt(vt.MediaInteraction,{id:Ze(n),type:r.type==="play"?yh.Play:yh.Pause}))},{capture:!0,passive:!0})}function Ch(e){function t(i,a){i&&kt(i.ownerNode)&&a(Ze(i.ownerNode))}var r=[lt(CSSStyleSheet.prototype,"insertRule",function(i){var a=i.target,o=i.parameters,s=o[0],c=o[1];t(a,function(u){return e(bt(vt.StyleSheetRule,{id:u,adds:[{rule:s,index:c}]}))})}),lt(CSSStyleSheet.prototype,"deleteRule",function(i){var a=i.target,o=i.parameters[0];t(a,function(s){return e(bt(vt.StyleSheetRule,{id:s,removes:[{index:o}]}))})})];typeof CSSGroupingRule<"u"?n(CSSGroupingRule):(n(CSSMediaRule),n(CSSSupportsRule));function n(i){r.push(lt(i.prototype,"insertRule",function(a){var o=a.target,s=a.parameters,c=s[0],u=s[1];t(o.parentStyleSheet,function(l){var d=Gb(o);d&&(d.push(u||0),e(bt(vt.StyleSheetRule,{id:l,adds:[{rule:c,index:d}]})))})}),lt(i.prototype,"deleteRule",function(a){var o=a.target,s=a.parameters[0];t(o.parentStyleSheet,function(c){var u=Gb(o);u&&(u.push(s),e(bt(vt.StyleSheetRule,{id:c,removes:[{index:u}]})))})}))}return{stop:function(){r.forEach(function(i){return i.stop()})}}}function Gb(e){for(var t=[],r=e;r.parentRule;){var n=Array.from(r.parentRule.cssRules),i=n.indexOf(r);t.unshift(i),r=r.parentRule}if(r.parentStyleSheet){var a=Array.from(r.parentStyleSheet.cssRules),o=a.indexOf(r);return t.unshift(o),t}}function Nh(e,t){return Ye(e,window,["focus","blur"],function(){t({data:{has_focus:document.hasFocus()},type:Pt.Focus,timestamp:Ne()})})}function Oh(e,t,r){var n=e.subscribe(12,function(i){var a,o;i.rawRumEvent.type==="action"&&i.rawRumEvent.action.type==="click"&&(!((o=(a=i.rawRumEvent.action.frustration)===null||a===void 0?void 0:a.type)===null||o===void 0)&&o.length)&&"events"in i.domainContext&&i.domainContext.events&&i.domainContext.events.length&&t({timestamp:i.rawRumEvent.date,type:Pt.FrustrationRecord,data:{frustrationTypes:i.rawRumEvent.action.frustration.type,recordIds:i.domainContext.events.map(function(s){return r.getIdForEvent(s)})}})});return{stop:function(){n.unsubscribe()}}}function Mh(e,t){var r=e.subscribe(5,function(){t({timestamp:Ne(),type:Pt.ViewEnd})});return{stop:function(){r.unsubscribe()}}}function Ic(e,t,r){r===void 0&&(r=document);var n=e.defaultPrivacyLevel,i=new WeakMap,a=r!==document,o=Ye(e,r,a?["change"]:["input","change"],function(d){var f=Nn(d);(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement||f instanceof HTMLSelectElement)&&u(f)},{capture:!0,passive:!0}).stop,s;if(a)s=fe;else{var c=[aa(HTMLInputElement.prototype,"value",u),aa(HTMLInputElement.prototype,"checked",u),aa(HTMLSelectElement.prototype,"value",u),aa(HTMLTextAreaElement.prototype,"value",u),aa(HTMLSelectElement.prototype,"selectedIndex",u)];s=function(){c.forEach(function(d){return d.stop()})}}return{stop:function(){s(),o()}};function u(d){var f=$t(d,n);if(f!==ee.HIDDEN){var S=d.type,T;if(S==="radio"||S==="checkbox"){if(ha(d,f))return;T={isChecked:d.checked}}else{var I=_a(d,f);if(I===void 0)return;T={text:I}}l(d,T);var k=d.name;S==="radio"&&k&&d.checked&&Ny(document.querySelectorAll('input[type="radio"][name="'.concat(kn(k),'"]')),function(w){w!==d&&l(w,{isChecked:!1})})}}function l(d,f){if(kt(d)){var S=i.get(d);(!S||S.text!==f.text||S.isChecked!==f.isChecked)&&(i.set(d,f),t(bt(vt.Input,j({id:Ze(d)},f))))}}}var KD=100,XD=16;function Wb(e){var t=fe,r=[];function n(){t(),e(r),r=[]}var i=wt(n,XD,{leading:!1}),a=i.throttled,o=i.cancel;return{addMutations:function(s){r.length===0&&(t=ic(a,{timeout:KD})),r.push.apply(r,s)},flush:n,stop:function(){t(),o()}}}function wc(e,t,r,n){var i=Xl();if(!i)return{stop:fe,flush:fe};var a=Wb(function(s){JD(s.concat(o.takeRecords()),e,t,r)}),o=new i(X(a.addMutations));return o.observe(n,{attributeOldValue:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),{stop:function(){o.disconnect(),a.stop()},flush:function(){a.flush()}}}function JD(e,t,r,n){var i=new Map;e.filter(function(f){return f.type==="childList"}).forEach(function(f){f.removedNodes.forEach(function(S){Yb(S,n.removeShadowRoot)})});var a=e.filter(function(f){return f.target.isConnected&&vh(f.target)&&$t(f.target,r.defaultPrivacyLevel,i)!==ee.HIDDEN}),o=ZD(a.filter(function(f){return f.type==="childList"}),r,n,i),s=o.adds,c=o.removes,u=o.hasBeenSerialized,l=QD(a.filter(function(f){return f.type==="characterData"&&!u(f.target)}),r,i),d=eL(a.filter(function(f){return f.type==="attributes"&&!u(f.target)}),r,i);!l.length&&!d.length&&!c.length&&!s.length||t(bt(vt.Mutation,{adds:s,removes:c,texts:l,attributes:d}))}function ZD(e,t,r,n){for(var i=new Set,a=new Map,o=function(N){N.addedNodes.forEach(function(A){i.add(A)}),N.removedNodes.forEach(function(A){i.has(A)||a.set(A,N.target),i.delete(A)})},s=0,c=e;s<c.length;s++){var u=c[s];o(u)}var l=Array.from(i);tL(l);for(var d=new Set,f=[],S=0,T=l;S<T.length;S++){var I=T[S];if(!W(I)){var k=$t(I.parentNode,t.defaultPrivacyLevel,n);if(!(k===ee.HIDDEN||k===ee.IGNORE)){var w=ya(I,{serializedNodeIds:d,parentNodePrivacyLevel:k,serializationContext:{status:2,shadowRootsController:r},configuration:t});if(w){var C=pa(I);f.push({nextId:Y(I),parentId:Ze(C),node:w})}}}}var $=[];return a.forEach(function(N,A){kt(A)&&$.push({parentId:Ze(N),id:Ze(A)})}),{adds:f,removes:$,hasBeenSerialized:W};function W(N){return kt(N)&&d.has(Ze(N))}function Y(N){for(var A=N.nextSibling;A;){if(kt(A))return Ze(A);A=A.nextSibling}return null}}function QD(e,t,r){for(var n,i=[],a=new Set,o=e.filter(function(f){return a.has(f.target)?!1:(a.add(f.target),!0)}),s=0,c=o;s<c.length;s++){var u=c[s],l=u.target.textContent;if(l!==u.oldValue){var d=$t(pa(u.target),t.defaultPrivacyLevel,r);d===ee.HIDDEN||d===ee.IGNORE||i.push({id:Ze(u.target),value:(n=rd(u.target,!1,d))!==null&&n!==void 0?n:null})}}return i}function eL(e,t,r){for(var n=[],i=new Map,a=e.filter(function(k){var w=i.get(k.target);return w&&w.has(k.attributeName)?!1:(w?w.add(k.attributeName):i.set(k.target,new Set([k.attributeName])),!0)}),o=new Map,s=0,c=a;s<c.length;s++){var u=c[s],l=u.target.getAttribute(u.attributeName);if(l!==u.oldValue){var d=$t(u.target,t.defaultPrivacyLevel,r),f=bc(u.target,d,u.attributeName,t),S=void 0;if(u.attributeName==="value"){var T=_a(u.target,d);if(T===void 0)continue;S=T}else typeof f=="string"?S=f:S=null;var I=o.get(u.target);I||(I={id:Ze(u.target),attributes:{}},n.push(I),o.set(u.target,I)),I.attributes[u.attributeName]=S}}return n}function tL(e){e.sort(function(t,r){var n=t.compareDocumentPosition(r);return n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_CONTAINS||n&Node.DOCUMENT_POSITION_FOLLOWING?1:n&Node.DOCUMENT_POSITION_PRECEDING?-1:0})}function Yb(e,t){No(e)&&t(e.shadowRoot),td(e,function(r){return Yb(r,t)})}function Dh(){var e=new WeakMap;return{set:function(t,r){t===document&&!document.scrollingElement||e.set(t===document?document.scrollingElement:t,r)},get:function(t){return e.get(t)},has:function(t){return e.has(t)}}}var Kb=function(e,t,r){var n=new Map,i={addShadowRoot:function(a){if(!n.has(a)){var o=wc(t,e,i,a),s=Ic(e,t,a),c=Tc(e,t,r,a);n.set(a,{flush:function(){return o.flush()},stop:function(){o.stop(),s.stop(),c.stop()}})}},removeShadowRoot:function(a){var o=n.get(a);o&&(o.stop(),n.delete(a))},stop:function(){n.forEach(function(a){var o=a.stop;return o()})},flush:function(){n.forEach(function(a){var o=a.flush;return o()})}};return i};function Xb(e,t,r,n,i,a){var o=function(c,u){c===void 0&&(c=Ne()),u===void 0&&(u={status:0,elementsScrollPositions:e,shadowRootsController:t});var l=ti(),d=l.width,f=l.height,S=[{data:{height:f,href:window.location.href,width:d},type:Pt.Meta,timestamp:c},{data:{has_focus:document.hasFocus()},type:Pt.Focus,timestamp:c},{data:{node:dd(document,n,u),initialOffset:{left:yc(),top:ga()}},type:Pt.FullSnapshot,timestamp:c}];return window.visualViewport&&S.push({data:fd(window.visualViewport),type:Pt.VisualViewport,timestamp:c}),S};a(o());var s=r.subscribe(2,function(c){i(),a(o(c.startClocks.timeStamp,{shadowRootsController:t,status:1,elementsScrollPositions:e}))}).unsubscribe;return{stop:s}}function Jb(){var e=new WeakMap,t=1;return{getIdForEvent:function(r){return e.has(r)||e.set(r,t++),e.get(r)}}}function Lh(e){var t=e.emit,r=e.configuration,n=e.lifeCycle;if(!t)throw new Error("emit function is required");var i=function(f){t(f),sa("record",{record:f});var S=e.viewHistory.findView();Lb(S.id)},a=Dh(),o=Kb(r,i,a),s=Xb(a,o,n,r,c,function(f){return f.forEach(function(S){return i(S)})}).stop;function c(){o.flush(),l.flush()}var u=Jb(),l=wc(i,r,o,document),d=[l,Ih(r,i),xh(r,i,u),Tc(r,i,a,document),kh(r,i),Ic(r,i),Rh(r,i),Ch(i),Nh(r,i),Ah(r,i),Oh(n,i,u),Mh(n,function(f){c(),i(f)})];return{stop:function(){o.stop(),d.forEach(function(f){return f.stop()}),s()},flushMutations:c,shadowRootsController:o}}function Zb(e,t,r){var n=new FormData;n.append("segment",new Blob([e],{type:"application/octet-stream"}),"".concat(t.session.id,"-").concat(t.start));var i=j({raw_segment_size:r,compressed_segment_size:e.byteLength},t),a=JSON.stringify(i);return n.append("event",new Blob([a],{type:"application/json"})),{data:n,bytesCount:e.byteLength}}function Qb(e){var t=e.context,r=e.creationReason,n=e.encoder,i=0,a=t.view.id,o=j({start:1/0,end:-1/0,creation_reason:r,records_count:0,has_full_snapshot:!1,index_in_view:Mb(a),source:"browser"},t);Db(a);function s(u,l){o.start=Math.min(o.start,u.timestamp),o.end=Math.max(o.end,u.timestamp),o.records_count+=1,o.has_full_snapshot||(o.has_full_snapshot=u.type===Pt.FullSnapshot);var d=n.isEmpty?'{"records":[':",";n.write(d+JSON.stringify(u),function(f){i+=f,l(i)})}function c(u){if(n.isEmpty)throw new Error("Empty segment flushed");n.write("],".concat(JSON.stringify(o).slice(1),`
`)),n.finish(function(l){Pb(o.view.id,l.rawBytesCount),u(o,l)})}return{addRecord:s,flush:c}}var rL=5*Le,pd=6e4;function Ph(e,t,r,n,i,a){return nL(e,function(){return iL(t.applicationId,r,n)},i,a)}function nL(e,t,r,n){var i={status:0,nextSegmentCreationReason:"init"},a=e.subscribe(2,function(){s("view_change")}).unsubscribe,o=e.subscribe(11,function(c){s(c.reason)}).unsubscribe;function s(c){i.status===1&&(i.segment.flush(function(u,l){var d=Zb(l.output,u,l.rawBytesCount);rc(c)?r.sendOnExit(d):r.send(d)}),ct(i.expirationTimeoutId)),c!=="stop"?i={status:0,nextSegmentCreationReason:c}:i={status:2}}return{addRecord:function(c){if(i.status!==2){if(i.status===0){var u=t();if(!u)return;i={status:1,segment:Qb({encoder:n,context:u,creationReason:i.nextSegmentCreationReason}),expirationTimeoutId:De(function(){s("segment_duration_limit")},rL)}}i.segment.addRecord(c,function(l){l>pd&&s("segment_bytes_limit")})}},stop:function(){s("stop"),a(),o()}}}function iL(e,t,r){var n=t.findTrackedSession(),i=r.findView();if(!(!n||!i))return{application:{id:e},session:{id:n.id},view:{id:i.id}}}function eT(e){var t=jr();return{addRecord:function(r){var n=e.findView();t.send("record",r,n.id)}}}function tT(e,t,r,n,i,a){var o=[],s=function(f){e.notify(14,{error:f}),pr("Error reported to customer",{"error.message":f.message})},c=a||xo(t.sessionReplayEndpointBuilder,pd,s),u;if(mr())u=eT(n).addRecord;else{var l=Ph(e,t,r,n,c,i);u=l.addRecord,o.push(l.stop)}var d=Lh({emit:u,configuration:t,lifeCycle:e,viewHistory:n}).stop;return o.push(d),{stop:function(){o.forEach(function(f){return f()})}}}function xc(e,t,r){var n=0,i=[],a,o=0,s=[],c=_e(e,t,"message",function(d){var f=d.data;if(!(f.type!=="wrote"||f.streamId!==r)){n+=f.additionalBytesCount,i.push(f.result),a=f.trailer;var S=s.shift();S&&S.id===f.id?S.writeCallback?S.writeCallback(f.result.byteLength):S.finishCallback&&S.finishCallback():(c(),pr("Worker responses received out of order."))}}).stop;function u(){var d=i.length===0?new Uint8Array(0):Ry(i.concat(a)),f={rawBytesCount:n,output:d,outputBytesCount:d.byteLength,encoding:"deflate"};return n=0,i=[],f}function l(){o>0&&(t.postMessage({action:"reset",streamId:r}),o=0)}return{isAsync:!0,get isEmpty(){return o===0},write:function(d,f){t.postMessage({action:"write",id:o,data:d,streamId:r}),s.push({id:o,writeCallback:f,data:d}),o+=1},finish:function(d){l(),s.length?(s.forEach(function(f){delete f.writeCallback}),s[s.length-1].finishCallback=function(){return d(u())}):d(u())},finishSync:function(){l();var d=s.map(function(f){return delete f.writeCallback,delete f.finishCallback,f.data}).join("");return j(u(),{pendingData:d})},estimateEncodedBytesCount:function(d){return d.length/8},stop:function(){c()}}}var aL=30*Le;function rT(e){return new Worker(e.workerUrl||URL.createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},U=function(t,e,a){var n,r,s=new Array(16),h=0;for(n=1;n<=i;n++)s[n]=h=h+a[n-1]<<1;for(r=0;r<=e;r++){var l=t[2*r+1];0!==l&&(t[2*r]=A(s[l]++,l))}},I=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},B=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},S=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&E(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!E(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},C=function(t,e,n){var r,i,l,_,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(l=f[i],x(t,l+a+1,e),0!==(_=s[l])&&(i-=c[l],z(t,i,_)),r--,l=y(r),x(t,l,n),0!==(_=h[l])&&(r-=v[l],z(t,r,_)))}while(o<t.last_lit);x(t,256,e)},D=function(t,e){var a,n,r,s=e.dyn_tree,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,_=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<_;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,l&&(t.static_len-=h[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)S(t,s,a);r=_;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,S(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,h,l,_=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(_[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=_[2*_[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),_[2*n+1]=s,n>o||(t.bl_count[s]++,h=0,n>=c&&(h=f[n-c]),l=_[2*n],t.opt_len+=l*(s+h),u&&(t.static_len+=l*(d[2*n+1]+h)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(_[2*r+1]!==s&&(t.opt_len+=(s-_[2*r+1])*_[2*r],_[2*r+1]=s),n--)}}(t,e),U(s,o,t.bl_count)},j=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},M=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{x(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),h--),x(t,16,t.bl_tree),z(t,h-3,2)):h<=10?(x(t,17,t.bl_tree),z(t,h-3,3)):(x(t,18,t.bl_tree),z(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},L=!1,T=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){B(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},H=function(t,e,n,r){var i,s,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),D(t,t.l_desc),D(t,t.d_desc),h=function(t){var e;for(j(t,t.dyn_ltree,t.l_desc.max_code),j(t,t.dyn_dtree,t.d_desc.max_code),D(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?T(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),C(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*_[r]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),C(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&B(t)},R={_tr_init:function(t){L||(!function(){var t,e,a,_,m,y=new Array(16);for(a=0,_=0;_<28;_++)for(c[_]=a,t=0;t<1<<s[_];t++)f[a++]=_;for(f[a-1]=_,m=0,_=0;_<16;_++)for(v[_]=m,t=0;t<1<<h[_];t++)u[m++]=_;for(m>>=7;_<r;_++)for(v[_]=m<<7,t=0;t<1<<h[_]-7;t++)u[256+m++]=_;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(U(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,h,0,r,i),w=new b(new Array(0),l,0,19,7)}(),L=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,I(t)},_tr_stored_block:T,_tr_flush_block:H,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},K=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},N=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),O=function(t,e,a,n){var r=N,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},q={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F=0,G=2,J=3,P=4,Q=0,V=1,W=-1,X=0,Y=8,Z=R._tr_init,$=R._tr_stored_block,tt=R._tr_flush_block,et=R._tr_tally,at=R._tr_align,nt=F,rt=1,it=J,st=P,ht=5,lt=Q,_t=V,ot=-2,dt=-3,ut=-5,ft=W,ct=1,pt=2,gt=3,wt=4,vt=X,bt=2,mt=Y,yt=258,kt=262,zt=103,xt=113,At=666,Ut=function(t,e){return t.msg=q[e],e},It=function(t){return(t<<1)-(t>4?9:0)},Bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},Et=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},St=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Ct=function(t,e){tt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,St(t.strm)},Dt=function(t,e){t.pending_buf[t.pending++]=e},jt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Mt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-kt?t.strstart-(t.w_size-kt):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+yt,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=yt-(u-i),i=u-yt,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},Lt=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-kt)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=K(s.adler,h,o,l):2===s.state.wrap&&(s.adler=O(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Et(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Et(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<kt&&0!==t.strm.avail_in)},Tt=function(t,e){for(var a,n;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a)),t.match_length>=3)if(n=et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Et(t,t.ins_h,t.window[t.strstart+1]);else n=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,e){for(var a,n,r;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a),t.match_length<=5&&(t.strategy===ct||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ct(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=et(t,0,t.window[t.strstart-1]))&&Ct(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Kt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Lt(t),0===t.lookahead&&e===nt)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ct(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-kt&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ct(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Tt),new Rt(4,5,16,8,Tt),new Rt(4,6,32,32,Tt),new Rt(4,4,16,16,Ht),new Rt(8,16,32,32,Ht),new Rt(8,16,128,128,Ht),new Rt(8,32,128,256,Ht),new Rt(32,128,258,1024,Ht),new Rt(32,258,258,4096,Ht)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ot=function(t){if(!t||!t.state)return Ut(t,ot);t.total_in=t.total_out=0,t.data_type=bt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:xt,t.adler=2===e.wrap?0:1,e.last_flush=nt,Z(e),lt},qt=function(t){var e,a=Ot(t);return a===lt&&((e=t.state).window_size=2*e.w_size,Bt(e.head),e.max_lazy_match=Kt[e.level].max_lazy,e.good_match=Kt[e.level].good_length,e.nice_match=Kt[e.level].nice_length,e.max_chain_length=Kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Ft=function(t,e,a,n,r,i){if(!t)return ot;var s=1;if(e===ft&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==mt||n<8||n>15||e<0||e>9||i<0||i>wt)return Ut(t,ot);8===n&&(n=9);var h=new Nt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,qt(t)},Gt={deflateInit:function(t,e){return Ft(t,e,mt,15,8,vt)},deflateInit2:Ft,deflateReset:qt,deflateResetKeep:Ot,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?ot:(t.state.gzhead=e,lt):ot},deflate:function(t,e){var a,n;if(!t||!t.state||e>ht||e<0)return t?Ut(t,ot):ot;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===At&&e!==st)return Ut(t,0===t.avail_out?ut:ot);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Dt(r,31),Dt(r,139),Dt(r,8),r.gzhead?(Dt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Dt(r,255&r.gzhead.time),Dt(r,r.gzhead.time>>8&255),Dt(r,r.gzhead.time>>16&255),Dt(r,r.gzhead.time>>24&255),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Dt(r,255&r.gzhead.extra.length),Dt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=O(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,3),r.status=xt);else{var s=mt+(r.w_bits-8<<4)<<8;s|=(r.strategy>=pt||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=xt,jt(r,s),0!==r.strstart&&(jt(r,t.adler>>>16),jt(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending!==r.pending_buf_size));)Dt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=zt)}else r.status=zt;if(r.status===zt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&St(t),r.pending+2<=r.pending_buf_size&&(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),t.adler=0,r.status=xt)):r.status=xt),0!==r.pending){if(St(t),0===t.avail_out)return r.last_flush=-1,lt}else if(0===t.avail_in&&It(e)<=It(i)&&e!==st)return Ut(t,ut);if(r.status===At&&0!==t.avail_in)return Ut(t,ut);if(0!==t.avail_in||0!==r.lookahead||e!==nt&&r.status!==At){var h=r.strategy===pt?function(t,e){for(var a;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===nt)return 1;break}if(t.match_length=0,a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===gt?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=yt){if(Lt(t),t.lookahead<=yt&&e===nt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+yt;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=yt-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):Kt[r.level].func(r,e);if(3!==h&&4!==h||(r.status=At),1===h||3===h)return 0===t.avail_out&&(r.last_flush=-1),lt;if(2===h&&(e===rt?at(r):e!==ht&&($(r,0,0,!1),e===it&&(Bt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),St(t),0===t.avail_out))return r.last_flush=-1,lt}return e!==st?lt:r.wrap<=0?_t:(2===r.wrap?(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),Dt(r,t.adler>>16&255),Dt(r,t.adler>>24&255),Dt(r,255&t.total_in),Dt(r,t.total_in>>8&255),Dt(r,t.total_in>>16&255),Dt(r,t.total_in>>24&255)):(jt(r,t.adler>>>16),jt(r,65535&t.adler)),St(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?lt:_t)},deflateEnd:function(t){if(!t||!t.state)return ot;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==zt&&e!==xt&&e!==At?Ut(t,ot):(t.state=null,e===xt?Ut(t,dt):lt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return ot;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return ot;if(1===r&&(t.adler=K(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(Bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=Et(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,lt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Jt=new Uint8Array(256),Pt=0;Pt<256;Pt++)Jt[Pt]=Pt>=252?6:Pt>=248?5:Pt>=240?4:Pt>=224?3:Pt>=192?2:1;Jt[254]=Jt[254]=1;var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,Wt=F,Xt=G,Yt=J,Zt=P,$t=Q,te=V,ee=W,ae=X,ne=Y;function re(){this.options={level:ee,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var e=Gt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==$t)throw new Error(q[e]);if(t.header&&Gt.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Vt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Gt.deflateSetDictionary(this.strm,a))!==$t)throw new Error(q[e]);this._dict_set=!0}}function ie(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function se(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}re.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Zt:Wt,"[object ArrayBuffer]"===Vt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Xt||n===Yt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Gt.deflate(r,n))===te)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Gt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===$t;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===$t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.35.1"};case"write":var n=e.get(a.streamId);n||(n=new re,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,G),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:se(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){ie(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){ie(e,t)}}()}();'])))}var dt={status:0};function kc(e,t,r,n){switch(n===void 0&&(n=rT),dt.status===0&&oL(e,t,n),dt.status){case 1:return dt.initializationFailureCallbacks.push(r),dt.worker;case 3:return dt.worker}}function md(){return dt.status}function oL(e,t,r){r===void 0&&(r=rT);try{var n=r(e),i=_e(e,n,"error",function(s){Uh(e,t,s)}).stop,a=_e(e,n,"message",function(s){var c=s.data;c.type==="errored"?Uh(e,t,c.error,c.streamId):c.type==="initialized"&&cL(c.version)}).stop;n.postMessage({action:"init"}),De(function(){return sL(t)},aL);var o=function(){i(),a()};dt={status:1,worker:n,stop:o,initializationFailureCallbacks:[]}}catch(s){Uh(e,t,s)}}function sL(e){dt.status===1&&(se.error("".concat(e," failed to start: a timeout occurred while initializing the Worker")),dt.initializationFailureCallbacks.forEach(function(t){return t()}),dt={status:2})}function cL(e){dt.status===1&&(dt={status:3,worker:dt.worker,stop:dt.stop,version:e})}function Uh(e,t,r,n){if(dt.status===1||dt.status===0){if(se.error("".concat(t," failed to start: an error occurred while creating the Worker:"),r),r instanceof Event||r instanceof Error&&uL(r.message)){var i=void 0;e.workerUrl?i="Please make sure the Worker URL ".concat(e.workerUrl," is correct and CSP is correctly configured."):i="Please make sure CSP is correctly configured.",se.error("".concat(i," See documentation at ").concat(Ji,"/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else Ci(r);dt.status===1&&dt.initializationFailureCallbacks.forEach(function(a){return a()}),dt={status:2}}else Ci(r,{worker_version:dt.status===3&&dt.version,stream_id:n})}function uL(e){return it(e,"Content Security Policy")||it(e,"requires 'TrustedScriptURL'")}function hd(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function nT(e,t,r,n){var i=t.findTrackedSession(),a=lL(i,n),o=r.findView();return hh(e,{viewContext:o,errorType:a,session:i})}function lL(e,t){if(!hd())return"browser-not-supported";if(!e)return"rum-not-tracked";if(e.sessionReplay===0)return"incorrect-session-plan";if(!t)return"replay-not-started"}function iT(e,t,r,n,i,a){var o=0;t.subscribe(9,function(){(o===2||o===3)&&(c(),o=1)}),t.subscribe(11,function(l){l.reason===Qn.UNLOADING&&c()}),t.subscribe(10,function(){o===1&&s()});function s(l){var d=r.findTrackedSession();if(dL(d,l)){o=1;return}fL(o)||(o=2,ca(e,"interactive",function(){if(o===2){var f=a();if(!f){o=0;return}u=i(t,e,r,n,f).stop,o=3}}),pL(d,l)&&r.setForcedReplay())}function c(){o!==0&&o===3&&u?.(),o=0}var u;return{start:s,stop:c,getSessionReplayLink:function(){return nT(e,r,n,o!==0)},isRecording:function(){return o===3}}}function dL(e,t){return!e||e.sessionReplay===0&&(!t||!t.force)}function fL(e){return e===2||e===3}function pL(e,t){return t&&t.force&&e.sessionReplay===0}function aT(){var e=0;return{strategy:{start:function(){e=1},stop:function(){e=2},isRecording:function(){return!1},getSessionReplayLink:fe},shouldStartImmediately:function(t){return e===1||e===0&&!t.startSessionReplayRecordingManually}}}function oT(e,t){if(mr()&&!ko("records")||!hd())return{start:fe,stop:fe,getReplayStats:function(){},onRumStart:fe,isRecording:function(){return!1},getSessionReplayLink:function(){}};var r=aT(),n=r.strategy,i=r.shouldStartImmediately;return{start:function(o){return n.start(o)},stop:function(){return n.stop()},getSessionReplayLink:function(){return n.getSessionReplayLink()},onRumStart:a,isRecording:function(){return md()===3&&n.isRecording()},getReplayStats:function(o){return md()===3?Ub(o):void 0}};function a(o,s,c,u,l){var d;function f(){return d||(l??(l=kc(s,"Datadog Session Replay",function(){n.stop()},t)),l&&(d=xc(s,l,1))),d}n=iT(s,o,c,u,e,f),i(s)&&n.start()}}var mL=oT(tT),Fh=jm(mh,mL,{startDeflateWorker:kc,createDeflateEncoder:xc});Em(Br(),"DD_RUM",Fh);function sT(){let e=window.DATADOG_APP_ID,t=window.DATADOG_CLIENT_TOKEN,r=window.ENVIRONMENT||"development";if(!e||!t){console.log("Datadog not configured, skipping Datadog RUM initialization");return}try{Fh.init({applicationId:e,clientToken:t,site:"datadoghq.eu",service:"id-100",env:r,sessionSampleRate:100,sessionReplaySampleRate:r==="production"?20:0,trackBfcacheViews:!0,defaultPrivacyLevel:"mask-user-input"}),console.log("Datadog RUM initialized successfully")}catch(n){console.error("Failed to initialize Datadog RUM:",n)}}function cT(){let e=document.querySelector(".brand-full"),t=document.querySelector(".brand-compact");e&&sessionStorage.getItem("brandAnimated")==="1"&&(e.classList.add("reverse-animated"),sessionStorage.setItem("brandAnimated","0"),setTimeout(()=>{e.classList.remove("reverse-animated")},800)),t&&sessionStorage.getItem("brandAnimated")!=="1"&&(t.classList.add("animated"),sessionStorage.setItem("brandAnimated","1"))}function gd(e){let r=Array.from((e||document).querySelectorAll("img.lazy"));if(r.length===0)return;let n=i=>{let a=i.getAttribute("data-lqip");a&&(!i.getAttribute("src")||i.getAttribute("src")?.[0]==="#")&&(i.src=a)};if(r.forEach(i=>{if(i.dataset.lazyInitialized)return;i.dataset.lazyInitialized="1";let a=()=>{let s=i.getAttribute("data-src");try{let c=i.currentSrc||i.src||"";(!s||c===s)&&i.classList.add("loaded")}catch{i.classList.add("loaded")}},o=()=>{i.classList.add("loaded")};i.addEventListener("load",a),i.addEventListener("error",o),n(i),i.complete&&(i.naturalWidth&&i.naturalWidth>0?a():o())}),"IntersectionObserver"in window){let i=new IntersectionObserver((a,o)=>{a.forEach(s=>{if(!s.isIntersecting)return;let c=s.target,u=c.getAttribute("data-src");u&&c.src!==u&&(c.src=u),o.unobserve(c)})},{root:null,rootMargin:"200px",threshold:.01});r.forEach(a=>{a.classList.contains("loaded")||i.observe(a)})}else r.forEach(i=>{let a=i.getAttribute("data-src");a&&!i.classList.contains("loaded")&&i.src!==a&&(i.src=a)})}function uT(){let e=document.getElementById("drawer-panel"),t=document.getElementById("drawer-backdrop");if(!e||!t)return;function r(i){let a=e.dataset.drawerPushed==="true";document.body.classList.remove("drawer-open"),e.innerHTML="",e.setAttribute("aria-hidden","true"),t.setAttribute("aria-hidden","true"),i&&a&&history.back(),delete e.dataset.drawerPushed}function n(i,a,o,s){e.innerHTML=a,e.setAttribute("aria-hidden","false"),t.setAttribute("aria-hidden","false"),document.body.classList.add("drawer-open");let c=e.querySelector(".drawer-close");c&&c.addEventListener("click",()=>r(!0),{once:!0});let u=e.querySelector(".drawer-back-link");u&&u.addEventListener("click",l=>{l.preventDefault(),r(!0)},{once:!0});try{gd(e),Array.from(e.querySelectorAll("img.lazy")).forEach(l=>{let d=l.getAttribute("data-src");d&&l.src!==d&&(l.src=d)})}catch(l){console.warn("initLazyImages failed",l)}if(o){let l=s?`/id/${i}?page=${s}`:`/id/${i}`;history.pushState({drawer:!0,number:i,page:s},"",l),e.dataset.drawerPushed="true"}else e.dataset.drawerPushed="false"}t.addEventListener("click",()=>r(!0)),document.addEventListener("click",i=>{let a=i.target.closest(".id-card");if(!a)return;i.preventDefault();let o=a.getAttribute("href")||a.querySelector("a")?.getAttribute("href");if(!o)return;let s=o.match(/\/id\/(\d+)/);if(!s)return;let c=s[1],l=new URL(o,window.location.origin).searchParams.get("page"),d=l?`/id/${c}?partial=1&page=${l}`:`/id/${c}?partial=1`;fetch(d).then(f=>{if(!f.ok)throw new Error("fetch failed");return f.text()}).then(f=>n(parseInt(c),f,!0,l)).catch(f=>{console.error(f),window.location.href=o})}),document.addEventListener("click",i=>{let a=i.target.closest(".drawer-link");if(!a)return;i.preventDefault();let o=a.getAttribute("href");if(!o)return;let s=o+(o.includes("?")?"&partial=1":"?partial=1");fetch(s).then(c=>{if(!c.ok)throw new Error("fetch failed");return c.text()}).then(c=>n(0,c,!1,null)).catch(c=>{console.error(c),window.location.href=o})}),window.addEventListener("popstate",i=>{if(document.body.classList.contains("drawer-open")){let o=location.pathname.match(/\/id\/(\d+)/);if(o){let s=o[1],c=new URLSearchParams(location.search).get("page"),u=c?`/id/${s}?partial=1&page=${c}`:`/id/${s}?partial=1`;fetch(u).then(l=>l.text()).then(l=>n(parseInt(s),l,!1,c))}else r(!1)}else{let a=location.pathname.match(/\/id\/(\d+)/);if(a&&document.querySelector(".id-grid")){let o=a[1],s=new URLSearchParams(location.search).get("page"),c=s?`/id/${o}?partial=1&page=${s}`:`/id/${o}?partial=1`;fetch(c).then(u=>u.text()).then(u=>n(parseInt(o),u,!1,s))}}})}function lT(){document.addEventListener("submit",e=>{let t=e.target;if(!t||t.id!=="requestBagForm")return;e.preventDefault();let r=t.querySelector('input[name="email"]'),n=t.querySelector("button[type=submit]"),i=t.querySelector("#requestResult");if(!r||!n||!i)return;let a=r.value.trim();if(!a||!a.includes("@")){i.style.display="block",i.style.color="#d32f2f",i.innerText="Bitte gib eine g\xFCltige E\u2011Mail an.";return}n.disabled=!0,n.innerText="sende...",Iy("Bag request form submitted","form",{email:a}),fetch("/werkzeug-anfordern",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}).then(o=>o.json()).then(o=>{o.status==="ok"?t.innerHTML='<p style="font-weight:500;">Danke! Wir benachrichtigen dich per E\u2011Mail, sobald ein Werkzeug verf\xFCgbar ist.</p>':(i.style.display="block",i.style.color="#d32f2f",i.innerText=o.error||"Etwas ging schief.",n.disabled=!1,n.innerText="anfragen")}).catch(o=>{Ty(o,{context:"bag-request-form",email:a}),i.style.display="block",i.style.color="#d32f2f",i.innerText="Netzwerkfehler. Bitte versuche es erneut.",n.disabled=!1,n.innerText="anfragen"})})}var wT=$T(fT());var Pa={};VT(Pa,{BRAND:()=>HL,DIRTY:()=>Sa,EMPTY_PATH:()=>_L,INVALID:()=>oe,NEVER:()=>I1,OK:()=>jt,ParseStatus:()=>Ut,Schema:()=>be,ZodAny:()=>Li,ZodArray:()=>oi,ZodBigInt:()=>ba,ZodBoolean:()=>Ta,ZodBranded:()=>Rc,ZodCatch:()=>Da,ZodDate:()=>Ia,ZodDefault:()=>Ma,ZodDiscriminatedUnion:()=>Sd,ZodEffects:()=>Yr,ZodEnum:()=>Na,ZodError:()=>hr,ZodFirstPartyTypeKind:()=>le,ZodFunction:()=>bd,ZodIntersection:()=>Aa,ZodIssueCode:()=>L,ZodLazy:()=>Ra,ZodLiteral:()=>Ca,ZodMap:()=>Uo,ZodNaN:()=>Bo,ZodNativeEnum:()=>Oa,ZodNever:()=>ln,ZodNull:()=>xa,ZodNullable:()=>Dn,ZodNumber:()=>Ea,ZodObject:()=>gr,ZodOptional:()=>Gr,ZodParsedType:()=>q,ZodPipeline:()=>Cc,ZodPromise:()=>Pi,ZodReadonly:()=>La,ZodRecord:()=>Ed,ZodSchema:()=>be,ZodSet:()=>Fo,ZodString:()=>Di,ZodSymbol:()=>Lo,ZodTransformer:()=>Yr,ZodTuple:()=>Mn,ZodType:()=>be,ZodUndefined:()=>wa,ZodUnion:()=>ka,ZodUnknown:()=>ai,ZodVoid:()=>Po,addIssueToContext:()=>H,any:()=>KL,array:()=>QL,bigint:()=>jL,boolean:()=>TT,coerce:()=>T1,custom:()=>ST,date:()=>qL,datetimeRegex:()=>_T,defaultErrorMap:()=>ni,discriminatedUnion:()=>n1,effect:()=>h1,enum:()=>f1,function:()=>u1,getErrorMap:()=>Oo,getParsedType:()=>On,instanceof:()=>zL,intersection:()=>i1,isAborted:()=>_d,isAsync:()=>Mo,isDirty:()=>yd,isValid:()=>Mi,late:()=>VL,lazy:()=>l1,literal:()=>d1,makeIssue:()=>Ac,map:()=>s1,nan:()=>$L,nativeEnum:()=>p1,never:()=>JL,null:()=>YL,nullable:()=>v1,number:()=>bT,object:()=>e1,objectUtil:()=>Bh,oboolean:()=>b1,onumber:()=>E1,optional:()=>g1,ostring:()=>S1,pipeline:()=>y1,preprocess:()=>_1,promise:()=>m1,quotelessJson:()=>hL,record:()=>o1,set:()=>c1,setErrorMap:()=>vL,strictObject:()=>t1,string:()=>ET,symbol:()=>GL,transformer:()=>h1,tuple:()=>a1,undefined:()=>WL,union:()=>r1,unknown:()=>XL,util:()=>xe,void:()=>ZL});var xe;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},e.getValidEnumValues=i=>{let a=e.objectKeys(i).filter(s=>typeof i[i[s]]!="number"),o={};for(let s of a)o[s]=i[s];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(let o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(xe||(xe={}));var Bh;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Bh||(Bh={}));var q=xe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),On=e=>{switch(typeof e){case"undefined":return q.undefined;case"string":return q.string;case"number":return Number.isNaN(e)?q.nan:q.number;case"boolean":return q.boolean;case"function":return q.function;case"bigint":return q.bigint;case"symbol":return q.symbol;case"object":return Array.isArray(e)?q.array:e===null?q.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?q.promise:typeof Map<"u"&&e instanceof Map?q.map:typeof Set<"u"&&e instanceof Set?q.set:typeof Date<"u"&&e instanceof Date?q.date:q.object;default:return q.unknown}};var L=xe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hL=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),hr=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,c=0;for(;c<o.path.length;){let u=o.path[c];c===o.path.length-1?(s[u]=s[u]||{_errors:[]},s[u]._errors.push(r(o))):s[u]=s[u]||{_errors:[]},s=s[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)if(i.path.length>0){let a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};hr.create=e=>new hr(e);var gL=(e,t)=>{let r;switch(e.code){case L.invalid_type:e.received===q.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case L.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,xe.jsonStringifyReplacer)}`;break;case L.unrecognized_keys:r=`Unrecognized key(s) in object: ${xe.joinValues(e.keys,", ")}`;break;case L.invalid_union:r="Invalid input";break;case L.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xe.joinValues(e.options)}`;break;case L.invalid_enum_value:r=`Invalid enum value. Expected ${xe.joinValues(e.options)}, received '${e.received}'`;break;case L.invalid_arguments:r="Invalid function arguments";break;case L.invalid_return_type:r="Invalid function return type";break;case L.invalid_date:r="Invalid date";break;case L.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:xe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case L.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case L.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case L.custom:r="Invalid input";break;case L.invalid_intersection_types:r="Intersection results could not be merged";break;case L.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case L.not_finite:r="Number must be finite";break;default:r=t.defaultError,xe.assertNever(e)}return{message:r}},ni=gL;var pT=ni;function vL(e){pT=e}function Oo(){return pT}var Ac=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let s="",c=n.filter(u=>!!u).slice().reverse();for(let u of c)s=u(o,{data:t,defaultError:s}).message;return{...i,path:a,message:s}},_L=[];function H(e,t){let r=Oo(),n=Ac({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ni?void 0:ni].filter(i=>!!i)});e.common.issues.push(n)}var Ut=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return oe;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let a=await i.key,o=await i.value;n.push({key:a,value:o})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return oe;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}},oe=Object.freeze({status:"aborted"}),Sa=e=>({status:"dirty",value:e}),jt=e=>({status:"valid",value:e}),_d=e=>e.status==="aborted",yd=e=>e.status==="dirty",Mi=e=>e.status==="valid",Mo=e=>typeof Promise<"u"&&e instanceof Promise;var J;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(J||(J={}));var Wr=class{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},mT=(e,t)=>{if(Mi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new hr(e.common.issues);return this._error=r,this._error}}};function ye(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>{let{message:c}=e;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:c??n??s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:c??r??s.defaultError}},description:i}}var be=class{get description(){return this._def.description}_getType(t){return On(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:On(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ut,ctx:{common:t.parent.common,data:t.data,parsedType:On(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Mo(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){let n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:On(t)},i=this._parseSync({data:t,path:n.path,parent:n});return mT(n,i)}"~validate"(t){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:On(t)};if(!this["~standard"].async)try{let n=this._parseSync({data:t,path:[],parent:r});return Mi(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>Mi(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:On(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Mo(i)?i:Promise.resolve(i));return mT(n,a)}refine(t,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let o=t(i),s=()=>a.addIssue({code:L.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Yr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Gr.create(this,this._def)}nullable(){return Dn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oi.create(this)}promise(){return Pi.create(this,this._def)}or(t){return ka.create([this,t],this._def)}and(t){return Aa.create(this,t,this._def)}transform(t){return new Yr({...ye(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Ma({...ye(this._def),innerType:this,defaultValue:r,typeName:le.ZodDefault})}brand(){return new Rc({typeName:le.ZodBranded,type:this,...ye(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Da({...ye(this._def),innerType:this,catchValue:r,typeName:le.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Cc.create(this,t)}readonly(){return La.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},yL=/^c[^\s-]{8,}$/i,SL=/^[0-9a-z]+$/,EL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,TL=/^[a-z0-9_-]{21}$/i,IL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Hh,AL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,RL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,CL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,NL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,OL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ML=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DL=new RegExp(`^${gT}$`);function vT(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function LL(e){return new RegExp(`^${vT(e)}$`)}function _T(e){let t=`${gT}T${vT(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function PL(e,t){return!!((t==="v4"||!t)&&AL.test(e)||(t==="v6"||!t)&&CL.test(e))}function UL(e,t){if(!IL.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function FL(e,t){return!!((t==="v4"||!t)&&RL.test(e)||(t==="v6"||!t)&&NL.test(e))}var Di=class e extends be{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==q.string){let a=this._getOrReturnCtx(t);return H(a,{code:L.invalid_type,expected:q.string,received:a.parsedType}),oe}let n=new Ut,i;for(let a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:L.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:L.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=t.data.length>a.value,s=t.data.length<a.value;(o||s)&&(i=this._getOrReturnCtx(t,i),o?H(i,{code:L.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&H(i,{code:L.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")xL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"email",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Hh||(Hh=new RegExp(kL,"u")),Hh.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"emoji",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")bL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"uuid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")TL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"nanoid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")yL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"cuid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")SL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"cuid2",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")EL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"ulid",code:L.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),H(i,{validation:"url",code:L.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"regex",code:L.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?_T(a).test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?DL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?LL(a).test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{code:L.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?wL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"duration",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?PL(t.data,a.version)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"ip",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?UL(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"jwt",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?FL(t.data,a.version)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"cidr",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?OL.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"base64",code:L.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?ML.test(t.data)||(i=this._getOrReturnCtx(t,i),H(i,{validation:"base64url",code:L.invalid_string,message:a.message}),n.dirty()):xe.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:L.invalid_string,...J.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...J.errToObj(t)})}url(t){return this._addCheck({kind:"url",...J.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...J.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...J.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...J.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...J.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...J.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...J.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...J.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...J.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...J.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...J.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...J.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...J.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...J.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...J.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...J.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...J.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...J.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...J.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...J.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...J.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...J.errToObj(r)})}nonempty(t){return this.min(1,J.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Di.create=e=>new Di({checks:[],typeName:le.ZodString,coerce:e?.coerce??!1,...ye(e)});function BL(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}var Ea=class e extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==q.number){let a=this._getOrReturnCtx(t);return H(a,{code:L.invalid_type,expected:q.number,received:a.parsedType}),oe}let n,i=new Ut;for(let a of this._def.checks)a.kind==="int"?xe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:L.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?BL(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),H(n,{code:L.not_finite,message:a.message}),i.dirty()):xe.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,J.toString(r))}gt(t,r){return this.setLimit("min",t,!1,J.toString(r))}lte(t,r){return this.setLimit("max",t,!0,J.toString(r))}lt(t,r){return this.setLimit("max",t,!1,J.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:J.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:J.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:J.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:J.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Ea.create=e=>new Ea({checks:[],typeName:le.ZodNumber,coerce:e?.coerce||!1,...ye(e)});var ba=class e extends be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==q.bigint)return this._getInvalidInput(t);let n,i=new Ut;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),H(n,{code:L.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):xe.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return H(r,{code:L.invalid_type,expected:q.bigint,received:r.parsedType}),oe}gte(t,r){return this.setLimit("min",t,!0,J.toString(r))}gt(t,r){return this.setLimit("min",t,!1,J.toString(r))}lte(t,r){return this.setLimit("max",t,!0,J.toString(r))}lt(t,r){return this.setLimit("max",t,!1,J.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:J.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:J.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};ba.create=e=>new ba({checks:[],typeName:le.ZodBigInt,coerce:e?.coerce??!1,...ye(e)});var Ta=class extends be{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==q.boolean){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.boolean,received:n.parsedType}),oe}return jt(t.data)}};Ta.create=e=>new Ta({typeName:le.ZodBoolean,coerce:e?.coerce||!1,...ye(e)});var Ia=class e extends be{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==q.date){let a=this._getOrReturnCtx(t);return H(a,{code:L.invalid_type,expected:q.date,received:a.parsedType}),oe}if(Number.isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return H(a,{code:L.invalid_date}),oe}let n=new Ut,i;for(let a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:L.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),H(i,{code:L.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):xe.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:J.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:J.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Ia.create=e=>new Ia({checks:[],coerce:e?.coerce||!1,typeName:le.ZodDate,...ye(e)});var Lo=class extends be{_parse(t){if(this._getType(t)!==q.symbol){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.symbol,received:n.parsedType}),oe}return jt(t.data)}};Lo.create=e=>new Lo({typeName:le.ZodSymbol,...ye(e)});var wa=class extends be{_parse(t){if(this._getType(t)!==q.undefined){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.undefined,received:n.parsedType}),oe}return jt(t.data)}};wa.create=e=>new wa({typeName:le.ZodUndefined,...ye(e)});var xa=class extends be{_parse(t){if(this._getType(t)!==q.null){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.null,received:n.parsedType}),oe}return jt(t.data)}};xa.create=e=>new xa({typeName:le.ZodNull,...ye(e)});var Li=class extends be{constructor(){super(...arguments),this._any=!0}_parse(t){return jt(t.data)}};Li.create=e=>new Li({typeName:le.ZodAny,...ye(e)});var ai=class extends be{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jt(t.data)}};ai.create=e=>new ai({typeName:le.ZodUnknown,...ye(e)});var ln=class extends be{_parse(t){let r=this._getOrReturnCtx(t);return H(r,{code:L.invalid_type,expected:q.never,received:r.parsedType}),oe}};ln.create=e=>new ln({typeName:le.ZodNever,...ye(e)});var Po=class extends be{_parse(t){if(this._getType(t)!==q.undefined){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.void,received:n.parsedType}),oe}return jt(t.data)}};Po.create=e=>new Po({typeName:le.ZodVoid,...ye(e)});var oi=class e extends be{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==q.array)return H(r,{code:L.invalid_type,expected:q.array,received:r.parsedType}),oe;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,s=r.data.length<i.exactLength.value;(o||s)&&(H(r,{code:o?L.too_big:L.too_small,minimum:s?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(H(r,{code:L.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(H(r,{code:L.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>i.type._parseAsync(new Wr(r,o,r.path,s)))).then(o=>Ut.mergeArray(n,o));let a=[...r.data].map((o,s)=>i.type._parseSync(new Wr(r,o,r.path,s)));return Ut.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:J.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:J.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:J.toString(r)}})}nonempty(t){return this.min(1,t)}};oi.create=(e,t)=>new oi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...ye(t)});function Do(e){if(e instanceof gr){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Gr.create(Do(n))}return new gr({...e._def,shape:()=>t})}else return e instanceof oi?new oi({...e._def,type:Do(e.element)}):e instanceof Gr?Gr.create(Do(e.unwrap())):e instanceof Dn?Dn.create(Do(e.unwrap())):e instanceof Mn?Mn.create(e.items.map(t=>Do(t))):e}var gr=class e extends be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=xe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==q.object){let u=this._getOrReturnCtx(t);return H(u,{code:L.invalid_type,expected:q.object,received:u.parsedType}),oe}let{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof ln&&this._def.unknownKeys==="strip"))for(let u in i.data)o.includes(u)||s.push(u);let c=[];for(let u of o){let l=a[u],d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Wr(i,d,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ln){let u=this._def.unknownKeys;if(u==="passthrough")for(let l of s)c.push({key:{status:"valid",value:l},value:{status:"valid",value:i.data[l]}});else if(u==="strict")s.length>0&&(H(i,{code:L.unrecognized_keys,keys:s}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let l of s){let d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Wr(i,d,i.path,l)),alwaysSet:l in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let l of c){let d=await l.key,f=await l.value;u.push({key:d,value:f,alwaysSet:l.alwaysSet})}return u}).then(u=>Ut.mergeObjectSync(n,u)):Ut.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return J.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{let i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:J.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};for(let n of xe.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}omit(t){let r={};for(let n of xe.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new e({...this._def,shape:()=>r})}deepPartial(){return Do(this)}partial(t){let r={};for(let n of xe.objectKeys(this.shape)){let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new e({...this._def,shape:()=>r})}required(t){let r={};for(let n of xe.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Gr;)a=a._def.innerType;r[n]=a}return new e({...this._def,shape:()=>r})}keyof(){return yT(xe.objectKeys(this.shape))}};gr.create=(e,t)=>new gr({shape:()=>e,unknownKeys:"strip",catchall:ln.create(),typeName:le.ZodObject,...ye(t)});gr.strictCreate=(e,t)=>new gr({shape:()=>e,unknownKeys:"strict",catchall:ln.create(),typeName:le.ZodObject,...ye(t)});gr.lazycreate=(e,t)=>new gr({shape:e,unknownKeys:"strip",catchall:ln.create(),typeName:le.ZodObject,...ye(t)});var ka=class extends be{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(let s of a)if(s.result.status==="valid")return s.result;for(let s of a)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(s=>new hr(s.ctx.common.issues));return H(r,{code:L.invalid_union,unionErrors:o}),oe}if(r.common.async)return Promise.all(n.map(async a=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let c of n){let u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!a&&(a={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(c=>new hr(c));return H(r,{code:L.invalid_union,unionErrors:s}),oe}}get options(){return this._def.options}};ka.create=(e,t)=>new ka({options:e,typeName:le.ZodUnion,...ye(t)});var ii=e=>e instanceof Ra?ii(e.schema):e instanceof Yr?ii(e.innerType()):e instanceof Ca?[e.value]:e instanceof Na?e.options:e instanceof Oa?xe.objectValues(e.enum):e instanceof Ma?ii(e._def.innerType):e instanceof wa?[void 0]:e instanceof xa?[null]:e instanceof Gr?[void 0,...ii(e.unwrap())]:e instanceof Dn?[null,...ii(e.unwrap())]:e instanceof Rc||e instanceof La?ii(e.unwrap()):e instanceof Da?ii(e._def.innerType):[],Sd=class e extends be{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.object)return H(r,{code:L.invalid_type,expected:q.object,received:r.parsedType}),oe;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(H(r,{code:L.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let a of r){let o=ii(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of o){if(i.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);i.set(s,a)}}return new e({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...ye(n)})}};function Vh(e,t){let r=On(e),n=On(t);if(e===t)return{valid:!0,data:e};if(r===q.object&&n===q.object){let i=xe.objectKeys(t),a=xe.objectKeys(e).filter(s=>i.indexOf(s)!==-1),o={...e,...t};for(let s of a){let c=Vh(e[s],t[s]);if(!c.valid)return{valid:!1};o[s]=c.data}return{valid:!0,data:o}}else if(r===q.array&&n===q.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let a=0;a<e.length;a++){let o=e[a],s=t[a],c=Vh(o,s);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===q.date&&n===q.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Aa=class extends be{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(a,o)=>{if(_d(a)||_d(o))return oe;let s=Vh(a.value,o.value);return s.valid?((yd(a)||yd(o))&&r.dirty(),{status:r.value,value:s.data}):(H(n,{code:L.invalid_intersection_types}),oe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Aa.create=(e,t,r)=>new Aa({left:e,right:t,typeName:le.ZodIntersection,...ye(r)});var Mn=class e extends be{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.array)return H(n,{code:L.invalid_type,expected:q.array,received:n.parsedType}),oe;if(n.data.length<this._def.items.length)return H(n,{code:L.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&n.data.length>this._def.items.length&&(H(n,{code:L.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((o,s)=>{let c=this._def.items[s]||this._def.rest;return c?c._parse(new Wr(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>Ut.mergeArray(r,o)):Ut.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Mn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mn({items:e,typeName:le.ZodTuple,rest:null,...ye(t)})};var Ed=class e extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.object)return H(n,{code:L.invalid_type,expected:q.object,received:n.parsedType}),oe;let i=[],a=this._def.keyType,o=this._def.valueType;for(let s in n.data)i.push({key:a._parse(new Wr(n,s,n.path,s)),value:o._parse(new Wr(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Ut.mergeObjectAsync(r,i):Ut.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof be?new e({keyType:t,valueType:r,typeName:le.ZodRecord,...ye(n)}):new e({keyType:Di.create(),valueType:t,typeName:le.ZodRecord,...ye(r)})}},Uo=class extends be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.map)return H(n,{code:L.invalid_type,expected:q.map,received:n.parsedType}),oe;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([s,c],u)=>({key:i._parse(new Wr(n,s,n.path,[u,"key"])),value:a._parse(new Wr(n,c,n.path,[u,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let c of o){let u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return oe;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(u.value,l.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let c of o){let u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return oe;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),s.set(u.value,l.value)}return{status:r.value,value:s}}}};Uo.create=(e,t,r)=>new Uo({valueType:t,keyType:e,typeName:le.ZodMap,...ye(r)});var Fo=class e extends be{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==q.set)return H(n,{code:L.invalid_type,expected:q.set,received:n.parsedType}),oe;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(H(n,{code:L.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(H(n,{code:L.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function o(c){let u=new Set;for(let l of c){if(l.status==="aborted")return oe;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}let s=[...n.data.values()].map((c,u)=>a._parse(new Wr(n,c,n.path,u)));return n.common.async?Promise.all(s).then(c=>o(c)):o(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:J.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:J.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Fo.create=(e,t)=>new Fo({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...ye(t)});var bd=class e extends be{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.function)return H(r,{code:L.invalid_type,expected:q.function,received:r.parsedType}),oe;function n(s,c){return Ac({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Oo(),ni].filter(u=>!!u),issueData:{code:L.invalid_arguments,argumentsError:c}})}function i(s,c){return Ac({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Oo(),ni].filter(u=>!!u),issueData:{code:L.invalid_return_type,returnTypeError:c}})}let a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Pi){let s=this;return jt(async function(...c){let u=new hr([]),l=await s._def.args.parseAsync(c,a).catch(S=>{throw u.addIssue(n(c,S)),u}),d=await Reflect.apply(o,this,l);return await s._def.returns._def.type.parseAsync(d,a).catch(S=>{throw u.addIssue(i(d,S)),u})})}else{let s=this;return jt(function(...c){let u=s._def.args.safeParse(c,a);if(!u.success)throw new hr([n(c,u.error)]);let l=Reflect.apply(o,this,u.data),d=s._def.returns.safeParse(l,a);if(!d.success)throw new hr([i(l,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Mn.create(t).rest(ai.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Mn.create([]).rest(ai.create()),returns:r||ai.create(),typeName:le.ZodFunction,...ye(n)})}},Ra=class extends be{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ra.create=(e,t)=>new Ra({getter:e,typeName:le.ZodLazy,...ye(t)});var Ca=class extends be{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return H(r,{received:r.data,code:L.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:t.data}}get value(){return this._def.value}};Ca.create=(e,t)=>new Ca({value:e,typeName:le.ZodLiteral,...ye(t)});function yT(e,t){return new Na({values:e,typeName:le.ZodEnum,...ye(t)})}var Na=class e extends be{_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{expected:xe.joinValues(n),received:r.parsedType,code:L.invalid_type}),oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return H(r,{received:r.data,code:L.invalid_enum_value,options:n}),oe}return jt(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};Na.create=yT;var Oa=class extends be{_parse(t){let r=xe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==q.string&&n.parsedType!==q.number){let i=xe.objectValues(r);return H(n,{expected:xe.joinValues(i),received:n.parsedType,code:L.invalid_type}),oe}if(this._cache||(this._cache=new Set(xe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){let i=xe.objectValues(r);return H(n,{received:n.data,code:L.invalid_enum_value,options:i}),oe}return jt(t.data)}get enum(){return this._def.values}};Oa.create=(e,t)=>new Oa({values:e,typeName:le.ZodNativeEnum,...ye(t)});var Pi=class extends be{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==q.promise&&r.common.async===!1)return H(r,{code:L.invalid_type,expected:q.promise,received:r.parsedType}),oe;let n=r.parsedType===q.promise?r.data:Promise.resolve(r.data);return jt(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Pi.create=(e,t)=>new Pi({type:e,typeName:le.ZodPromise,...ye(t)});var Yr=class extends be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{H(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return oe;let c=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return c.status==="aborted"?oe:c.status==="dirty"?Sa(c.value):r.value==="dirty"?Sa(c.value):c});{if(r.value==="aborted")return oe;let s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?oe:s.status==="dirty"?Sa(s.value):r.value==="dirty"?Sa(s.value):s}}if(i.type==="refinement"){let o=s=>{let c=i.refinement(s,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?oe:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?oe:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Mi(o))return oe;let s=i.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Mi(o)?Promise.resolve(i.transform(o.value,a)).then(s=>({status:r.value,value:s})):oe);xe.assertNever(i)}};Yr.create=(e,t,r)=>new Yr({schema:e,typeName:le.ZodEffects,effect:t,...ye(r)});Yr.createWithPreprocess=(e,t,r)=>new Yr({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...ye(r)});var Gr=class extends be{_parse(t){return this._getType(t)===q.undefined?jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Gr.create=(e,t)=>new Gr({innerType:e,typeName:le.ZodOptional,...ye(t)});var Dn=class extends be{_parse(t){return this._getType(t)===q.null?jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Dn.create=(e,t)=>new Dn({innerType:e,typeName:le.ZodNullable,...ye(t)});var Ma=class extends be{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ma.create=(e,t)=>new Ma({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ye(t)});var Da=class extends be{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mo(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hr(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Da.create=(e,t)=>new Da({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ye(t)});var Bo=class extends be{_parse(t){if(this._getType(t)!==q.nan){let n=this._getOrReturnCtx(t);return H(n,{code:L.invalid_type,expected:q.nan,received:n.parsedType}),oe}return{status:"valid",value:t.data}}};Bo.create=e=>new Bo({typeName:le.ZodNaN,...ye(e)});var HL=Symbol("zod_brand"),Rc=class extends be{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Cc=class e extends be{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?oe:a.status==="dirty"?(r.dirty(),Sa(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?oe:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:le.ZodPipeline})}},La=class extends be{_parse(t){let r=this._def.innerType._parse(t),n=i=>(Mi(i)&&(i.value=Object.freeze(i.value)),i);return Mo(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};La.create=(e,t)=>new La({innerType:e,typeName:le.ZodReadonly,...ye(t)});function hT(e,t){let r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function ST(e,t={},r){return e?Li.create().superRefine((n,i)=>{let a=e(n);if(a instanceof Promise)return a.then(o=>{if(!o){let s=hT(t,n),c=s.fatal??r??!0;i.addIssue({code:"custom",...s,fatal:c})}});if(!a){let o=hT(t,n),s=o.fatal??r??!0;i.addIssue({code:"custom",...o,fatal:s})}}):Li.create()}var VL={object:gr.lazycreate},le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(le||(le={}));var zL=(e,t={message:`Input not instance of ${e.name}`})=>ST(r=>r instanceof e,t),ET=Di.create,bT=Ea.create,$L=Bo.create,jL=ba.create,TT=Ta.create,qL=Ia.create,GL=Lo.create,WL=wa.create,YL=xa.create,KL=Li.create,XL=ai.create,JL=ln.create,ZL=Po.create,QL=oi.create,e1=gr.create,t1=gr.strictCreate,r1=ka.create,n1=Sd.create,i1=Aa.create,a1=Mn.create,o1=Ed.create,s1=Uo.create,c1=Fo.create,u1=bd.create,l1=Ra.create,d1=Ca.create,f1=Na.create,p1=Oa.create,m1=Pi.create,h1=Yr.create,g1=Gr.create,v1=Dn.create,_1=Yr.createWithPreprocess,y1=Cc.create,S1=()=>ET().optional(),E1=()=>bT().optional(),b1=()=>TT().optional(),T1={string:(e=>Di.create({...e,coerce:!0})),number:(e=>Ea.create({...e,coerce:!0})),boolean:(e=>Ta.create({...e,coerce:!0})),bigint:(e=>ba.create({...e,coerce:!0})),date:(e=>Ia.create({...e,coerce:!0}))};var I1=oe;var fre=Pa.object({player_name:Pa.string().min(2,"Name muss mindestens 2 Zeichen lang sein").max(100,"Name darf maximal 100 Zeichen lang sein"),player_city:Pa.string().min(2,"Ort muss mindestens 2 Zeichen lang sein").max(100,"Ort darf maximal 100 Zeichen lang sein"),agree_privacy:Pa.literal(!0,{errorMap:()=>({message:"Datenschutzerkl\xE4rung muss akzeptiert werden"})})});var zh,Oc=new Set,si=!1,$h=null,Ln=-1,jh=[];function w1(){if(!$h){let e=window.GEOCODING_API_URL||"http://localhost:8081",t=window.MEILI_SEARCH_KEY||"";$h=new wT.MeiliSearch({host:e,apiKey:t})}return $h}function x1(){let e=document.createElement("div");return e.id="city-dropdown",e.className="city-dropdown",e.style.display="none",e}function k1(e,t){let r=e.getBoundingClientRect();t.style.position="absolute",t.style.top=`${r.bottom+window.scrollY}px`,t.style.left=`${r.left+window.scrollX}px`,t.style.width=`${r.width}px`}function A1(e,t,r){if(r.length===0){t.style.display="none";return}jh=r,Ln=-1,t.innerHTML=r.map((n,i)=>`<div class="city-dropdown-item" data-index="${i}">${n}</div>`).join(""),k1(e,t),t.style.display="block",t.querySelectorAll(".city-dropdown-item").forEach(n=>{n.addEventListener("click",()=>{let i=n.textContent||"";xT(e,t,i)})})}function Ua(e){e.style.display="none",Ln=-1}function xT(e,t,r){e.value=r,si=!0,e.classList.add("city-selected"),Ua(t);let n=document.querySelector(".submit-btn");Nc(n)}function R1(e,t,r){let n=r.querySelectorAll(".city-dropdown-item");e.key==="ArrowDown"?(e.preventDefault(),Ln=Math.min(Ln+1,n.length-1),IT(n)):e.key==="ArrowUp"?(e.preventDefault(),Ln=Math.max(Ln-1,-1),IT(n)):e.key==="Enter"?(e.preventDefault(),Ln>=0&&Ln<jh.length&&xT(t,r,jh[Ln])):e.key==="Escape"&&Ua(r)}function IT(e){e.forEach((t,r)=>{r===Ln?(t.classList.add("highlighted"),t.scrollIntoView({block:"nearest"})):t.classList.remove("highlighted")})}function kT(){let e=document.getElementById("playerCity"),t=document.querySelector(".submit-btn");if(!e)return;t&&(t.disabled=!0,t.classList.add("disabled"));let r=w1(),n=x1();e.parentNode&&e.parentNode.insertBefore(n,e.nextSibling);let i="";e.addEventListener("input",()=>{let a=e.value.trim();if(si=!1,e.classList.remove("city-selected"),Nc(t),Ho(),Oc.has(a)){si=!0,e.classList.add("city-selected"),Nc(t),Ho(),Ua(n);return}if(a.length<2){Ua(n);return}a!==i&&(i=a,zh&&clearTimeout(zh),zh=window.setTimeout(()=>{C1(a,e,n,r)},300))}),e.addEventListener("keydown",a=>{n.style.display==="block"&&R1(a,e,n)}),document.addEventListener("click",a=>{!e.contains(a.target)&&!n.contains(a.target)&&Ua(n)}),e.addEventListener("change",()=>{let a=e.value.trim();Oc.has(a)&&(si=!0,e.classList.add("city-selected"),Nc(t),Ho())}),e.addEventListener("blur",()=>{setTimeout(()=>{let a=e.value.trim();Oc.has(a)?(si=!0,e.classList.add("city-selected"),Nc(t),Ho()):Ua(n)},200)})}async function C1(e,t,r,n){try{let i=await n.index("cities").search(e,{limit:10,attributesToRetrieve:["name"]});Oc.clear();let a=new Set,o=[];i.hits.forEach(s=>{let c=s.name;c&&!a.has(c)&&(a.add(c),Oc.add(c),o.push(c))}),A1(t,r,o)}catch(i){console.error("[CityAutocomplete] Error fetching cities:",i),Ua(r)}}function AT(){let e=document.getElementById("playerName"),t=document.getElementById("privacyCheckbox"),r=document.querySelector(".submit-btn"),n=document.getElementById("nameForm");if(!e||!t||!r)return;let i=()=>{let a=e.value.trim().length>=2,o=t.checked,c=a&&o&&si;r.disabled=!c,c?r.classList.remove("disabled"):r.classList.add("disabled"),Ho()};e.addEventListener("input",i),t.addEventListener("change",i),r.disabled=!0,r.classList.add("disabled"),n&&n.addEventListener("submit",a=>{let o=e.value.trim().length>=2,s=t.checked;return o&&s&&si?!0:(a.preventDefault(),alert("Bitte f\xFClle alle Felder korrekt aus und w\xE4hle einen Ort aus der Liste!"),!1)}),Ho()}function Nc(e){if(!e)return;let t=document.getElementById("playerName"),r=document.getElementById("privacyCheckbox");if(!t||!r)return;let n=t.value.trim().length>=2,i=r.checked,a=n&&i&&si;e.disabled=!a,a?e.classList.remove("disabled"):e.classList.add("disabled")}function Ho(){let e=document.getElementById("playerName"),t=document.getElementById("privacyCheckbox"),r=document.querySelector(".submit-btn"),n=document.getElementById("statusName"),i=document.getElementById("statusCity"),a=document.getElementById("statusPrivacy"),o=document.getElementById("statusButton");if(!e||!t||!r)return;let s=e.value.trim().length>=2,c=t.checked;n&&(s?(n.innerHTML="\u2705 Name: G\xFCltig",n.style.color="green"):(n.innerHTML="\u274C Name: Nicht ausgef\xFCllt",n.style.color="red")),i&&(si?(i.innerHTML="\u2705 Ort: Ausgew\xE4hlt",i.style.color="green"):(i.innerHTML="\u274C Ort: Nicht ausgew\xE4hlt",i.style.color="red")),a&&(c?(a.innerHTML="\u2705 Datenschutz: Akzeptiert",a.style.color="green"):(a.innerHTML="\u274C Datenschutz: Nicht akzeptiert",a.style.color="red")),o&&(r.disabled?(o.innerHTML="\u274C Submit-Button: Deaktiviert",o.style.color="red"):(o.innerHTML="\u2705 Submit-Button: Aktiviert",o.style.color="green"))}function ci(e){return e instanceof Error?e.message:"Unbekannter Fehler"}function RT(){let e=document.getElementById("createTokenForm");e&&(e.onsubmit=async function(t){t.preventDefault();let r=document.getElementById("bagName").value,n=parseInt(document.getElementById("maxUploads").value);try{let i=await fetch("/admin/tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bag_name:r,max_uploads:n})}),a=await i.json();if(i.ok){let o=document.getElementById("createResult");o.style.display="block",o.style.background="#e8f5e9",o.style.padding="1rem",o.style.borderRadius="4px",o.innerHTML=`
        <strong>\u2705 Token erstellt!</strong><br>
        <small>Token-ID: ${a.token_id}</small><br>
        <a href="${a.qr_url}?format=svg" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (SVG) herunterladen</a> | 
        <a href="${a.qr_url}?format=png" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (PNG) herunterladen</a><br>
        <small style="word-break: break-all;">URL: ${a.upload_url} <button id="copyNewUrlBtn" style="margin-left:0.5rem; padding:0.2rem 0.4rem; border-radius:4px;">\u{1F517} Kopieren</button></small>
      `;let s=document.getElementById("copyNewUrlBtn");s&&(s.onclick=async function(){try{await navigator.clipboard.writeText(a.upload_url),alert("URL kopiert")}catch{prompt("URL kopieren:",a.upload_url)}}),setTimeout(()=>location.reload(),3e3)}else alert("Fehler: "+(a.error||"Unbekannter Fehler"))}catch(i){let a=i instanceof Error?i.message:"Unbekannter Fehler";alert("Fehler: "+a)}}),U1()}async function N1(e,t){if(confirm(`${t} wirklich zur\xFCcksetzen? Der Upload-Counter wird auf 0 gesetzt.`))try{let n=await(await fetch(`/admin/tokens/${e}/reset`,{method:"POST"})).json();alert(n.message||"Token wurde zur\xFCckgesetzt"),location.reload()}catch(r){alert("Fehler: "+ci(r))}}async function O1(e,t){if(confirm(`${t} wirklich deaktivieren?`))try{let n=await(await fetch(`/admin/tokens/${e}/deactivate`,{method:"POST"})).json();alert(n.status||"Token wurde deaktiviert"),location.reload()}catch(r){alert("Fehler: "+ci(r))}}async function M1(e){let t=document.getElementById(`quota-${e}`),r=parseInt(t.value);if(r<=0){alert("Kontingent muss gr\xF6\xDFer als 0 sein");return}try{let i=await(await fetch(`/admin/tokens/${e}/quota`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({max_uploads:r})})).json();alert(`\u2705 Kontingent auf ${i.max_uploads} aktualisiert`),location.reload()}catch(n){alert("Fehler: "+ci(n))}}function D1(e,t,r){let n=`/admin/tokens/${e}/qr?format=${r}`;window.open(n,"_blank")}async function L1(e,t){let r=encodeURIComponent(e),n=`${location.origin}/upload?token=${r}`;try{await navigator.clipboard.writeText(n),alert("URL kopiert: "+n)}catch{prompt("URL kopieren:",n)}}async function P1(e,t){if(confirm("Als erledigt markieren?"))try{let r=await fetch(`/admin/werkzeug-anfragen/${e}/complete`,{method:"POST"}),n=await r.json();if(r.ok){let i=t.closest("li"),a=document.createElement("span");a.style.color="#4CAF50",a.style.fontWeight="600",a.textContent="\u2705 Erledigt",t.replaceWith(a),i&&(i.style.opacity="0.8")}else alert("Fehler: "+(n.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ci(r))}}function U1(){document.addEventListener("click",e=>{let r=e.target.closest("a.filter-btn");if(!r||!r.closest(".admin-section"))return;e.preventDefault();let n=r.getAttribute("href");if(!n)return;let i=n.includes("?")?n+"&partial=1":n+"?partial=1";fetch(i).then(a=>{if(!a.ok)throw new Error("fetch failed");return a.text()}).then(a=>{let c=new DOMParser().parseFromString(a,"text/html").querySelector("#bagRequestsContainer");if(!c){window.location.href=n;return}let u=document.getElementById("bagRequestsContainer");u&&(u.innerHTML=c.innerHTML),document.querySelectorAll(".admin-section a.filter-btn").forEach(l=>l.classList.remove("active")),r.classList.add("active"),history.pushState(null,"",n)}).catch(a=>{console.error(a),window.location.href=n})})}async function F1(e,t){if(confirm("Contribution wirklich l\xF6schen? Dies wird das Bild aus der Datenbank und dem Storage entfernen."))try{let r=await fetch(`/admin/contributions/${e}/delete`,{method:"POST"}),n=await r.json();if(r.ok){let i=document.getElementById(`contrib-${e}`);i&&(i.style.opacity="0",i.style.transition="opacity 0.3s",setTimeout(()=>i.remove(),300)),alert("Contribution erfolgreich gel\xF6scht")}else alert("Fehler: "+(n.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ci(r))}}typeof window<"u"&&(window.resetToken=N1,window.deactivateToken=O1,window.updateQuota=M1,window.downloadQR=D1,window.copyUploadURL=L1,window.markBagRequestDone=P1,window.deleteContribution=F1);function NT(){let e=document.getElementById("drop-zone"),t=document.getElementById("fileInput"),r=document.getElementById("preview"),n=document.getElementById("drop-text");if(!e||!t||!r||!n)return;e.addEventListener("click",()=>t.click()),e.addEventListener("dragover",s=>{s.preventDefault(),e.classList.add("active")}),e.addEventListener("dragleave",()=>e.classList.remove("active")),e.addEventListener("drop",s=>{s.preventDefault(),e.classList.remove("active"),s.dataTransfer?.files.length&&(t.files=s.dataTransfer.files,CT(s.dataTransfer.files[0],r,n))}),t.addEventListener("change",s=>{let c=s.target;c.files?.length&&CT(c.files[0],r,n)});let i=document.getElementById("commentInput"),a=document.getElementById("charCount");i&&a&&i.addEventListener("input",s=>{let c=s.target;a.textContent=c.value.length.toString()});let o=document.getElementById("uploadForm");o&&(o.onsubmit=function(){let s=document.getElementById("submitBtn");s&&(s.disabled=!0,s.innerText="optimiere...")}),B1()}function CT(e,t,r){let n=new FileReader;n.onload=i=>{i.target?.result&&(t.src=i.target.result,t.style.display="block",r.style.display="none")},n.readAsDataURL(e)}function B1(){try{let e=new URLSearchParams(location.search),t=e.get("number");if(t){let n=document.getElementById("deriveInput");if(n){n.value=t;let i=n.querySelector(`option[value="${t}"]`);i&&i.disabled&&(n.value="")}}if(e.get("uploaded")==="1"){let n=document.getElementById("deriveInput"),i=document.getElementById("fileInput"),a=document.getElementById("preview"),o=document.getElementById("drop-text"),s=document.getElementById("submitBtn");if(n&&(n.value=""),i)try{i.value=""}catch(u){console.warn("Could not reset file input:",u)}a&&(a.src="#",a.style.display="none"),o&&(o.style.display="block"),s&&(s.disabled=!1,s.innerText="Hochladen");let c=document.getElementById("uploadResult");if(!c){c=document.createElement("div"),c.id="uploadResult",c.style.marginTop="1rem",c.style.fontWeight="500";let u=document.querySelector(".container.upload"),l=document.querySelector(".session-uploads");u&&l&&u.insertBefore(c,l)}c.innerText="Upload erfolgreich!",c.style.color="#2e7d32",c.style.display="block",setTimeout(()=>{c&&(c.style.display="none")},4e3);try{e.delete("uploaded");let u=location.pathname+(e.toString()?"?"+e.toString():"");history.replaceState(null,"",u)}catch{}}}catch{}}async function H1(e,t){if(confirm("Upload wirklich l\xF6schen? Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden."))try{let n=new URLSearchParams(location.search).get("token")||"",i=await fetch(`/upload/contributions/${e}/delete?token=${encodeURIComponent(n)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),a=await i.json();i.ok?location.reload():alert("Fehler: "+(a.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ci(r))}}async function V1(){if(confirm("Session wirklich beenden? Das Werkzeug wird zur\xFCckgesetzt und kann an den n\xE4chsten Spieler weitergegeben werden."))try{let t=new URLSearchParams(location.search).get("token")||"",r=await fetch(`/upload/end-session?token=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),n=await r.json();r.ok?(alert(n.message||"Session beendet"),location.href="/upload?token="+encodeURIComponent(t)):alert("Fehler: "+(n.error||"Unbekannter Fehler"))}catch(e){alert("Fehler: "+ci(e))}}typeof window<"u"&&(window.deleteSessionUpload=H1,window.endSession=V1);var OT=["\u{1F3E0}","\u{1F194}","\u{1F4AF}","\u{1F6A8}"];function z1(e){let t=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
      <text y="80" font-size="80">${e}</text>
    </svg>
  `;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(t)}`}function $1(){return OT[Math.floor(Math.random()*OT.length)]}function j1(){if(typeof document>"u"||!document.head)return;let e=$1(),t=z1(e),r=document.querySelector("link[rel~='icon']");r||(r=document.createElement("link"),r.rel="icon",document.head.appendChild(r)),r.href=t}j1();by(),sT(),cT(),uT(),lT(),kT(),AT(),gd(),RT(),NT();})();
//# sourceMappingURL=main.js.map
