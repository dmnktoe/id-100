"use strict";(()=>{var Ur=Object.create;var qt=Object.defineProperty;var Hr=Object.getOwnPropertyDescriptor;var Vr=Object.getOwnPropertyNames;var Br=Object.getPrototypeOf,zr=Object.prototype.hasOwnProperty;var Kr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Zr=(t,e)=>{for(var r in e)qt(t,r,{get:e[r],enumerable:!0})},Gr=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of Vr(e))!zr.call(t,u)&&u!==r&&qt(t,u,{get:()=>e[u],enumerable:!(a=Hr(e,u))||a.enumerable});return t};var Wr=(t,e,r)=>(r=t!=null?Ur(Br(t)):{},Gr(e||!t||!t.__esModule?qt(r,"default",{value:t,enumerable:!0}):r,t));var nr=Kr((bt,rr)=>{(function(t,e){typeof bt=="object"&&typeof rr<"u"?e(bt):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.window=t.window||{}))})(bt,(function(t){"use strict";var e={ALL:"all",LAST:"last",FREQUENCY:"frequency"},r={JSON:"application/json",CSV:"text/csv",NDJSON:"application/x-ndjson"},a={TASK_SUCCEEDED:"succeeded",TASK_PROCESSING:"processing",TASK_FAILED:"failed",TASK_ENQUEUED:"enqueued",TASK_CANCELED:"canceled"},u={DOCUMENTS_ADDITION_OR_UPDATE:"documentAdditionOrUpdate",DOCUMENT_DELETION:"documentDeletion",DUMP_CREATION:"dumpCreation",INDEX_CREATION:"indexCreation",INDEX_DELETION:"indexDeletion",INDEXES_SWAP:"indexSwap",INDEX_UPDATE:"indexUpdate",SETTINGS_UPDATE:"settingsUpdate",SNAPSHOT_CREATION:"snapshotCreation",TASK_CANCELATION:"taskCancelation",TASK_DELETION:"taskDeletion"},p={INDEX_CREATION_FAILED:"index_creation_failed",MISSING_INDEX_UID:"missing_index_uid",INDEX_ALREADY_EXISTS:"index_already_exists",INDEX_NOT_FOUND:"index_not_found",INVALID_INDEX_UID:"invalid_index_uid",INDEX_NOT_ACCESSIBLE:"index_not_accessible",INVALID_INDEX_OFFSET:"invalid_index_offset",INVALID_INDEX_LIMIT:"invalid_index_limit",INVALID_STATE:"invalid_state",PRIMARY_KEY_INFERENCE_FAILED:"primary_key_inference_failed",INDEX_PRIMARY_KEY_ALREADY_EXISTS:"index_primary_key_already_exists",INVALID_INDEX_PRIMARY_KEY:"invalid_index_primary_key",DOCUMENTS_FIELDS_LIMIT_REACHED:"document_fields_limit_reached",MISSING_DOCUMENT_ID:"missing_document_id",INVALID_DOCUMENT_ID:"invalid_document_id",INVALID_CONTENT_TYPE:"invalid_content_type",MISSING_CONTENT_TYPE:"missing_content_type",INVALID_DOCUMENT_FIELDS:"invalid_document_fields",INVALID_DOCUMENT_LIMIT:"invalid_document_limit",INVALID_DOCUMENT_OFFSET:"invalid_document_offset",INVALID_DOCUMENT_FILTER:"invalid_document_filter",MISSING_DOCUMENT_FILTER:"missing_document_filter",INVALID_DOCUMENT_VECTORS_FIELD:"invalid_document_vectors_field",PAYLOAD_TOO_LARGE:"payload_too_large",MISSING_PAYLOAD:"missing_payload",MALFORMED_PAYLOAD:"malformed_payload",NO_SPACE_LEFT_ON_DEVICE:"no_space_left_on_device",INVALID_STORE_FILE:"invalid_store_file",INVALID_RANKING_RULES:"missing_document_id",INVALID_REQUEST:"invalid_request",INVALID_DOCUMENT_GEO_FIELD:"invalid_document_geo_field",INVALID_SEARCH_Q:"invalid_search_q",INVALID_SEARCH_OFFSET:"invalid_search_offset",INVALID_SEARCH_LIMIT:"invalid_search_limit",INVALID_SEARCH_PAGE:"invalid_search_page",INVALID_SEARCH_HITS_PER_PAGE:"invalid_search_hits_per_page",INVALID_SEARCH_ATTRIBUTES_TO_RETRIEVE:"invalid_search_attributes_to_retrieve",INVALID_SEARCH_ATTRIBUTES_TO_CROP:"invalid_search_attributes_to_crop",INVALID_SEARCH_CROP_LENGTH:"invalid_search_crop_length",INVALID_SEARCH_ATTRIBUTES_TO_HIGHLIGHT:"invalid_search_attributes_to_highlight",INVALID_SEARCH_SHOW_MATCHES_POSITION:"invalid_search_show_matches_position",INVALID_SEARCH_FILTER:"invalid_search_filter",INVALID_SEARCH_SORT:"invalid_search_sort",INVALID_SEARCH_FACETS:"invalid_search_facets",INVALID_SEARCH_HIGHLIGHT_PRE_TAG:"invalid_search_highlight_pre_tag",INVALID_SEARCH_HIGHLIGHT_POST_TAG:"invalid_search_highlight_post_tag",INVALID_SEARCH_CROP_MARKER:"invalid_search_crop_marker",INVALID_SEARCH_MATCHING_STRATEGY:"invalid_search_matching_strategy",INVALID_SEARCH_VECTOR:"invalid_search_vector",INVALID_SEARCH_ATTRIBUTES_TO_SEARCH_ON:"invalid_search_attributes_to_search_on",BAD_REQUEST:"bad_request",DOCUMENT_NOT_FOUND:"document_not_found",INTERNAL:"internal",INVALID_API_KEY:"invalid_api_key",INVALID_API_KEY_DESCRIPTION:"invalid_api_key_description",INVALID_API_KEY_ACTIONS:"invalid_api_key_actions",INVALID_API_KEY_INDEXES:"invalid_api_key_indexes",INVALID_API_KEY_EXPIRES_AT:"invalid_api_key_expires_at",API_KEY_NOT_FOUND:"api_key_not_found",IMMUTABLE_API_KEY_UID:"immutable_api_key_uid",IMMUTABLE_API_KEY_ACTIONS:"immutable_api_key_actions",IMMUTABLE_API_KEY_INDEXES:"immutable_api_key_indexes",IMMUTABLE_API_KEY_EXPIRES_AT:"immutable_api_key_expires_at",IMMUTABLE_API_KEY_CREATED_AT:"immutable_api_key_created_at",IMMUTABLE_API_KEY_UPDATED_AT:"immutable_api_key_updated_at",MISSING_AUTHORIZATION_HEADER:"missing_authorization_header",UNRETRIEVABLE_DOCUMENT:"unretrievable_document",MAX_DATABASE_SIZE_LIMIT_REACHED:"database_size_limit_reached",TASK_NOT_FOUND:"task_not_found",DUMP_PROCESS_FAILED:"dump_process_failed",DUMP_NOT_FOUND:"dump_not_found",INVALID_SWAP_DUPLICATE_INDEX_FOUND:"invalid_swap_duplicate_index_found",INVALID_SWAP_INDEXES:"invalid_swap_indexes",MISSING_SWAP_INDEXES:"missing_swap_indexes",MISSING_MASTER_KEY:"missing_master_key",INVALID_TASK_TYPES:"invalid_task_types",INVALID_TASK_UIDS:"invalid_task_uids",INVALID_TASK_STATUSES:"invalid_task_statuses",INVALID_TASK_LIMIT:"invalid_task_limit",INVALID_TASK_FROM:"invalid_task_from",INVALID_TASK_CANCELED_BY:"invalid_task_canceled_by",MISSING_TASK_FILTERS:"missing_task_filters",TOO_MANY_OPEN_FILES:"too_many_open_files",IO_ERROR:"io_error",INVALID_TASK_INDEX_UIDS:"invalid_task_index_uids",IMMUTABLE_INDEX_UID:"immutable_index_uid",IMMUTABLE_INDEX_CREATED_AT:"immutable_index_created_at",IMMUTABLE_INDEX_UPDATED_AT:"immutable_index_updated_at",INVALID_SETTINGS_DISPLAYED_ATTRIBUTES:"invalid_settings_displayed_attributes",INVALID_SETTINGS_SEARCHABLE_ATTRIBUTES:"invalid_settings_searchable_attributes",INVALID_SETTINGS_FILTERABLE_ATTRIBUTES:"invalid_settings_filterable_attributes",INVALID_SETTINGS_SORTABLE_ATTRIBUTES:"invalid_settings_sortable_attributes",INVALID_SETTINGS_RANKING_RULES:"invalid_settings_ranking_rules",INVALID_SETTINGS_STOP_WORDS:"invalid_settings_stop_words",INVALID_SETTINGS_SYNONYMS:"invalid_settings_synonyms",INVALID_SETTINGS_DISTINCT_ATTRIBUTE:"invalid_settings_distinct_attribute",INVALID_SETTINGS_TYPO_TOLERANCE:"invalid_settings_typo_tolerance",INVALID_SETTINGS_FACETING:"invalid_settings_faceting",INVALID_SETTINGS_PAGINATION:"invalid_settings_pagination",INVALID_SETTINGS_SEARCH_CUTOFF_MS:"invalid_settings_search_cutoff_ms",INVALID_SETTINGS_LOCALIZED_ATTRIBUTES:"invalid_settings_localized_attributes",INVALID_TASK_BEFORE_ENQUEUED_AT:"invalid_task_before_enqueued_at",INVALID_TASK_AFTER_ENQUEUED_AT:"invalid_task_after_enqueued_at",INVALID_TASK_BEFORE_STARTED_AT:"invalid_task_before_started_at",INVALID_TASK_AFTER_STARTED_AT:"invalid_task_after_started_at",INVALID_TASK_BEFORE_FINISHED_AT:"invalid_task_before_finished_at",INVALID_TASK_AFTER_FINISHED_AT:"invalid_task_after_finished_at",MISSING_API_KEY_ACTIONS:"missing_api_key_actions",MISSING_API_KEY_INDEXES:"missing_api_key_indexes",MISSING_API_KEY_EXPIRES_AT:"missing_api_key_expires_at",INVALID_API_KEY_LIMIT:"invalid_api_key_limit",INVALID_API_KEY_OFFSET:"invalid_api_key_offset",INVALID_FACET_SEARCH_FACET_NAME:"invalid_facet_search_facet_name",MISSING_FACET_SEARCH_FACET_NAME:"missing_facet_search_facet_name",INVALID_FACET_SEARCH_FACET_QUERY:"invalid_facet_search_facet_query",INVALID_SEARCH_RANKING_SCORE_THRESHOLD:"invalid_search_ranking_score_threshold",INVALID_SIMILAR_RANKING_SCORE_THRESHOLD:"invalid_similar_ranking_score_threshold"};function m(g,i){(i==null||i>g.length)&&(i=g.length);for(var d=0,c=Array(i);d<i;d++)c[d]=g[d];return c}function y(g){if(Array.isArray(g))return g}function w(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function T(g,i,d,c,o,s,n){try{var l=g[s](n),h=l.value}catch(_){return void d(_)}l.done?i(h):Promise.resolve(h).then(c,o)}function v(g){return function(){var i=this,d=arguments;return new Promise(function(c,o){var s=g.apply(i,d);function n(h){T(s,c,o,n,l,"next",h)}function l(h){T(s,c,o,n,l,"throw",h)}n(void 0)})}}function z(g,i,d){return i=it(i),Rr(g,Rt()?Reflect.construct(i,d||[],it(g).constructor):i.apply(g,d))}function Z(g,i){if(!(g instanceof i))throw new TypeError("Cannot call a class as a function")}function st(g,i,d){if(Rt())return Reflect.construct.apply(null,arguments);var c=[null];c.push.apply(c,i);var o=new(g.bind.apply(g,c));return d&&ct(o,d.prototype),o}function Bt(g,i){for(var d=0;d<i.length;d++){var c=i[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(g,Kt(c.key),c)}}function ce(g,i,d){return i&&Bt(g.prototype,i),d&&Bt(g,d),Object.defineProperty(g,"prototype",{writable:!1}),g}function Er(g,i){var d=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!d){if(Array.isArray(g)||(d=Zt(g))||i){d&&(g=d);var c=0,o=function(){};return{s:o,n:function(){return c>=g.length?{done:!0}:{done:!1,value:g[c++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,n=!0,l=!1;return{s:function(){d=d.call(g)},n:function(){var h=d.next();return n=h.done,h},e:function(h){l=!0,s=h},f:function(){try{n||d.return==null||d.return()}finally{if(l)throw s}}}}function $(g,i,d){return(i=Kt(i))in g?Object.defineProperty(g,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):g[i]=d,g}function it(g){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},it(g)}function ut(g,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(i&&i.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),i&&ct(g,i)}function Ir(g){try{return Function.toString.call(g).indexOf("[native code]")!==-1}catch{return typeof g=="function"}}function Rt(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rt=function(){return!!g})()}function Ar(g,i){var d=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(d!=null){var c,o,s,n,l=[],h=!0,_=!1;try{if(s=(d=d.call(g)).next,i!==0)for(;!(h=(c=s.call(d)).done)&&(l.push(c.value),l.length!==i);h=!0);}catch(k){_=!0,o=k}finally{try{if(!h&&d.return!=null&&(n=d.return(),Object(n)!==n))return}finally{if(_)throw o}}return l}}function Sr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(g,i){var d=Object.keys(g);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(g);i&&(c=c.filter(function(o){return Object.getOwnPropertyDescriptor(g,o).enumerable})),d.push.apply(d,c)}return d}function U(g){for(var i=1;i<arguments.length;i++){var d=arguments[i]!=null?arguments[i]:{};i%2?zt(Object(d),!0).forEach(function(c){$(g,c,d[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(d)):zt(Object(d)).forEach(function(c){Object.defineProperty(g,c,Object.getOwnPropertyDescriptor(d,c))})}return g}function Rr(g,i){if(i&&(typeof i=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(g)}function f(){f=function(){return i};var g,i={},d=Object.prototype,c=d.hasOwnProperty,o=Object.defineProperty||function(I,E,R){I[E]=R.value},s=typeof Symbol=="function"?Symbol:{},n=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function _(I,E,R){return Object.defineProperty(I,E,{value:R,enumerable:!0,configurable:!0,writable:!0}),I[E]}try{_({},"")}catch{_=function(E,R,P){return E[R]=P}}function k(I,E,R,P){var O=E&&E.prototype instanceof V?E:V,H=Object.create(O.prototype),W=new Ct(P||[]);return o(H,"_invoke",{value:jr(I,R,W)}),H}function L(I,E,R){try{return{type:"normal",arg:I.call(E,R)}}catch(P){return{type:"throw",arg:P}}}i.wrap=k;var A="suspendedStart",ee="suspendedYield",B="executing",Y="completed",K={};function V(){}function X(){}function me(){}var G={};_(G,n,function(){return this});var le=Object.getPrototypeOf,_t=le&&le(le($t([])));_t&&_t!==d&&c.call(_t,n)&&(G=_t);var Ge=me.prototype=V.prototype=Object.create(G);function Xt(I){["next","throw","return"].forEach(function(E){_(I,E,function(R){return this._invoke(E,R)})})}function wt(I,E){function R(O,H,W,ne){var ae=L(I[O],I,H);if(ae.type!=="throw"){var We=ae.arg,lt=We.value;return lt&&typeof lt=="object"&&c.call(lt,"__await")?E.resolve(lt.__await).then(function(Re){R("next",Re,W,ne)},function(Re){R("throw",Re,W,ne)}):E.resolve(lt).then(function(Re){We.value=Re,W(We)},function(Re){return R("throw",Re,W,ne)})}ne(ae.arg)}var P;o(this,"_invoke",{value:function(O,H){function W(){return new E(function(ne,ae){R(O,H,ne,ae)})}return P=P?P.then(W,W):W()}})}function jr(I,E,R){var P=A;return function(O,H){if(P===B)throw Error("Generator is already running");if(P===Y){if(O==="throw")throw H;return{value:g,done:!0}}for(R.method=O,R.arg=H;;){var W=R.delegate;if(W){var ne=Qt(W,R);if(ne){if(ne===K)continue;return ne}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(P===A)throw P=Y,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);P=B;var ae=L(I,E,R);if(ae.type==="normal"){if(P=R.done?Y:ee,ae.arg===K)continue;return{value:ae.arg,done:R.done}}ae.type==="throw"&&(P=Y,R.method="throw",R.arg=ae.arg)}}}function Qt(I,E){var R=E.method,P=I.iterator[R];if(P===g)return E.delegate=null,R==="throw"&&I.iterator.return&&(E.method="return",E.arg=g,Qt(I,E),E.method==="throw")||R!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+R+"' method")),K;var O=L(P,I.iterator,E.arg);if(O.type==="throw")return E.method="throw",E.arg=O.arg,E.delegate=null,K;var H=O.arg;return H?H.done?(E[I.resultName]=H.value,E.next=I.nextLoc,E.method!=="return"&&(E.method="next",E.arg=g),E.delegate=null,K):H:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,K)}function Fr(I){var E={tryLoc:I[0]};1 in I&&(E.catchLoc=I[1]),2 in I&&(E.finallyLoc=I[2],E.afterLoc=I[3]),this.tryEntries.push(E)}function Mt(I){var E=I.completion||{};E.type="normal",delete E.arg,I.completion=E}function Ct(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(Fr,this),this.reset(!0)}function $t(I){if(I||I===""){var E=I[n];if(E)return E.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var R=-1,P=function O(){for(;++R<I.length;)if(c.call(I,R))return O.value=I[R],O.done=!1,O;return O.value=g,O.done=!0,O};return P.next=P}}throw new TypeError(typeof I+" is not iterable")}return X.prototype=me,o(Ge,"constructor",{value:me,configurable:!0}),o(me,"constructor",{value:X,configurable:!0}),X.displayName=_(me,h,"GeneratorFunction"),i.isGeneratorFunction=function(I){var E=typeof I=="function"&&I.constructor;return!!E&&(E===X||(E.displayName||E.name)==="GeneratorFunction")},i.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,me):(I.__proto__=me,_(I,h,"GeneratorFunction")),I.prototype=Object.create(Ge),I},i.awrap=function(I){return{__await:I}},Xt(wt.prototype),_(wt.prototype,l,function(){return this}),i.AsyncIterator=wt,i.async=function(I,E,R,P,O){O===void 0&&(O=Promise);var H=new wt(k(I,E,R,P),O);return i.isGeneratorFunction(E)?H:H.next().then(function(W){return W.done?W.value:H.next()})},Xt(Ge),_(Ge,h,"Generator"),_(Ge,n,function(){return this}),_(Ge,"toString",function(){return"[object Generator]"}),i.keys=function(I){var E=Object(I),R=[];for(var P in E)R.push(P);return R.reverse(),function O(){for(;R.length;){var H=R.pop();if(H in E)return O.value=H,O.done=!1,O}return O.done=!0,O}},i.values=$t,Ct.prototype={constructor:Ct,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(Mt),!I)for(var E in this)E.charAt(0)==="t"&&c.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=g)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var E=this;function R(ae,We){return H.type="throw",H.arg=I,E.next=ae,We&&(E.method="next",E.arg=g),!!We}for(var P=this.tryEntries.length-1;P>=0;--P){var O=this.tryEntries[P],H=O.completion;if(O.tryLoc==="root")return R("end");if(O.tryLoc<=this.prev){var W=c.call(O,"catchLoc"),ne=c.call(O,"finallyLoc");if(W&&ne){if(this.prev<O.catchLoc)return R(O.catchLoc,!0);if(this.prev<O.finallyLoc)return R(O.finallyLoc)}else if(W){if(this.prev<O.catchLoc)return R(O.catchLoc,!0)}else{if(!ne)throw Error("try statement without catch or finally");if(this.prev<O.finallyLoc)return R(O.finallyLoc)}}}},abrupt:function(I,E){for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R];if(P.tryLoc<=this.prev&&c.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var O=P;break}}O&&(I==="break"||I==="continue")&&O.tryLoc<=E&&E<=O.finallyLoc&&(O=null);var H=O?O.completion:{};return H.type=I,H.arg=E,O?(this.method="next",this.next=O.finallyLoc,K):this.complete(H)},complete:function(I,E){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&E&&(this.next=E),K},finish:function(I){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.finallyLoc===I)return this.complete(R.completion,R.afterLoc),Mt(R),K}},catch:function(I){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.tryLoc===I){var P=R.completion;if(P.type==="throw"){var O=P.arg;Mt(R)}return O}}throw Error("illegal catch attempt")},delegateYield:function(I,E,R){return this.delegate={iterator:$t(I),resultName:E,nextLoc:R},this.method==="next"&&(this.arg=g),K}},i}function ct(g,i){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,c){return d.__proto__=c,d},ct(g,i)}function Dr(g,i){return y(g)||Ar(g,i)||Zt(g,i)||Sr()}function Lr(g,i){if(typeof g!="object"||!g)return g;var d=g[Symbol.toPrimitive];if(d!==void 0){var c=d.call(g,i);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}function Kt(g){var i=Lr(g,"string");return typeof i=="symbol"?i:i+""}function Dt(g){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},Dt(g)}function Zt(g,i){if(g){if(typeof g=="string")return m(g,i);var d={}.toString.call(g).slice(8,-1);return d==="Object"&&g.constructor&&(d=g.constructor.name),d==="Map"||d==="Set"?Array.from(g):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?m(g,i):void 0}}function Lt(g){var i=typeof Map=="function"?new Map:void 0;return Lt=function(d){if(d===null||!Ir(d))return d;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(d))return i.get(d);i.set(d,c)}function c(){return st(d,arguments,it(this).constructor)}return c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),ct(c,d)},Lt(g)}var be=(function(g){function i(){var d;Z(this,i);for(var c=arguments.length,o=new Array(c),s=0;s<c;s++)o[s]=arguments[s];return d=z(this,i,[].concat(o)),$(d,"name","MeiliSearchError"),d}return ut(i,g),ce(i)})(Lt(Error)),vt=(function(g){function i(d,c){var o,s;return Z(this,i),s=z(this,i,[(o=c?.message)!==null&&o!==void 0?o:"".concat(d.status,": ").concat(d.statusText)]),$(s,"name","MeiliSearchApiError"),$(s,"cause",void 0),$(s,"response",void 0),s.response=d,c!==void 0&&(s.cause=c),s}return ut(i,g),ce(i)})(be),yt=(function(g){function i(d,c){var o;return Z(this,i),o=z(this,i,["Request to ".concat(d," has failed"),{cause:c}]),$(o,"name","MeiliSearchRequestError"),o}return ut(i,g),ce(i)})(be),Gt=(function(g){function i(d){var c;return Z(this,i),c=z(this,i,[d]),$(c,"name","MeiliSearchTimeOutError"),c}return ut(i,g),ce(i)})(be);function ot(g,i){return"".concat(g,`
Hint: It might not be working because maybe you're not up to date with the Meilisearch version that `).concat(i," call requires.")}function Ze(g){return Object.entries(g).reduce(function(i,d){var c=Dr(d,2),o=c[0],s=c[1];return s!==void 0&&(i[o]=s),i},{})}function Nr(g){return Nt.apply(this,arguments)}function Nt(){return Nt=v(f().mark(function g(i){return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,new Promise(function(o){return setTimeout(o,i)});case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},g)})),Nt.apply(this,arguments)}function Or(g){return g.startsWith("https://")||g.startsWith("http://")?g:"http://".concat(g)}function xr(g){return g.endsWith("/")||(g+="/"),g}var Mr="0.44.1";function Ot(g){var i=Object.keys(g),d=i.reduce(function(c,o){var s=g[o];return s===void 0?c:Array.isArray(s)?U(U({},c),{},$({},o,s.join(","))):s instanceof Date?U(U({},c),{},$({},o,s.toISOString())):U(U({},c),{},$({},o,s))},{});return d}function Cr(g){try{return g=Or(g),g=xr(g),g}catch{throw new be("The provided host is not valid.")}}function $r(g){if(Array.isArray(g))return g.reduce(function(d,c){return d[c[0]]=c[1],d},{});if("has"in g){var i={};return g.forEach(function(d,c){return i[c]=d}),i}else return Object.assign({},g)}function qr(g){var i,d,c="X-Meilisearch-Client",o="Meilisearch JavaScript (v".concat(Mr,")"),s="Content-Type",n="Authorization",l=$r((i=(d=g.requestConfig)===null||d===void 0?void 0:d.headers)!==null&&i!==void 0?i:{});if(g.apiKey&&!l[n]&&(l[n]="Bearer ".concat(g.apiKey)),l[s]||(l["Content-Type"]="application/json"),g.clientAgents&&Array.isArray(g.clientAgents)){var h=g.clientAgents.concat(o);l[c]=h.join(" ; ")}else{if(g.clientAgents&&!Array.isArray(g.clientAgents))throw new be('Meilisearch: The header "'.concat(c,`" should be an array of string(s).
`));l[c]=o}return l}var gt=(function(){function g(i){Z(this,g),$(this,"headers",void 0),$(this,"url",void 0),$(this,"requestConfig",void 0),$(this,"httpClient",void 0),$(this,"requestTimeout",void 0),this.headers=qr(i),this.requestConfig=i.requestConfig,this.httpClient=i.httpClient,this.requestTimeout=i.timeout;try{var d=Cr(i.host);this.url=new URL(d)}catch{throw new be("The provided host is not valid.")}}return ce(g,[{key:"request",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k,L,A,ee,B,Y,K,V,X;return f().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return n=o.method,l=o.url,h=o.params,_=o.body,k=o.config,L=k===void 0?{}:k,A=new URL(l,this.url),h&&(ee=new URLSearchParams,Object.keys(h).filter(function(le){return h[le]!==null}).map(function(le){return ee.set(le,h[le])}),A.search=ee.toString()),(s=L.headers)!==null&&s!==void 0&&s["Content-Type"]||(_=JSON.stringify(_)),B=U(U({},this.headers),L.headers),Y=this.fetchWithTimeout(A.toString(),U(U(U({},L),this.requestConfig),{},{method:n,body:_,headers:B}),this.requestTimeout),G.next=8,Y.catch(function(le){throw new yt(A.toString(),le)});case 8:if(K=G.sent,this.httpClient===void 0){G.next=11;break}return G.abrupt("return",K);case 11:return G.next=13,K.text();case 13:if(V=G.sent,X=V===""?void 0:JSON.parse(V),K.ok){G.next=17;break}throw new vt(K,X);case 17:return G.abrupt("return",X);case 18:case"end":return G.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"fetchWithTimeout",value:(function(){var i=v(f().mark(function c(o,s,n){var l=this;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",new Promise(function(k,L){var A=l.httpClient?l.httpClient:fetch,ee=A(o,s),B=[ee],Y;if(n){var K=new Promise(function(V,X){Y=setTimeout(function(){X(new Error("Error: Request Timed Out"))},n)});B.push(K)}Promise.race(B).then(k).catch(L).finally(function(){clearTimeout(Y)})}));case 1:case"end":return _.stop()}},c)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"get",value:(function(){var i=v(f().mark(function c(o,s,n){return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.request({method:"GET",url:o,params:s,config:n});case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},c,this)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"post",value:(function(){var i=v(f().mark(function c(o,s,n,l){return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.request({method:"POST",url:o,body:s,params:n,config:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},c,this)}));function d(c,o,s,n){return i.apply(this,arguments)}return d})()},{key:"put",value:(function(){var i=v(f().mark(function c(o,s,n,l){return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.request({method:"PUT",url:o,body:s,params:n,config:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},c,this)}));function d(c,o,s,n){return i.apply(this,arguments)}return d})()},{key:"patch",value:(function(){var i=v(f().mark(function c(o,s,n,l){return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.request({method:"PATCH",url:o,body:s,params:n,config:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},c,this)}));function d(c,o,s,n){return i.apply(this,arguments)}return d})()},{key:"delete",value:(function(){var i=v(f().mark(function c(o,s,n,l){return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,this.request({method:"DELETE",url:o,body:s,params:n,config:l});case 2:return _.abrupt("return",_.sent);case 3:case"end":return _.stop()}},c,this)}));function d(c,o,s,n){return i.apply(this,arguments)}return d})()}])})(),F=ce(function g(i){Z(this,g),$(this,"taskUid",void 0),$(this,"indexUid",void 0),$(this,"status",void 0),$(this,"type",void 0),$(this,"enqueuedAt",void 0),this.taskUid=i.taskUid,this.indexUid=i.indexUid,this.status=i.status,this.type=i.type,this.enqueuedAt=new Date(i.enqueuedAt)}),Wt=ce(function g(i){Z(this,g),$(this,"indexUid",void 0),$(this,"status",void 0),$(this,"type",void 0),$(this,"uid",void 0),$(this,"canceledBy",void 0),$(this,"details",void 0),$(this,"error",void 0),$(this,"duration",void 0),$(this,"startedAt",void 0),$(this,"enqueuedAt",void 0),$(this,"finishedAt",void 0),this.indexUid=i.indexUid,this.status=i.status,this.type=i.type,this.uid=i.uid,this.details=i.details,this.canceledBy=i.canceledBy,this.error=i.error,this.duration=i.duration,this.startedAt=new Date(i.startedAt),this.enqueuedAt=new Date(i.enqueuedAt),this.finishedAt=new Date(i.finishedAt)}),Yt=(function(){function g(i){Z(this,g),$(this,"httpRequest",void 0),this.httpRequest=new gt(i)}return ce(g,[{key:"getTask",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="tasks/".concat(o),h.next=3,this.httpRequest.get(s);case 3:return n=h.sent,h.abrupt("return",new Wt(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getTasks",value:(function(){var i=v(f().mark(function c(){var o,s,n,l=arguments;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},s="tasks",_.next=4,this.httpRequest.get(s,Ot(o));case 4:return n=_.sent,_.abrupt("return",U(U({},n),{},{results:n.results.map(function(k){return new Wt(k)})}));case 6:case"end":return _.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"waitForTask",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k,L,A=arguments;return f().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:s=A.length>1&&A[1]!==void 0?A[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,k=Date.now();case 2:if(!(Date.now()-k<l)){B.next=12;break}return B.next=5,this.getTask(o);case 5:if(L=B.sent,[a.TASK_ENQUEUED,a.TASK_PROCESSING].includes(L.status)){B.next=8;break}return B.abrupt("return",L);case 8:return B.next=10,Nr(_);case 10:B.next=2;break;case 12:throw new Gt("timeout of ".concat(l,"ms has exceeded on process ").concat(o," when waiting a task to be resolved."));case 13:case"end":return B.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"waitForTasks",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k,L,A,ee,B,Y=arguments;return f().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:s=Y.length>1&&Y[1]!==void 0?Y[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,k=[],L=Er(o),V.prev=3,L.s();case 5:if((A=L.n()).done){V.next=13;break}return ee=A.value,V.next=9,this.waitForTask(ee,{timeOutMs:l,intervalMs:_});case 9:B=V.sent,k.push(B);case 11:V.next=5;break;case 13:V.next=18;break;case 15:V.prev=15,V.t0=V.catch(3),L.e(V.t0);case 18:return V.prev=18,L.f(),V.finish(18);case 21:return V.abrupt("return",k);case 22:case"end":return V.stop()}},c,this,[[3,15,18,21]])}));function d(c){return i.apply(this,arguments)}return d})()},{key:"cancelTasks",value:(function(){var i=v(f().mark(function c(){var o,s,n,l=arguments;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},s="tasks/cancel",_.next=4,this.httpRequest.post(s,{},Ot(o));case 4:return n=_.sent,_.abrupt("return",new F(n));case 6:case"end":return _.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"deleteTasks",value:(function(){var i=v(f().mark(function c(){var o,s,n,l=arguments;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},s="tasks",_.next=4,this.httpRequest.delete(s,{},Ot(o));case 4:return n=_.sent,_.abrupt("return",new F(n));case 6:case"end":return _.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()}])})(),Te=(function(){function g(i,d,c){Z(this,g),$(this,"uid",void 0),$(this,"primaryKey",void 0),$(this,"createdAt",void 0),$(this,"updatedAt",void 0),$(this,"httpRequest",void 0),$(this,"tasks",void 0),this.uid=d,this.primaryKey=c,this.httpRequest=new gt(i),this.tasks=new Yt(i)}return ce(g,[{key:"search",value:(function(){var i=v(f().mark(function c(o,s,n){var l;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return l="indexes/".concat(this.uid,"/search"),_.next=3,this.httpRequest.post(l,Ze(U({q:o},s)),void 0,n);case 3:return _.abrupt("return",_.sent);case 4:case"end":return _.stop()}},c,this)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"searchGet",value:(function(){var i=v(f().mark(function c(o,s,n){var l,h,_,k,L,A,ee,B,Y,K;return f().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return B="indexes/".concat(this.uid,"/search"),Y=function(G){if(typeof G=="string")return G;if(Array.isArray(G))throw new be("The filter query parameter should be in string format when using searchGet")},K=U(U({q:o},s),{},{filter:Y(s?.filter),sort:s==null||(l=s.sort)===null||l===void 0?void 0:l.join(","),facets:s==null||(h=s.facets)===null||h===void 0?void 0:h.join(","),attributesToRetrieve:s==null||(_=s.attributesToRetrieve)===null||_===void 0?void 0:_.join(","),attributesToCrop:s==null||(k=s.attributesToCrop)===null||k===void 0?void 0:k.join(","),attributesToHighlight:s==null||(L=s.attributesToHighlight)===null||L===void 0?void 0:L.join(","),vector:s==null||(A=s.vector)===null||A===void 0?void 0:A.join(","),attributesToSearchOn:s==null||(ee=s.attributesToSearchOn)===null||ee===void 0?void 0:ee.join(",")}),X.next=5,this.httpRequest.get(B,Ze(K),n);case 5:return X.abrupt("return",X.sent);case 6:case"end":return X.stop()}},c,this)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"searchForFacetValues",value:(function(){var i=v(f().mark(function c(o,s){var n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n="indexes/".concat(this.uid,"/facet-search"),h.next=3,this.httpRequest.post(n,Ze(o),void 0,s);case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"searchSimilarDocuments",value:(function(){var i=v(f().mark(function c(o){var s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="indexes/".concat(this.uid,"/similar"),l.next=3,this.httpRequest.post(s,Ze(o),void 0);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getRawInfo",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid),l.next=3,this.httpRequest.get(o);case 3:return s=l.sent,this.primaryKey=s.primaryKey,this.updatedAt=new Date(s.updatedAt),this.createdAt=new Date(s.createdAt),l.abrupt("return",s);case 8:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"fetchInfo",value:(function(){var i=v(f().mark(function c(){return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getRawInfo();case 2:return s.abrupt("return",this);case 3:case"end":return s.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"fetchPrimaryKey",value:(function(){var i=v(f().mark(function c(){return f().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.getRawInfo();case 2:return this.primaryKey=s.sent.primaryKey,s.abrupt("return",this.primaryKey);case 4:case"end":return s.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"update",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,n.enqueuedAt=new Date(n.enqueuedAt),h.abrupt("return",n);case 6:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"delete",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getTasks",value:(function(){var i=v(f().mark(function c(){var o,s=arguments;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=s.length>0&&s[0]!==void 0?s[0]:{},l.next=3,this.tasks.getTasks(U(U({},o),{},{indexUids:[this.uid]}));case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getTask",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.tasks.getTask(o);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"waitForTasks",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s=k.length>1&&k[1]!==void 0?k[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,A.next=3,this.tasks.waitForTasks(o,{timeOutMs:l,intervalMs:_});case 3:return A.abrupt("return",A.sent);case 4:case"end":return A.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"waitForTask",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s=k.length>1&&k[1]!==void 0?k[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,A.next=3,this.tasks.waitForTask(o,{timeOutMs:l,intervalMs:_});case 3:return A.abrupt("return",A.sent);case 4:case"end":return A.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getStats",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/stats"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getDocuments",value:(function(){var i=v(f().mark(function c(){var o,s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(o=k.length>0&&k[0]!==void 0?k[0]:{},o=Ze(o),o.filter===void 0){A.next=16;break}return A.prev=3,s="indexes/".concat(this.uid,"/documents/fetch"),A.next=7,this.httpRequest.post(s,o);case 7:return A.abrupt("return",A.sent);case 10:throw A.prev=10,A.t0=A.catch(3),(A.t0 instanceof yt||A.t0 instanceof vt)&&(A.t0.message=ot(A.t0.message,"getDocuments")),A.t0;case 14:A.next=21;break;case 16:return h="indexes/".concat(this.uid,"/documents"),_=Array.isArray((n=o)===null||n===void 0?void 0:n.fields)?{fields:(l=o)===null||l===void 0||(l=l.fields)===null||l===void 0?void 0:l.join(",")}:{},A.next=20,this.httpRequest.get(h,U(U({},o),_));case 20:return A.abrupt("return",A.sent);case 21:case"end":return A.stop()}},c,this,[[3,10]])}));function d(){return i.apply(this,arguments)}return d})()},{key:"getDocument",value:(function(){var i=v(f().mark(function c(o,s){var n,l;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n="indexes/".concat(this.uid,"/documents/").concat(o),l=(function(){if(Array.isArray(s?.fields)){var k;return s==null||(k=s.fields)===null||k===void 0?void 0:k.join(",")}})(),_.next=4,this.httpRequest.get(n,Ze(U(U({},s),{},{fields:l})));case 4:return _.abrupt("return",_.sent);case 5:case"end":return _.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"addDocuments",value:(function(){var i=v(f().mark(function c(o,s){var n,l;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n="indexes/".concat(this.uid,"/documents"),_.next=3,this.httpRequest.post(n,o,s);case 3:return l=_.sent,_.abrupt("return",new F(l));case 5:case"end":return _.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"addDocumentsFromString",value:(function(){var i=v(f().mark(function c(o,s,n){var l,h;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return l="indexes/".concat(this.uid,"/documents"),k.next=3,this.httpRequest.post(l,o,n,{headers:{"Content-Type":s}});case 3:return h=k.sent,k.abrupt("return",new F(h));case 5:case"end":return k.stop()}},c,this)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"addDocumentsInBatches",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_=arguments;return f().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:s=_.length>1&&_[1]!==void 0?_[1]:1e3,n=_.length>2?_[2]:void 0,l=[],h=0;case 4:if(!(h<o.length)){L.next=13;break}return L.t0=l,L.next=8,this.addDocuments(o.slice(h,h+s),n);case 8:L.t1=L.sent,L.t0.push.call(L.t0,L.t1);case 10:h+=s,L.next=4;break;case 13:return L.abrupt("return",l);case 14:case"end":return L.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"updateDocuments",value:(function(){var i=v(f().mark(function c(o,s){var n,l;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return n="indexes/".concat(this.uid,"/documents"),_.next=3,this.httpRequest.put(n,o,s);case 3:return l=_.sent,_.abrupt("return",new F(l));case 5:case"end":return _.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"updateDocumentsInBatches",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_=arguments;return f().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:s=_.length>1&&_[1]!==void 0?_[1]:1e3,n=_.length>2?_[2]:void 0,l=[],h=0;case 4:if(!(h<o.length)){L.next=13;break}return L.t0=l,L.next=8,this.updateDocuments(o.slice(h,h+s),n);case 8:L.t1=L.sent,L.t0.push.call(L.t0,L.t1);case 10:h+=s,L.next=4;break;case 13:return L.abrupt("return",l);case 14:case"end":return L.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"updateDocumentsFromString",value:(function(){var i=v(f().mark(function c(o,s,n){var l,h;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return l="indexes/".concat(this.uid,"/documents"),k.next=3,this.httpRequest.put(l,o,n,{headers:{"Content-Type":s}});case 3:return h=k.sent,k.abrupt("return",new F(h));case 5:case"end":return k.stop()}},c,this)}));function d(c,o,s){return i.apply(this,arguments)}return d})()},{key:"deleteDocument",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/documents/").concat(o),h.next=3,this.httpRequest.delete(s);case 3:return n=h.sent,n.enqueuedAt=new Date(n.enqueuedAt),h.abrupt("return",n);case 6:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"deleteDocuments",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return s=!Array.isArray(o)&&Dt(o)==="object",n=s?"documents/delete":"documents/delete-batch",l="indexes/".concat(this.uid,"/").concat(n),k.prev=3,k.next=6,this.httpRequest.post(l,o);case 6:return h=k.sent,k.abrupt("return",new F(h));case 10:throw k.prev=10,k.t0=k.catch(3),(k.t0 instanceof yt&&s||k.t0 instanceof vt)&&(k.t0.message=ot(k.t0.message,"deleteDocuments")),k.t0;case 14:case"end":return k.stop()}},c,this,[[3,10]])}));function d(c){return i.apply(this,arguments)}return d})()},{key:"deleteAllDocuments",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/documents"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateDocumentsByFunction",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/documents/edit"),h.next=3,this.httpRequest.post(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getSettings",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSettings",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings"),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,n.enqueued=new Date(n.enqueuedAt),h.abrupt("return",n);case 6:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSettings",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getPagination",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/pagination"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updatePagination",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/pagination"),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetPagination",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/pagination"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getSynonyms",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/synonyms"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSynonyms",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/synonyms"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSynonyms",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/synonyms"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getStopWords",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/stop-words"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateStopWords",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/stop-words"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetStopWords",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/stop-words"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getRankingRules",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/ranking-rules"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateRankingRules",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/ranking-rules"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetRankingRules",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/ranking-rules"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getDistinctAttribute",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/distinct-attribute"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateDistinctAttribute",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/distinct-attribute"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetDistinctAttribute",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/distinct-attribute"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getFilterableAttributes",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/filterable-attributes"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateFilterableAttributes",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/filterable-attributes"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetFilterableAttributes",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/filterable-attributes"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getSortableAttributes",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/sortable-attributes"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSortableAttributes",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/sortable-attributes"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSortableAttributes",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/sortable-attributes"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getSearchableAttributes",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/searchable-attributes"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSearchableAttributes",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/searchable-attributes"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSearchableAttributes",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/searchable-attributes"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getDisplayedAttributes",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/displayed-attributes"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateDisplayedAttributes",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/displayed-attributes"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetDisplayedAttributes",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/displayed-attributes"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getTypoTolerance",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/typo-tolerance"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateTypoTolerance",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/typo-tolerance"),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,n.enqueuedAt=new Date(n.enqueuedAt),h.abrupt("return",n);case 6:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetTypoTolerance",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/typo-tolerance"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getFaceting",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/faceting"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateFaceting",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/faceting"),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetFaceting",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/faceting"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getSeparatorTokens",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/separator-tokens"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSeparatorTokens",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/separator-tokens"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSeparatorTokens",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/separator-tokens"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getNonSeparatorTokens",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/non-separator-tokens"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateNonSeparatorTokens",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/non-separator-tokens"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetNonSeparatorTokens",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/non-separator-tokens"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getDictionary",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/dictionary"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateDictionary",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/dictionary"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetDictionary",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/dictionary"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getProximityPrecision",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/proximity-precision"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateProximityPrecision",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/proximity-precision"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetProximityPrecision",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/proximity-precision"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getEmbedders",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/embedders"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateEmbedders",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/embedders"),h.next=3,this.httpRequest.patch(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetEmbedders",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/embedders"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,s.enqueuedAt=new Date(s.enqueuedAt),l.abrupt("return",s);case 6:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getSearchCutoffMs",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateSearchCutoffMs",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetSearchCutoffMs",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/search-cutoff-ms"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getLocalizedAttributes",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="indexes/".concat(this.uid,"/settings/localized-attributes"),n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"updateLocalizedAttributes",value:(function(){var i=v(f().mark(function c(o){var s,n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s="indexes/".concat(this.uid,"/settings/localized-attributes"),h.next=3,this.httpRequest.put(s,o);case 3:return n=h.sent,h.abrupt("return",new F(n));case 5:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"resetLocalizedAttributes",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="indexes/".concat(this.uid,"/settings/localized-attributes"),l.next=3,this.httpRequest.delete(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()}],[{key:"create",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s=k.length>1&&k[1]!==void 0?k[1]:{},n=k.length>2?k[2]:void 0,l="indexes",h=new gt(n),A.next=6,h.post(l,U(U({},s),{},{uid:o}));case 6:return _=A.sent,A.abrupt("return",new F(_));case 8:case"end":return A.stop()}},c)}));function d(c){return i.apply(this,arguments)}return d})()}])})(),Pr=(function(){function g(i){Z(this,g),$(this,"config",void 0),$(this,"httpRequest",void 0),$(this,"tasks",void 0),this.config=i,this.httpRequest=new gt(i),this.tasks=new Yt(i)}return ce(g,[{key:"index",value:function(d){return new Te(this.config,d)}},{key:"getIndex",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Te(this.config,o).fetchInfo());case 1:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getRawIndex",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Te(this.config,o).getRawInfo());case 1:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"getIndexes",value:(function(){var i=v(f().mark(function c(){var o=this,s,n,l,h=arguments;return f().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return s=h.length>0&&h[0]!==void 0?h[0]:{},k.next=3,this.getRawIndexes(s);case 3:return n=k.sent,l=n.results.map(function(L){return new Te(o.config,L.uid,L.primaryKey)}),k.abrupt("return",U(U({},n),{},{results:l}));case 6:case"end":return k.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getRawIndexes",value:(function(){var i=v(f().mark(function c(){var o,s,n=arguments;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=n.length>0&&n[0]!==void 0?n[0]:{},s="indexes",h.next=4,this.httpRequest.get(s,o);case 4:return h.abrupt("return",h.sent);case 5:case"end":return h.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"createIndex",value:(function(){var i=v(f().mark(function c(o){var s,n=arguments;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.length>1&&n[1]!==void 0?n[1]:{},h.next=3,Te.create(o,s,this.config);case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"updateIndex",value:(function(){var i=v(f().mark(function c(o){var s,n=arguments;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return s=n.length>1&&n[1]!==void 0?n[1]:{},h.next=3,new Te(this.config,o).update(s);case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"deleteIndex",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Te(this.config,o).delete();case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"deleteIndexIfExists",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.deleteIndex(o);case 3:return n.abrupt("return",!0);case 6:if(n.prev=6,n.t0=n.catch(0),n.t0.code!==p.INDEX_NOT_FOUND){n.next=10;break}return n.abrupt("return",!1);case 10:throw n.t0;case 11:case"end":return n.stop()}},c,this,[[0,6]])}));function d(c){return i.apply(this,arguments)}return d})()},{key:"swapIndexes",value:(function(){var i=v(f().mark(function c(o){var s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="/swap-indexes",l.next=3,this.httpRequest.post(s,o);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"multiSearch",value:(function(){var i=v(f().mark(function c(o,s){var n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n="multi-search",h.next=3,this.httpRequest.post(n,o,void 0,s);case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"getTasks",value:(function(){var i=v(f().mark(function c(){var o,s=arguments;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=s.length>0&&s[0]!==void 0?s[0]:{},l.next=3,this.tasks.getTasks(o);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getTask",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.tasks.getTask(o);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"waitForTasks",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s=k.length>1&&k[1]!==void 0?k[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,A.next=3,this.tasks.waitForTasks(o,{timeOutMs:l,intervalMs:_});case 3:return A.abrupt("return",A.sent);case 4:case"end":return A.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"waitForTask",value:(function(){var i=v(f().mark(function c(o){var s,n,l,h,_,k=arguments;return f().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return s=k.length>1&&k[1]!==void 0?k[1]:{},n=s.timeOutMs,l=n===void 0?5e3:n,h=s.intervalMs,_=h===void 0?50:h,A.next=3,this.tasks.waitForTask(o,{timeOutMs:l,intervalMs:_});case 3:return A.abrupt("return",A.sent);case 4:case"end":return A.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"cancelTasks",value:(function(){var i=v(f().mark(function c(o){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.tasks.cancelTasks(o);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"deleteTasks",value:(function(){var i=v(f().mark(function c(){var o,s=arguments;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o=s.length>0&&s[0]!==void 0?s[0]:{},l.next=3,this.tasks.deleteTasks(o);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getKeys",value:(function(){var i=v(f().mark(function c(){var o,s,n,l=arguments;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},s="keys",_.next=4,this.httpRequest.get(s,o);case 4:return n=_.sent,n.results=n.results.map(function(k){return U(U({},k),{},{createdAt:new Date(k.createdAt),updatedAt:new Date(k.updatedAt)})}),_.abrupt("return",n);case 7:case"end":return _.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getKey",value:(function(){var i=v(f().mark(function c(o){var s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="keys/".concat(o),l.next=3,this.httpRequest.get(s);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"createKey",value:(function(){var i=v(f().mark(function c(o){var s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="keys",l.next=3,this.httpRequest.post(s,o);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"updateKey",value:(function(){var i=v(f().mark(function c(o,s){var n;return f().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n="keys/".concat(o),h.next=3,this.httpRequest.patch(n,s);case 3:return h.abrupt("return",h.sent);case 4:case"end":return h.stop()}},c,this)}));function d(c,o){return i.apply(this,arguments)}return d})()},{key:"deleteKey",value:(function(){var i=v(f().mark(function c(o){var s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s="keys/".concat(o),l.next=3,this.httpRequest.delete(s);case 3:return l.abrupt("return",l.sent);case 4:case"end":return l.stop()}},c,this)}));function d(c){return i.apply(this,arguments)}return d})()},{key:"health",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="health",n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"isHealthy",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o="health",n.next=4,this.httpRequest.get(o);case 4:return n.abrupt("return",!0);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",!1);case 10:case"end":return n.stop()}},c,this,[[0,7]])}));function d(){return i.apply(this,arguments)}return d})()},{key:"getStats",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="stats",n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"getVersion",value:(function(){var i=v(f().mark(function c(){var o;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="version",n.next=3,this.httpRequest.get(o);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"createDump",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="dumps",l.next=3,this.httpRequest.post(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"createSnapshot",value:(function(){var i=v(f().mark(function c(){var o,s;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return o="snapshots",l.next=3,this.httpRequest.post(o);case 3:return s=l.sent,l.abrupt("return",new F(s));case 5:case"end":return l.stop()}},c,this)}));function d(){return i.apply(this,arguments)}return d})()},{key:"generateTenantToken",value:function(d,c,o){var s=new Error;return s.message=`Meilisearch: failed to generate a tenant token. Generation of a token only works in a node environment 
 `.concat(s.stack,"."),Promise.reject(s)}}])})(),xt=(function(g){function i(d){return Z(this,i),z(this,i,[d])}return ut(i,g),ce(i)})(Pr);t.ContentTypeEnum=r,t.ErrorStatusCode=p,t.Index=Te,t.MatchingStrategies=e,t.MeiliSearch=xt,t.MeiliSearchApiError=vt,t.MeiliSearchError=be,t.MeiliSearchRequestError=yt,t.MeiliSearchTimeOutError=Gt,t.Meilisearch=xt,t.TaskStatus=a,t.TaskTypes=u,t.default=xt,t.versionErrorHintMessage=ot,Object.defineProperty(t,"__esModule",{value:!0})}))});function Jt(){let t=document.querySelector(".brand-full"),e=document.querySelector(".brand-compact");t&&sessionStorage.getItem("brandAnimated")==="1"&&(t.classList.add("reverse-animated"),sessionStorage.setItem("brandAnimated","0"),setTimeout(()=>{t.classList.remove("reverse-animated")},800)),e&&sessionStorage.getItem("brandAnimated")!=="1"&&(e.classList.add("animated"),sessionStorage.setItem("brandAnimated","1"))}function kt(t){let r=Array.from((t||document).querySelectorAll("img.lazy"));if(r.length===0)return;let a=u=>{let p=u.getAttribute("data-lqip");p&&(!u.getAttribute("src")||u.getAttribute("src")?.[0]==="#")&&(u.src=p)};if(r.forEach(u=>{if(u.dataset.lazyInitialized)return;u.dataset.lazyInitialized="1";let p=()=>{let y=u.getAttribute("data-src");try{let w=u.currentSrc||u.src||"";(!y||w===y)&&u.classList.add("loaded")}catch{u.classList.add("loaded")}},m=()=>{u.classList.add("loaded")};u.addEventListener("load",p),u.addEventListener("error",m),a(u),u.complete&&(u.naturalWidth&&u.naturalWidth>0?p():m())}),"IntersectionObserver"in window){let u=new IntersectionObserver((p,m)=>{p.forEach(y=>{if(!y.isIntersecting)return;let w=y.target,T=w.getAttribute("data-src");T&&w.src!==T&&(w.src=T),m.unobserve(w)})},{root:null,rootMargin:"200px",threshold:.01});r.forEach(p=>{p.classList.contains("loaded")||u.observe(p)})}else r.forEach(u=>{let p=u.getAttribute("data-src");p&&!u.classList.contains("loaded")&&u.src!==p&&(u.src=p)})}function er(){let t=document.getElementById("drawer-panel"),e=document.getElementById("drawer-backdrop");if(!t||!e)return;function r(u){let p=t.dataset.drawerPushed==="true";document.body.classList.remove("drawer-open"),t.innerHTML="",t.setAttribute("aria-hidden","true"),e.setAttribute("aria-hidden","true"),u&&p&&history.back(),delete t.dataset.drawerPushed}function a(u,p,m,y){t.innerHTML=p,t.setAttribute("aria-hidden","false"),e.setAttribute("aria-hidden","false"),document.body.classList.add("drawer-open");let w=t.querySelector(".drawer-close");w&&w.addEventListener("click",()=>r(!0),{once:!0});let T=t.querySelector(".drawer-back-link");T&&T.addEventListener("click",v=>{v.preventDefault(),r(!0)},{once:!0});try{kt(t),Array.from(t.querySelectorAll("img.lazy")).forEach(v=>{let z=v.getAttribute("data-src");z&&v.src!==z&&(v.src=z)})}catch(v){console.warn("initLazyImages failed",v)}if(m){let v=y?`/id/${u}?page=${y}`:`/id/${u}`;history.pushState({drawer:!0,number:u,page:y},"",v),t.dataset.drawerPushed="true"}else t.dataset.drawerPushed="false"}e.addEventListener("click",()=>r(!0)),document.addEventListener("click",u=>{let p=u.target.closest(".id-card");if(!p)return;u.preventDefault();let m=p.getAttribute("href")||p.querySelector("a")?.getAttribute("href");if(!m)return;let y=m.match(/\/id\/(\d+)/);if(!y)return;let w=y[1],v=new URL(m,window.location.origin).searchParams.get("page"),z=v?`/id/${w}?partial=1&page=${v}`:`/id/${w}?partial=1`;fetch(z).then(Z=>{if(!Z.ok)throw new Error("fetch failed");return Z.text()}).then(Z=>a(parseInt(w),Z,!0,v)).catch(Z=>{console.error(Z),window.location.href=m})}),document.addEventListener("click",u=>{let p=u.target.closest(".drawer-link");if(!p)return;u.preventDefault();let m=p.getAttribute("href");if(!m)return;let y=m+(m.includes("?")?"&partial=1":"?partial=1");fetch(y).then(w=>{if(!w.ok)throw new Error("fetch failed");return w.text()}).then(w=>a(0,w,!1,null)).catch(w=>{console.error(w),window.location.href=m})}),window.addEventListener("popstate",u=>{if(document.body.classList.contains("drawer-open")){let m=location.pathname.match(/\/id\/(\d+)/);if(m){let y=m[1],w=new URLSearchParams(location.search).get("page"),T=w?`/id/${y}?partial=1&page=${w}`:`/id/${y}?partial=1`;fetch(T).then(v=>v.text()).then(v=>a(parseInt(y),v,!1,w))}else r(!1)}else{let p=location.pathname.match(/\/id\/(\d+)/);if(p&&document.querySelector(".id-grid")){let m=p[1],y=new URLSearchParams(location.search).get("page"),w=y?`/id/${m}?partial=1&page=${y}`:`/id/${m}?partial=1`;fetch(w).then(T=>T.text()).then(T=>a(parseInt(m),T,!1,y))}}})}function tr(){document.addEventListener("submit",t=>{let e=t.target;if(!e||e.id!=="requestBagForm")return;t.preventDefault();let r=e.querySelector('input[name="email"]'),a=e.querySelector("button[type=submit]"),u=e.querySelector("#requestResult");if(!r||!a||!u)return;let p=r.value.trim();if(!p||!p.includes("@")){u.style.display="block",u.style.color="#d32f2f",u.innerText="Bitte gib eine g\xFCltige E\u2011Mail an.";return}a.disabled=!0,a.innerText="sende...",fetch("/werkzeug-anfordern",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p})}).then(m=>m.json()).then(m=>{m.status==="ok"?e.innerHTML='<p style="font-weight:500;">Danke! Wir benachrichtigen dich per E\u2011Mail, sobald ein Werkzeug verf\xFCgbar ist.</p>':(u.style.display="block",u.style.color="#d32f2f",u.innerText=m.error||"Etwas ging schief.",a.disabled=!1,a.innerText="anfragen")}).catch(m=>{u.style.display="block",u.style.color="#d32f2f",u.innerText="Netzwerkfehler. Bitte versuche es erneut.",a.disabled=!1,a.innerText="anfragen"})})}var vr=Wr(nr());var ze={};Zr(ze,{BRAND:()=>bn,DIRTY:()=>De,EMPTY_PATH:()=>Jr,INVALID:()=>x,NEVER:()=>ia,OK:()=>J,ParseStatus:()=>Q,Schema:()=>q,ZodAny:()=>Ae,ZodArray:()=>_e,ZodBigInt:()=>Ne,ZodBoolean:()=>Oe,ZodBranded:()=>pt,ZodCatch:()=>Ve,ZodDate:()=>xe,ZodDefault:()=>He,ZodDiscriminatedUnion:()=>It,ZodEffects:()=>ue,ZodEnum:()=>Fe,ZodError:()=>te,ZodFirstPartyTypeKind:()=>M,ZodFunction:()=>St,ZodIntersection:()=>qe,ZodIssueCode:()=>b,ZodLazy:()=>Pe,ZodLiteral:()=>je,ZodMap:()=>tt,ZodNaN:()=>nt,ZodNativeEnum:()=>Ue,ZodNever:()=>oe,ZodNull:()=>Ce,ZodNullable:()=>he,ZodNumber:()=>Le,ZodObject:()=>re,ZodOptional:()=>se,ZodParsedType:()=>D,ZodPipeline:()=>ht,ZodPromise:()=>Se,ZodReadonly:()=>Be,ZodRecord:()=>At,ZodSchema:()=>q,ZodSet:()=>rt,ZodString:()=>Ie,ZodSymbol:()=>Je,ZodTransformer:()=>ue,ZodTuple:()=>pe,ZodType:()=>q,ZodUndefined:()=>Me,ZodUnion:()=>$e,ZodUnknown:()=>ge,ZodVoid:()=>et,addIssueToContext:()=>S,any:()=>Nn,array:()=>Cn,bigint:()=>An,boolean:()=>fr,coerce:()=>sa,custom:()=>dr,date:()=>Sn,datetimeRegex:()=>or,defaultErrorMap:()=>ve,discriminatedUnion:()=>jn,effect:()=>Xn,enum:()=>Gn,function:()=>zn,getErrorMap:()=>Ye,getParsedType:()=>de,instanceof:()=>En,intersection:()=>Fn,isAborted:()=>Tt,isAsync:()=>Xe,isDirty:()=>Et,isValid:()=>Ee,late:()=>Tn,lazy:()=>Kn,literal:()=>Zn,makeIssue:()=>dt,map:()=>Vn,nan:()=>In,nativeEnum:()=>Wn,never:()=>xn,null:()=>Ln,nullable:()=>Jn,number:()=>hr,object:()=>$n,objectUtil:()=>Pt,oboolean:()=>aa,onumber:()=>na,optional:()=>Qn,ostring:()=>ra,pipeline:()=>ta,preprocess:()=>ea,promise:()=>Yn,quotelessJson:()=>Yr,record:()=>Hn,set:()=>Bn,setErrorMap:()=>Qr,strictObject:()=>qn,string:()=>pr,symbol:()=>Rn,transformer:()=>Xn,tuple:()=>Un,undefined:()=>Dn,union:()=>Pn,unknown:()=>On,util:()=>j,void:()=>Mn});var j;(function(t){t.assertEqual=u=>{};function e(u){}t.assertIs=e;function r(u){throw new Error}t.assertNever=r,t.arrayToEnum=u=>{let p={};for(let m of u)p[m]=m;return p},t.getValidEnumValues=u=>{let p=t.objectKeys(u).filter(y=>typeof u[u[y]]!="number"),m={};for(let y of p)m[y]=u[y];return t.objectValues(m)},t.objectValues=u=>t.objectKeys(u).map(function(p){return u[p]}),t.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{let p=[];for(let m in u)Object.prototype.hasOwnProperty.call(u,m)&&p.push(m);return p},t.find=(u,p)=>{for(let m of u)if(p(m))return m},t.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&Number.isFinite(u)&&Math.floor(u)===u;function a(u,p=" | "){return u.map(m=>typeof m=="string"?`'${m}'`:m).join(p)}t.joinValues=a,t.jsonStringifyReplacer=(u,p)=>typeof p=="bigint"?p.toString():p})(j||(j={}));var Pt;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Pt||(Pt={}));var D=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),de=t=>{switch(typeof t){case"undefined":return D.undefined;case"string":return D.string;case"number":return Number.isNaN(t)?D.nan:D.number;case"boolean":return D.boolean;case"function":return D.function;case"bigint":return D.bigint;case"symbol":return D.symbol;case"object":return Array.isArray(t)?D.array:t===null?D.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?D.promise:typeof Map<"u"&&t instanceof Map?D.map:typeof Set<"u"&&t instanceof Set?D.set:typeof Date<"u"&&t instanceof Date?D.date:D.object;default:return D.unknown}};var b=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Yr=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),te=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(p){return p.message},a={_errors:[]},u=p=>{for(let m of p.issues)if(m.code==="invalid_union")m.unionErrors.map(u);else if(m.code==="invalid_return_type")u(m.returnTypeError);else if(m.code==="invalid_arguments")u(m.argumentsError);else if(m.path.length===0)a._errors.push(r(m));else{let y=a,w=0;for(;w<m.path.length;){let T=m.path[w];w===m.path.length-1?(y[T]=y[T]||{_errors:[]},y[T]._errors.push(r(m))):y[T]=y[T]||{_errors:[]},y=y[T],w++}}};return u(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},a=[];for(let u of this.issues)if(u.path.length>0){let p=u.path[0];r[p]=r[p]||[],r[p].push(e(u))}else a.push(e(u));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}};te.create=t=>new te(t);var Xr=(t,e)=>{let r;switch(t.code){case b.invalid_type:t.received===D.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case b.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,j.jsonStringifyReplacer)}`;break;case b.unrecognized_keys:r=`Unrecognized key(s) in object: ${j.joinValues(t.keys,", ")}`;break;case b.invalid_union:r="Invalid input";break;case b.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${j.joinValues(t.options)}`;break;case b.invalid_enum_value:r=`Invalid enum value. Expected ${j.joinValues(t.options)}, received '${t.received}'`;break;case b.invalid_arguments:r="Invalid function arguments";break;case b.invalid_return_type:r="Invalid function return type";break;case b.invalid_date:r="Invalid date";break;case b.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:j.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case b.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case b.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case b.custom:r="Invalid input";break;case b.invalid_intersection_types:r="Intersection results could not be merged";break;case b.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case b.not_finite:r="Number must be finite";break;default:r=e.defaultError,j.assertNever(t)}return{message:r}},ve=Xr;var ar=ve;function Qr(t){ar=t}function Ye(){return ar}var dt=t=>{let{data:e,path:r,errorMaps:a,issueData:u}=t,p=[...r,...u.path||[]],m={...u,path:p};if(u.message!==void 0)return{...u,path:p,message:u.message};let y="",w=a.filter(T=>!!T).slice().reverse();for(let T of w)y=T(m,{data:e,defaultError:y}).message;return{...u,path:p,message:y}},Jr=[];function S(t,e){let r=Ye(),a=dt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ve?void 0:ve].filter(u=>!!u)});t.common.issues.push(a)}var Q=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let a=[];for(let u of r){if(u.status==="aborted")return x;u.status==="dirty"&&e.dirty(),a.push(u.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){let a=[];for(let u of r){let p=await u.key,m=await u.value;a.push({key:p,value:m})}return t.mergeObjectSync(e,a)}static mergeObjectSync(e,r){let a={};for(let u of r){let{key:p,value:m}=u;if(p.status==="aborted"||m.status==="aborted")return x;p.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),p.value!=="__proto__"&&(typeof m.value<"u"||u.alwaysSet)&&(a[p.value]=m.value)}return{status:e.value,value:a}}},x=Object.freeze({status:"aborted"}),De=t=>({status:"dirty",value:t}),J=t=>({status:"valid",value:t}),Tt=t=>t.status==="aborted",Et=t=>t.status==="dirty",Ee=t=>t.status==="valid",Xe=t=>typeof Promise<"u"&&t instanceof Promise;var N;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(N||(N={}));var ie=class{constructor(e,r,a,u){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=u}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},sr=(t,e)=>{if(Ee(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new te(t.common.issues);return this._error=r,this._error}}};function C(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:u}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:u}:{errorMap:(m,y)=>{let{message:w}=t;return m.code==="invalid_enum_value"?{message:w??y.defaultError}:typeof y.data>"u"?{message:w??a??y.defaultError}:m.code!=="invalid_type"?{message:y.defaultError}:{message:w??r??y.defaultError}},description:u}}var q=class{get description(){return this._def.description}_getType(e){return de(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Q,ctx:{common:e.parent.common,data:e.data,parsedType:de(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(Xe(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},u=this._parseSync({data:e,path:a.path,parent:a});return sr(a,u)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return Ee(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Ee(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){let a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:de(e)},u=this._parse({data:e,path:a.path,parent:a}),p=await(Xe(u)?u:Promise.resolve(u));return sr(a,p)}refine(e,r){let a=u=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(u):r;return this._refinement((u,p)=>{let m=e(u),y=()=>p.addIssue({code:b.custom,...a(u)});return typeof Promise<"u"&&m instanceof Promise?m.then(w=>w?!0:(y(),!1)):m?!0:(y(),!1)})}refinement(e,r){return this._refinement((a,u)=>e(a)?!0:(u.addIssue(typeof r=="function"?r(a,u):r),!1))}_refinement(e){return new ue({schema:this,typeName:M.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return se.create(this,this._def)}nullable(){return he.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _e.create(this)}promise(){return Se.create(this,this._def)}or(e){return $e.create([this,e],this._def)}and(e){return qe.create(this,e,this._def)}transform(e){return new ue({...C(this._def),schema:this,typeName:M.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new He({...C(this._def),innerType:this,defaultValue:r,typeName:M.ZodDefault})}brand(){return new pt({typeName:M.ZodBranded,type:this,...C(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ve({...C(this._def),innerType:this,catchValue:r,typeName:M.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return ht.create(this,e)}readonly(){return Be.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},en=/^c[^\s-]{8,}$/i,tn=/^[0-9a-z]+$/,rn=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nn=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,an=/^[a-z0-9_-]{21}$/i,sn=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,un=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cn=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,on="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",jt,ln=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hn=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fn=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mn=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ur="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vn=new RegExp(`^${ur}$`);function cr(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function yn(t){return new RegExp(`^${cr(t)}$`)}function or(t){let e=`${ur}T${cr(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function gn(t,e){return!!((e==="v4"||!e)&&ln.test(t)||(e==="v6"||!e)&&pn.test(t))}function _n(t,e){if(!sn.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),u=JSON.parse(atob(a));return!(typeof u!="object"||u===null||"typ"in u&&u?.typ!=="JWT"||!u.alg||e&&u.alg!==e)}catch{return!1}}function wn(t,e){return!!((e==="v4"||!e)&&dn.test(t)||(e==="v6"||!e)&&hn.test(t))}var Ie=class t extends q{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==D.string){let p=this._getOrReturnCtx(e);return S(p,{code:b.invalid_type,expected:D.string,received:p.parsedType}),x}let a=new Q,u;for(let p of this._def.checks)if(p.kind==="min")e.data.length<p.value&&(u=this._getOrReturnCtx(e,u),S(u,{code:b.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="max")e.data.length>p.value&&(u=this._getOrReturnCtx(e,u),S(u,{code:b.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="length"){let m=e.data.length>p.value,y=e.data.length<p.value;(m||y)&&(u=this._getOrReturnCtx(e,u),m?S(u,{code:b.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}):y&&S(u,{code:b.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}),a.dirty())}else if(p.kind==="email")cn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"email",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="emoji")jt||(jt=new RegExp(on,"u")),jt.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"emoji",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="uuid")nn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"uuid",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="nanoid")an.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"nanoid",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid")en.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"cuid",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid2")tn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"cuid2",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="ulid")rn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"ulid",code:b.invalid_string,message:p.message}),a.dirty());else if(p.kind==="url")try{new URL(e.data)}catch{u=this._getOrReturnCtx(e,u),S(u,{validation:"url",code:b.invalid_string,message:p.message}),a.dirty()}else p.kind==="regex"?(p.regex.lastIndex=0,p.regex.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"regex",code:b.invalid_string,message:p.message}),a.dirty())):p.kind==="trim"?e.data=e.data.trim():p.kind==="includes"?e.data.includes(p.value,p.position)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:{includes:p.value,position:p.position},message:p.message}),a.dirty()):p.kind==="toLowerCase"?e.data=e.data.toLowerCase():p.kind==="toUpperCase"?e.data=e.data.toUpperCase():p.kind==="startsWith"?e.data.startsWith(p.value)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:{startsWith:p.value},message:p.message}),a.dirty()):p.kind==="endsWith"?e.data.endsWith(p.value)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:{endsWith:p.value},message:p.message}),a.dirty()):p.kind==="datetime"?or(p).test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:"datetime",message:p.message}),a.dirty()):p.kind==="date"?vn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:"date",message:p.message}),a.dirty()):p.kind==="time"?yn(p).test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{code:b.invalid_string,validation:"time",message:p.message}),a.dirty()):p.kind==="duration"?un.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"duration",code:b.invalid_string,message:p.message}),a.dirty()):p.kind==="ip"?gn(e.data,p.version)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"ip",code:b.invalid_string,message:p.message}),a.dirty()):p.kind==="jwt"?_n(e.data,p.alg)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"jwt",code:b.invalid_string,message:p.message}),a.dirty()):p.kind==="cidr"?wn(e.data,p.version)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"cidr",code:b.invalid_string,message:p.message}),a.dirty()):p.kind==="base64"?fn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"base64",code:b.invalid_string,message:p.message}),a.dirty()):p.kind==="base64url"?mn.test(e.data)||(u=this._getOrReturnCtx(e,u),S(u,{validation:"base64url",code:b.invalid_string,message:p.message}),a.dirty()):j.assertNever(p);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(u=>e.test(u),{validation:r,code:b.invalid_string,...N.errToObj(a)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...N.errToObj(e)})}url(e){return this._addCheck({kind:"url",...N.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...N.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...N.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...N.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...N.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...N.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...N.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...N.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...N.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...N.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...N.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...N.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...N.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...N.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...N.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...N.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...N.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...N.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...N.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...N.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...N.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...N.errToObj(r)})}nonempty(e){return this.min(1,N.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ie.create=t=>new Ie({checks:[],typeName:M.ZodString,coerce:t?.coerce??!1,...C(t)});function kn(t,e){let r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,u=r>a?r:a,p=Number.parseInt(t.toFixed(u).replace(".","")),m=Number.parseInt(e.toFixed(u).replace(".",""));return p%m/10**u}var Le=class t extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==D.number){let p=this._getOrReturnCtx(e);return S(p,{code:b.invalid_type,expected:D.number,received:p.parsedType}),x}let a,u=new Q;for(let p of this._def.checks)p.kind==="int"?j.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),S(a,{code:b.invalid_type,expected:"integer",received:"float",message:p.message}),u.dirty()):p.kind==="min"?(p.inclusive?e.data<p.value:e.data<=p.value)&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.too_small,minimum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),u.dirty()):p.kind==="max"?(p.inclusive?e.data>p.value:e.data>=p.value)&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.too_big,maximum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),u.dirty()):p.kind==="multipleOf"?kn(e.data,p.value)!==0&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.not_multiple_of,multipleOf:p.value,message:p.message}),u.dirty()):p.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),S(a,{code:b.not_finite,message:p.message}),u.dirty()):j.assertNever(p);return{status:u.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,N.toString(r))}gt(e,r){return this.setLimit("min",e,!1,N.toString(r))}lte(e,r){return this.setLimit("max",e,!0,N.toString(r))}lt(e,r){return this.setLimit("max",e,!1,N.toString(r))}setLimit(e,r,a,u){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:N.toString(u)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:N.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:N.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Le.create=t=>new Le({checks:[],typeName:M.ZodNumber,coerce:t?.coerce||!1,...C(t)});var Ne=class t extends q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==D.bigint)return this._getInvalidInput(e);let a,u=new Q;for(let p of this._def.checks)p.kind==="min"?(p.inclusive?e.data<p.value:e.data<=p.value)&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.too_small,type:"bigint",minimum:p.value,inclusive:p.inclusive,message:p.message}),u.dirty()):p.kind==="max"?(p.inclusive?e.data>p.value:e.data>=p.value)&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.too_big,type:"bigint",maximum:p.value,inclusive:p.inclusive,message:p.message}),u.dirty()):p.kind==="multipleOf"?e.data%p.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),S(a,{code:b.not_multiple_of,multipleOf:p.value,message:p.message}),u.dirty()):j.assertNever(p);return{status:u.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return S(r,{code:b.invalid_type,expected:D.bigint,received:r.parsedType}),x}gte(e,r){return this.setLimit("min",e,!0,N.toString(r))}gt(e,r){return this.setLimit("min",e,!1,N.toString(r))}lte(e,r){return this.setLimit("max",e,!0,N.toString(r))}lt(e,r){return this.setLimit("max",e,!1,N.toString(r))}setLimit(e,r,a,u){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:N.toString(u)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:N.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Ne.create=t=>new Ne({checks:[],typeName:M.ZodBigInt,coerce:t?.coerce??!1,...C(t)});var Oe=class extends q{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==D.boolean){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.boolean,received:a.parsedType}),x}return J(e.data)}};Oe.create=t=>new Oe({typeName:M.ZodBoolean,coerce:t?.coerce||!1,...C(t)});var xe=class t extends q{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==D.date){let p=this._getOrReturnCtx(e);return S(p,{code:b.invalid_type,expected:D.date,received:p.parsedType}),x}if(Number.isNaN(e.data.getTime())){let p=this._getOrReturnCtx(e);return S(p,{code:b.invalid_date}),x}let a=new Q,u;for(let p of this._def.checks)p.kind==="min"?e.data.getTime()<p.value&&(u=this._getOrReturnCtx(e,u),S(u,{code:b.too_small,message:p.message,inclusive:!0,exact:!1,minimum:p.value,type:"date"}),a.dirty()):p.kind==="max"?e.data.getTime()>p.value&&(u=this._getOrReturnCtx(e,u),S(u,{code:b.too_big,message:p.message,inclusive:!0,exact:!1,maximum:p.value,type:"date"}),a.dirty()):j.assertNever(p);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:N.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:N.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};xe.create=t=>new xe({checks:[],coerce:t?.coerce||!1,typeName:M.ZodDate,...C(t)});var Je=class extends q{_parse(e){if(this._getType(e)!==D.symbol){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.symbol,received:a.parsedType}),x}return J(e.data)}};Je.create=t=>new Je({typeName:M.ZodSymbol,...C(t)});var Me=class extends q{_parse(e){if(this._getType(e)!==D.undefined){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.undefined,received:a.parsedType}),x}return J(e.data)}};Me.create=t=>new Me({typeName:M.ZodUndefined,...C(t)});var Ce=class extends q{_parse(e){if(this._getType(e)!==D.null){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.null,received:a.parsedType}),x}return J(e.data)}};Ce.create=t=>new Ce({typeName:M.ZodNull,...C(t)});var Ae=class extends q{constructor(){super(...arguments),this._any=!0}_parse(e){return J(e.data)}};Ae.create=t=>new Ae({typeName:M.ZodAny,...C(t)});var ge=class extends q{constructor(){super(...arguments),this._unknown=!0}_parse(e){return J(e.data)}};ge.create=t=>new ge({typeName:M.ZodUnknown,...C(t)});var oe=class extends q{_parse(e){let r=this._getOrReturnCtx(e);return S(r,{code:b.invalid_type,expected:D.never,received:r.parsedType}),x}};oe.create=t=>new oe({typeName:M.ZodNever,...C(t)});var et=class extends q{_parse(e){if(this._getType(e)!==D.undefined){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.void,received:a.parsedType}),x}return J(e.data)}};et.create=t=>new et({typeName:M.ZodVoid,...C(t)});var _e=class t extends q{_parse(e){let{ctx:r,status:a}=this._processInputParams(e),u=this._def;if(r.parsedType!==D.array)return S(r,{code:b.invalid_type,expected:D.array,received:r.parsedType}),x;if(u.exactLength!==null){let m=r.data.length>u.exactLength.value,y=r.data.length<u.exactLength.value;(m||y)&&(S(r,{code:m?b.too_big:b.too_small,minimum:y?u.exactLength.value:void 0,maximum:m?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),a.dirty())}if(u.minLength!==null&&r.data.length<u.minLength.value&&(S(r,{code:b.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),a.dirty()),u.maxLength!==null&&r.data.length>u.maxLength.value&&(S(r,{code:b.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((m,y)=>u.type._parseAsync(new ie(r,m,r.path,y)))).then(m=>Q.mergeArray(a,m));let p=[...r.data].map((m,y)=>u.type._parseSync(new ie(r,m,r.path,y)));return Q.mergeArray(a,p)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:N.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:N.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:N.toString(r)}})}nonempty(e){return this.min(1,e)}};_e.create=(t,e)=>new _e({type:t,minLength:null,maxLength:null,exactLength:null,typeName:M.ZodArray,...C(e)});function Qe(t){if(t instanceof re){let e={};for(let r in t.shape){let a=t.shape[r];e[r]=se.create(Qe(a))}return new re({...t._def,shape:()=>e})}else return t instanceof _e?new _e({...t._def,type:Qe(t.element)}):t instanceof se?se.create(Qe(t.unwrap())):t instanceof he?he.create(Qe(t.unwrap())):t instanceof pe?pe.create(t.items.map(e=>Qe(e))):t}var re=class t extends q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=j.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==D.object){let T=this._getOrReturnCtx(e);return S(T,{code:b.invalid_type,expected:D.object,received:T.parsedType}),x}let{status:a,ctx:u}=this._processInputParams(e),{shape:p,keys:m}=this._getCached(),y=[];if(!(this._def.catchall instanceof oe&&this._def.unknownKeys==="strip"))for(let T in u.data)m.includes(T)||y.push(T);let w=[];for(let T of m){let v=p[T],z=u.data[T];w.push({key:{status:"valid",value:T},value:v._parse(new ie(u,z,u.path,T)),alwaysSet:T in u.data})}if(this._def.catchall instanceof oe){let T=this._def.unknownKeys;if(T==="passthrough")for(let v of y)w.push({key:{status:"valid",value:v},value:{status:"valid",value:u.data[v]}});else if(T==="strict")y.length>0&&(S(u,{code:b.unrecognized_keys,keys:y}),a.dirty());else if(T!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let T=this._def.catchall;for(let v of y){let z=u.data[v];w.push({key:{status:"valid",value:v},value:T._parse(new ie(u,z,u.path,v)),alwaysSet:v in u.data})}}return u.common.async?Promise.resolve().then(async()=>{let T=[];for(let v of w){let z=await v.key,Z=await v.value;T.push({key:z,value:Z,alwaysSet:v.alwaysSet})}return T}).then(T=>Q.mergeObjectSync(a,T)):Q.mergeObjectSync(a,w)}get shape(){return this._def.shape()}strict(e){return N.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{let u=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:N.errToObj(e).message??u}:{message:u}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:M.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let a of j.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let a of j.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}deepPartial(){return Qe(this)}partial(e){let r={};for(let a of j.objectKeys(this.shape)){let u=this.shape[a];e&&!e[a]?r[a]=u:r[a]=u.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let a of j.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let p=this.shape[a];for(;p instanceof se;)p=p._def.innerType;r[a]=p}return new t({...this._def,shape:()=>r})}keyof(){return lr(j.objectKeys(this.shape))}};re.create=(t,e)=>new re({shape:()=>t,unknownKeys:"strip",catchall:oe.create(),typeName:M.ZodObject,...C(e)});re.strictCreate=(t,e)=>new re({shape:()=>t,unknownKeys:"strict",catchall:oe.create(),typeName:M.ZodObject,...C(e)});re.lazycreate=(t,e)=>new re({shape:t,unknownKeys:"strip",catchall:oe.create(),typeName:M.ZodObject,...C(e)});var $e=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),a=this._def.options;function u(p){for(let y of p)if(y.result.status==="valid")return y.result;for(let y of p)if(y.result.status==="dirty")return r.common.issues.push(...y.ctx.common.issues),y.result;let m=p.map(y=>new te(y.ctx.common.issues));return S(r,{code:b.invalid_union,unionErrors:m}),x}if(r.common.async)return Promise.all(a.map(async p=>{let m={...r,common:{...r.common,issues:[]},parent:null};return{result:await p._parseAsync({data:r.data,path:r.path,parent:m}),ctx:m}})).then(u);{let p,m=[];for(let w of a){let T={...r,common:{...r.common,issues:[]},parent:null},v=w._parseSync({data:r.data,path:r.path,parent:T});if(v.status==="valid")return v;v.status==="dirty"&&!p&&(p={result:v,ctx:T}),T.common.issues.length&&m.push(T.common.issues)}if(p)return r.common.issues.push(...p.ctx.common.issues),p.result;let y=m.map(w=>new te(w));return S(r,{code:b.invalid_union,unionErrors:y}),x}}get options(){return this._def.options}};$e.create=(t,e)=>new $e({options:t,typeName:M.ZodUnion,...C(e)});var ye=t=>t instanceof Pe?ye(t.schema):t instanceof ue?ye(t.innerType()):t instanceof je?[t.value]:t instanceof Fe?t.options:t instanceof Ue?j.objectValues(t.enum):t instanceof He?ye(t._def.innerType):t instanceof Me?[void 0]:t instanceof Ce?[null]:t instanceof se?[void 0,...ye(t.unwrap())]:t instanceof he?[null,...ye(t.unwrap())]:t instanceof pt||t instanceof Be?ye(t.unwrap()):t instanceof Ve?ye(t._def.innerType):[],It=class t extends q{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==D.object)return S(r,{code:b.invalid_type,expected:D.object,received:r.parsedType}),x;let a=this.discriminator,u=r.data[a],p=this.optionsMap.get(u);return p?r.common.async?p._parseAsync({data:r.data,path:r.path,parent:r}):p._parseSync({data:r.data,path:r.path,parent:r}):(S(r,{code:b.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){let u=new Map;for(let p of r){let m=ye(p.shape[e]);if(!m.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let y of m){if(u.has(y))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(y)}`);u.set(y,p)}}return new t({typeName:M.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:u,...C(a)})}};function Ft(t,e){let r=de(t),a=de(e);if(t===e)return{valid:!0,data:t};if(r===D.object&&a===D.object){let u=j.objectKeys(e),p=j.objectKeys(t).filter(y=>u.indexOf(y)!==-1),m={...t,...e};for(let y of p){let w=Ft(t[y],e[y]);if(!w.valid)return{valid:!1};m[y]=w.data}return{valid:!0,data:m}}else if(r===D.array&&a===D.array){if(t.length!==e.length)return{valid:!1};let u=[];for(let p=0;p<t.length;p++){let m=t[p],y=e[p],w=Ft(m,y);if(!w.valid)return{valid:!1};u.push(w.data)}return{valid:!0,data:u}}else return r===D.date&&a===D.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var qe=class extends q{_parse(e){let{status:r,ctx:a}=this._processInputParams(e),u=(p,m)=>{if(Tt(p)||Tt(m))return x;let y=Ft(p.value,m.value);return y.valid?((Et(p)||Et(m))&&r.dirty(),{status:r.value,value:y.data}):(S(a,{code:b.invalid_intersection_types}),x)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([p,m])=>u(p,m)):u(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};qe.create=(t,e,r)=>new qe({left:t,right:e,typeName:M.ZodIntersection,...C(r)});var pe=class t extends q{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==D.array)return S(a,{code:b.invalid_type,expected:D.array,received:a.parsedType}),x;if(a.data.length<this._def.items.length)return S(a,{code:b.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&a.data.length>this._def.items.length&&(S(a,{code:b.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let p=[...a.data].map((m,y)=>{let w=this._def.items[y]||this._def.rest;return w?w._parse(new ie(a,m,a.path,y)):null}).filter(m=>!!m);return a.common.async?Promise.all(p).then(m=>Q.mergeArray(r,m)):Q.mergeArray(r,p)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};pe.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pe({items:t,typeName:M.ZodTuple,rest:null,...C(e)})};var At=class t extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==D.object)return S(a,{code:b.invalid_type,expected:D.object,received:a.parsedType}),x;let u=[],p=this._def.keyType,m=this._def.valueType;for(let y in a.data)u.push({key:p._parse(new ie(a,y,a.path,y)),value:m._parse(new ie(a,a.data[y],a.path,y)),alwaysSet:y in a.data});return a.common.async?Q.mergeObjectAsync(r,u):Q.mergeObjectSync(r,u)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof q?new t({keyType:e,valueType:r,typeName:M.ZodRecord,...C(a)}):new t({keyType:Ie.create(),valueType:e,typeName:M.ZodRecord,...C(r)})}},tt=class extends q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==D.map)return S(a,{code:b.invalid_type,expected:D.map,received:a.parsedType}),x;let u=this._def.keyType,p=this._def.valueType,m=[...a.data.entries()].map(([y,w],T)=>({key:u._parse(new ie(a,y,a.path,[T,"key"])),value:p._parse(new ie(a,w,a.path,[T,"value"]))}));if(a.common.async){let y=new Map;return Promise.resolve().then(async()=>{for(let w of m){let T=await w.key,v=await w.value;if(T.status==="aborted"||v.status==="aborted")return x;(T.status==="dirty"||v.status==="dirty")&&r.dirty(),y.set(T.value,v.value)}return{status:r.value,value:y}})}else{let y=new Map;for(let w of m){let T=w.key,v=w.value;if(T.status==="aborted"||v.status==="aborted")return x;(T.status==="dirty"||v.status==="dirty")&&r.dirty(),y.set(T.value,v.value)}return{status:r.value,value:y}}}};tt.create=(t,e,r)=>new tt({valueType:e,keyType:t,typeName:M.ZodMap,...C(r)});var rt=class t extends q{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==D.set)return S(a,{code:b.invalid_type,expected:D.set,received:a.parsedType}),x;let u=this._def;u.minSize!==null&&a.data.size<u.minSize.value&&(S(a,{code:b.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),r.dirty()),u.maxSize!==null&&a.data.size>u.maxSize.value&&(S(a,{code:b.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),r.dirty());let p=this._def.valueType;function m(w){let T=new Set;for(let v of w){if(v.status==="aborted")return x;v.status==="dirty"&&r.dirty(),T.add(v.value)}return{status:r.value,value:T}}let y=[...a.data.values()].map((w,T)=>p._parse(new ie(a,w,a.path,T)));return a.common.async?Promise.all(y).then(w=>m(w)):m(y)}min(e,r){return new t({...this._def,minSize:{value:e,message:N.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:N.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};rt.create=(t,e)=>new rt({valueType:t,minSize:null,maxSize:null,typeName:M.ZodSet,...C(e)});var St=class t extends q{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==D.function)return S(r,{code:b.invalid_type,expected:D.function,received:r.parsedType}),x;function a(y,w){return dt({data:y,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ye(),ve].filter(T=>!!T),issueData:{code:b.invalid_arguments,argumentsError:w}})}function u(y,w){return dt({data:y,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ye(),ve].filter(T=>!!T),issueData:{code:b.invalid_return_type,returnTypeError:w}})}let p={errorMap:r.common.contextualErrorMap},m=r.data;if(this._def.returns instanceof Se){let y=this;return J(async function(...w){let T=new te([]),v=await y._def.args.parseAsync(w,p).catch(st=>{throw T.addIssue(a(w,st)),T}),z=await Reflect.apply(m,this,v);return await y._def.returns._def.type.parseAsync(z,p).catch(st=>{throw T.addIssue(u(z,st)),T})})}else{let y=this;return J(function(...w){let T=y._def.args.safeParse(w,p);if(!T.success)throw new te([a(w,T.error)]);let v=Reflect.apply(m,this,T.data),z=y._def.returns.safeParse(v,p);if(!z.success)throw new te([u(v,z.error)]);return z.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:pe.create(e).rest(ge.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,a){return new t({args:e||pe.create([]).rest(ge.create()),returns:r||ge.create(),typeName:M.ZodFunction,...C(a)})}},Pe=class extends q{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Pe.create=(t,e)=>new Pe({getter:t,typeName:M.ZodLazy,...C(e)});var je=class extends q{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return S(r,{received:r.data,code:b.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}};je.create=(t,e)=>new je({value:t,typeName:M.ZodLiteral,...C(e)});function lr(t,e){return new Fe({values:t,typeName:M.ZodEnum,...C(e)})}var Fe=class t extends q{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),a=this._def.values;return S(r,{expected:j.joinValues(a),received:r.parsedType,code:b.invalid_type}),x}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),a=this._def.values;return S(r,{received:r.data,code:b.invalid_enum_value,options:a}),x}return J(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};Fe.create=lr;var Ue=class extends q{_parse(e){let r=j.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==D.string&&a.parsedType!==D.number){let u=j.objectValues(r);return S(a,{expected:j.joinValues(u),received:a.parsedType,code:b.invalid_type}),x}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let u=j.objectValues(r);return S(a,{received:a.data,code:b.invalid_enum_value,options:u}),x}return J(e.data)}get enum(){return this._def.values}};Ue.create=(t,e)=>new Ue({values:t,typeName:M.ZodNativeEnum,...C(e)});var Se=class extends q{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==D.promise&&r.common.async===!1)return S(r,{code:b.invalid_type,expected:D.promise,received:r.parsedType}),x;let a=r.parsedType===D.promise?r.data:Promise.resolve(r.data);return J(a.then(u=>this._def.type.parseAsync(u,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Se.create=(t,e)=>new Se({type:t,typeName:M.ZodPromise,...C(e)});var ue=class extends q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===M.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:a}=this._processInputParams(e),u=this._def.effect||null,p={addIssue:m=>{S(a,m),m.fatal?r.abort():r.dirty()},get path(){return a.path}};if(p.addIssue=p.addIssue.bind(p),u.type==="preprocess"){let m=u.transform(a.data,p);if(a.common.async)return Promise.resolve(m).then(async y=>{if(r.value==="aborted")return x;let w=await this._def.schema._parseAsync({data:y,path:a.path,parent:a});return w.status==="aborted"?x:w.status==="dirty"?De(w.value):r.value==="dirty"?De(w.value):w});{if(r.value==="aborted")return x;let y=this._def.schema._parseSync({data:m,path:a.path,parent:a});return y.status==="aborted"?x:y.status==="dirty"?De(y.value):r.value==="dirty"?De(y.value):y}}if(u.type==="refinement"){let m=y=>{let w=u.refinement(y,p);if(a.common.async)return Promise.resolve(w);if(w instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return y};if(a.common.async===!1){let y=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return y.status==="aborted"?x:(y.status==="dirty"&&r.dirty(),m(y.value),{status:r.value,value:y.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(y=>y.status==="aborted"?x:(y.status==="dirty"&&r.dirty(),m(y.value).then(()=>({status:r.value,value:y.value}))))}if(u.type==="transform")if(a.common.async===!1){let m=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ee(m))return x;let y=u.transform(m.value,p);if(y instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:y}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(m=>Ee(m)?Promise.resolve(u.transform(m.value,p)).then(y=>({status:r.value,value:y})):x);j.assertNever(u)}};ue.create=(t,e,r)=>new ue({schema:t,typeName:M.ZodEffects,effect:e,...C(r)});ue.createWithPreprocess=(t,e,r)=>new ue({schema:e,effect:{type:"preprocess",transform:t},typeName:M.ZodEffects,...C(r)});var se=class extends q{_parse(e){return this._getType(e)===D.undefined?J(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};se.create=(t,e)=>new se({innerType:t,typeName:M.ZodOptional,...C(e)});var he=class extends q{_parse(e){return this._getType(e)===D.null?J(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};he.create=(t,e)=>new he({innerType:t,typeName:M.ZodNullable,...C(e)});var He=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return r.parsedType===D.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};He.create=(t,e)=>new He({innerType:t,typeName:M.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...C(e)});var Ve=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},u=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Xe(u)?u.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new te(a.common.issues)},input:a.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new te(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};Ve.create=(t,e)=>new Ve({innerType:t,typeName:M.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...C(e)});var nt=class extends q{_parse(e){if(this._getType(e)!==D.nan){let a=this._getOrReturnCtx(e);return S(a,{code:b.invalid_type,expected:D.nan,received:a.parsedType}),x}return{status:"valid",value:e.data}}};nt.create=t=>new nt({typeName:M.ZodNaN,...C(t)});var bn=Symbol("zod_brand"),pt=class extends q{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}},ht=class t extends q{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let p=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?x:p.status==="dirty"?(r.dirty(),De(p.value)):this._def.out._parseAsync({data:p.value,path:a.path,parent:a})})();{let u=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return u.status==="aborted"?x:u.status==="dirty"?(r.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:a.path,parent:a})}}static create(e,r){return new t({in:e,out:r,typeName:M.ZodPipeline})}},Be=class extends q{_parse(e){let r=this._def.innerType._parse(e),a=u=>(Ee(u)&&(u.value=Object.freeze(u.value)),u);return Xe(r)?r.then(u=>a(u)):a(r)}unwrap(){return this._def.innerType}};Be.create=(t,e)=>new Be({innerType:t,typeName:M.ZodReadonly,...C(e)});function ir(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function dr(t,e={},r){return t?Ae.create().superRefine((a,u)=>{let p=t(a);if(p instanceof Promise)return p.then(m=>{if(!m){let y=ir(e,a),w=y.fatal??r??!0;u.addIssue({code:"custom",...y,fatal:w})}});if(!p){let m=ir(e,a),y=m.fatal??r??!0;u.addIssue({code:"custom",...m,fatal:y})}}):Ae.create()}var Tn={object:re.lazycreate},M;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(M||(M={}));var En=(t,e={message:`Input not instance of ${t.name}`})=>dr(r=>r instanceof t,e),pr=Ie.create,hr=Le.create,In=nt.create,An=Ne.create,fr=Oe.create,Sn=xe.create,Rn=Je.create,Dn=Me.create,Ln=Ce.create,Nn=Ae.create,On=ge.create,xn=oe.create,Mn=et.create,Cn=_e.create,$n=re.create,qn=re.strictCreate,Pn=$e.create,jn=It.create,Fn=qe.create,Un=pe.create,Hn=At.create,Vn=tt.create,Bn=rt.create,zn=St.create,Kn=Pe.create,Zn=je.create,Gn=Fe.create,Wn=Ue.create,Yn=Se.create,Xn=ue.create,Qn=se.create,Jn=he.create,ea=ue.createWithPreprocess,ta=ht.create,ra=()=>pr().optional(),na=()=>hr().optional(),aa=()=>fr().optional(),sa={string:(t=>Ie.create({...t,coerce:!0})),number:(t=>Le.create({...t,coerce:!0})),boolean:(t=>Oe.create({...t,coerce:!0})),bigint:(t=>Ne.create({...t,coerce:!0})),date:(t=>xe.create({...t,coerce:!0}))};var ia=x;var is=ze.object({player_name:ze.string().min(2,"Name muss mindestens 2 Zeichen lang sein").max(100,"Name darf maximal 100 Zeichen lang sein"),player_city:ze.string().min(2,"Stadt muss mindestens 2 Zeichen lang sein").max(100,"Stadt darf maximal 100 Zeichen lang sein"),agree_privacy:ze.literal(!0,{errorMap:()=>({message:"Datenschutzerkl\xE4rung muss akzeptiert werden"})})});var Ut,mt=new Set,we=!1,Ht=null,fe=-1,Vt=[];function ua(){if(!Ht){let t=window.GEOCODING_API_URL||"http://localhost:8081",e=window.MEILI_SEARCH_KEY||"";Ht=new vr.MeiliSearch({host:t,apiKey:e})}return Ht}function ca(){let t=document.createElement("div");return t.id="city-dropdown",t.className="city-dropdown",t.style.display="none",t}function oa(t,e){let r=t.getBoundingClientRect();e.style.position="absolute",e.style.top=`${r.bottom+window.scrollY}px`,e.style.left=`${r.left+window.scrollX}px`,e.style.width=`${r.width}px`}function la(t,e,r){if(r.length===0){e.style.display="none";return}Vt=r,fe=-1,e.innerHTML=r.map((a,u)=>`<div class="city-dropdown-item" data-index="${u}">${a}</div>`).join(""),oa(t,e),e.style.display="block",e.querySelectorAll(".city-dropdown-item").forEach(a=>{a.addEventListener("click",()=>{let u=a.textContent||"";yr(t,e,u)})})}function Ke(t){t.style.display="none",fe=-1}function yr(t,e,r){t.value=r,we=!0,t.classList.add("city-selected"),Ke(e);let a=document.querySelector(".submit-btn");ft(a)}function da(t,e,r){let a=r.querySelectorAll(".city-dropdown-item");t.key==="ArrowDown"?(t.preventDefault(),fe=Math.min(fe+1,a.length-1),mr(a)):t.key==="ArrowUp"?(t.preventDefault(),fe=Math.max(fe-1,-1),mr(a)):t.key==="Enter"?(t.preventDefault(),fe>=0&&fe<Vt.length&&yr(e,r,Vt[fe])):t.key==="Escape"&&Ke(r)}function mr(t){t.forEach((e,r)=>{r===fe?(e.classList.add("highlighted"),e.scrollIntoView({block:"nearest"})):e.classList.remove("highlighted")})}function gr(){let t=document.getElementById("playerCity"),e=document.querySelector(".submit-btn");if(!t)return;e&&(e.disabled=!0,e.classList.add("disabled"));let r=ua(),a=ca();t.parentNode&&t.parentNode.insertBefore(a,t.nextSibling);let u="";t.addEventListener("input",()=>{let p=t.value.trim();if(we=!1,t.classList.remove("city-selected"),ft(e),at(),mt.has(p)){we=!0,t.classList.add("city-selected"),ft(e),at(),Ke(a);return}if(p.length<2){Ke(a);return}p!==u&&(u=p,Ut&&clearTimeout(Ut),Ut=window.setTimeout(()=>{pa(p,t,a,r)},300))}),t.addEventListener("keydown",p=>{a.style.display==="block"&&da(p,t,a)}),document.addEventListener("click",p=>{!t.contains(p.target)&&!a.contains(p.target)&&Ke(a)}),t.addEventListener("change",()=>{let p=t.value.trim();mt.has(p)&&(we=!0,t.classList.add("city-selected"),ft(e),at())}),t.addEventListener("blur",()=>{setTimeout(()=>{let p=t.value.trim();mt.has(p)?(we=!0,t.classList.add("city-selected"),ft(e),at()):Ke(a)},200)})}async function pa(t,e,r,a){try{let u=await a.index("cities").search(t,{limit:10,attributesToRetrieve:["name"]});mt.clear();let p=new Set,m=[];u.hits.forEach(y=>{let w=y.name;w&&!p.has(w)&&(p.add(w),mt.add(w),m.push(w))}),la(e,r,m)}catch(u){console.error("[CityAutocomplete] Error fetching cities:",u),Ke(r)}}function _r(){let t=document.getElementById("playerName"),e=document.getElementById("privacyCheckbox"),r=document.querySelector(".submit-btn"),a=document.getElementById("nameForm");if(!t||!e||!r)return;let u=()=>{let p=t.value.trim().length>=2,m=e.checked,w=p&&m&&we;r.disabled=!w,w?r.classList.remove("disabled"):r.classList.add("disabled"),at()};t.addEventListener("input",u),e.addEventListener("change",u),r.disabled=!0,r.classList.add("disabled"),a&&a.addEventListener("submit",p=>{let m=t.value.trim().length>=2,y=e.checked;return m&&y&&we?!0:(p.preventDefault(),alert("Bitte f\xFClle alle Felder korrekt aus und w\xE4hle eine Stadt aus der Liste!"),!1)}),at()}function ft(t){if(!t)return;let e=document.getElementById("playerName"),r=document.getElementById("privacyCheckbox");if(!e||!r)return;let a=e.value.trim().length>=2,u=r.checked,p=a&&u&&we;t.disabled=!p,p?t.classList.remove("disabled"):t.classList.add("disabled")}function at(){let t=document.getElementById("playerName"),e=document.getElementById("privacyCheckbox"),r=document.querySelector(".submit-btn"),a=document.getElementById("statusName"),u=document.getElementById("statusCity"),p=document.getElementById("statusPrivacy"),m=document.getElementById("statusButton");if(!t||!e||!r)return;let y=t.value.trim().length>=2,w=e.checked;a&&(y?(a.innerHTML="\u2705 Name: G\xFCltig",a.style.color="green"):(a.innerHTML="\u274C Name: Nicht ausgef\xFCllt",a.style.color="red")),u&&(we?(u.innerHTML="\u2705 Stadt: Ausgew\xE4hlt",u.style.color="green"):(u.innerHTML="\u274C Stadt: Nicht ausgew\xE4hlt",u.style.color="red")),p&&(w?(p.innerHTML="\u2705 Datenschutz: Akzeptiert",p.style.color="green"):(p.innerHTML="\u274C Datenschutz: Nicht akzeptiert",p.style.color="red")),m&&(r.disabled?(m.innerHTML="\u274C Submit-Button: Deaktiviert",m.style.color="red"):(m.innerHTML="\u2705 Submit-Button: Aktiviert",m.style.color="green"))}function ke(t){return t instanceof Error?t.message:"Unbekannter Fehler"}function wr(){let t=document.getElementById("createTokenForm");t&&(t.onsubmit=async function(e){e.preventDefault();let r=document.getElementById("bagName").value,a=parseInt(document.getElementById("maxUploads").value);try{let u=await fetch("/admin/tokens",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bag_name:r,max_uploads:a})}),p=await u.json();if(u.ok){let m=document.getElementById("createResult");m.style.display="block",m.style.background="#e8f5e9",m.style.padding="1rem",m.style.borderRadius="4px",m.innerHTML=`
        <strong>\u2705 Token erstellt!</strong><br>
        <small>Token-ID: ${p.token_id}</small><br>
        <a href="${p.qr_url}?format=svg" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (SVG) herunterladen</a> | 
        <a href="${p.qr_url}?format=png" target="_blank" style="color: #2196F3;">\u{1F4E5} QR-Code (PNG) herunterladen</a><br>
        <small style="word-break: break-all;">URL: ${p.upload_url} <button id="copyNewUrlBtn" style="margin-left:0.5rem; padding:0.2rem 0.4rem; border-radius:4px;">\u{1F517} Kopieren</button></small>
      `;let y=document.getElementById("copyNewUrlBtn");y&&(y.onclick=async function(){try{await navigator.clipboard.writeText(p.upload_url),alert("URL kopiert")}catch{prompt("URL kopieren:",p.upload_url)}}),setTimeout(()=>location.reload(),3e3)}else alert("Fehler: "+(p.error||"Unbekannter Fehler"))}catch(u){let p=u instanceof Error?u.message:"Unbekannter Fehler";alert("Fehler: "+p)}}),_a()}async function ha(t,e){if(confirm(`${e} wirklich zur\xFCcksetzen? Der Upload-Counter wird auf 0 gesetzt.`))try{let a=await(await fetch(`/admin/tokens/${t}/reset`,{method:"POST"})).json();alert(a.message||"Token wurde zur\xFCckgesetzt"),location.reload()}catch(r){alert("Fehler: "+ke(r))}}async function fa(t,e){if(confirm(`${e} wirklich deaktivieren?`))try{let a=await(await fetch(`/admin/tokens/${t}/deactivate`,{method:"POST"})).json();alert(a.status||"Token wurde deaktiviert"),location.reload()}catch(r){alert("Fehler: "+ke(r))}}async function ma(t){let e=document.getElementById(`quota-${t}`),r=parseInt(e.value);if(r<=0){alert("Kontingent muss gr\xF6\xDFer als 0 sein");return}try{let u=await(await fetch(`/admin/tokens/${t}/quota`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({max_uploads:r})})).json();alert(`\u2705 Kontingent auf ${u.max_uploads} aktualisiert`),location.reload()}catch(a){alert("Fehler: "+ke(a))}}function va(t,e,r){let a=`/admin/tokens/${t}/qr?format=${r}`;window.open(a,"_blank")}async function ya(t,e){let r=encodeURIComponent(t),a=`${location.origin}/upload?token=${r}`;try{await navigator.clipboard.writeText(a),alert("URL kopiert: "+a)}catch{prompt("URL kopieren:",a)}}async function ga(t,e){if(confirm("Als erledigt markieren?"))try{let r=await fetch(`/admin/werkzeug-anfragen/${t}/complete`,{method:"POST"}),a=await r.json();if(r.ok){let u=e.closest("li"),p=document.createElement("span");p.style.color="#4CAF50",p.style.fontWeight="600",p.textContent="\u2705 Erledigt",e.replaceWith(p),u&&(u.style.opacity="0.8")}else alert("Fehler: "+(a.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ke(r))}}function _a(){document.addEventListener("click",t=>{let r=t.target.closest("a.filter-btn");if(!r||!r.closest(".admin-section"))return;t.preventDefault();let a=r.getAttribute("href");if(!a)return;let u=a.includes("?")?a+"&partial=1":a+"?partial=1";fetch(u).then(p=>{if(!p.ok)throw new Error("fetch failed");return p.text()}).then(p=>{let w=new DOMParser().parseFromString(p,"text/html").querySelector("#bagRequestsContainer");if(!w){window.location.href=a;return}let T=document.getElementById("bagRequestsContainer");T&&(T.innerHTML=w.innerHTML),document.querySelectorAll(".admin-section a.filter-btn").forEach(v=>v.classList.remove("active")),r.classList.add("active"),history.pushState(null,"",a)}).catch(p=>{console.error(p),window.location.href=a})})}async function wa(t,e){if(confirm("Contribution wirklich l\xF6schen? Dies wird das Bild aus der Datenbank und dem Storage entfernen."))try{let r=await fetch(`/admin/contributions/${t}/delete`,{method:"POST"}),a=await r.json();if(r.ok){let u=document.getElementById(`contrib-${t}`);u&&(u.style.opacity="0",u.style.transition="opacity 0.3s",setTimeout(()=>u.remove(),300)),alert("Contribution erfolgreich gel\xF6scht")}else alert("Fehler: "+(a.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ke(r))}}typeof window<"u"&&(window.resetToken=ha,window.deactivateToken=fa,window.updateQuota=ma,window.downloadQR=va,window.copyUploadURL=ya,window.markBagRequestDone=ga,window.deleteContribution=wa);function br(){let t=document.getElementById("drop-zone"),e=document.getElementById("fileInput"),r=document.getElementById("preview"),a=document.getElementById("drop-text");if(!t||!e||!r||!a)return;t.addEventListener("click",()=>e.click()),t.addEventListener("dragover",y=>{y.preventDefault(),t.classList.add("active")}),t.addEventListener("dragleave",()=>t.classList.remove("active")),t.addEventListener("drop",y=>{y.preventDefault(),t.classList.remove("active"),y.dataTransfer?.files.length&&(e.files=y.dataTransfer.files,kr(y.dataTransfer.files[0],r,a))}),e.addEventListener("change",y=>{let w=y.target;w.files?.length&&kr(w.files[0],r,a)});let u=document.getElementById("commentInput"),p=document.getElementById("charCount");u&&p&&u.addEventListener("input",y=>{let w=y.target;p.textContent=w.value.length.toString()});let m=document.getElementById("uploadForm");m&&(m.onsubmit=function(){let y=document.getElementById("submitBtn");y&&(y.disabled=!0,y.innerText="optimiere...")}),ka()}function kr(t,e,r){let a=new FileReader;a.onload=u=>{u.target?.result&&(e.src=u.target.result,e.style.display="block",r.style.display="none")},a.readAsDataURL(t)}function ka(){try{let t=new URLSearchParams(location.search),e=t.get("number");if(e){let a=document.getElementById("deriveInput");if(a){a.value=e;let u=a.querySelector(`option[value="${e}"]`);u&&u.disabled&&(a.value="")}}if(t.get("uploaded")==="1"){let a=document.getElementById("deriveInput"),u=document.getElementById("fileInput"),p=document.getElementById("preview"),m=document.getElementById("drop-text"),y=document.getElementById("submitBtn");if(a&&(a.value=""),u)try{u.value=""}catch(T){console.warn("Could not reset file input:",T)}p&&(p.src="#",p.style.display="none"),m&&(m.style.display="block"),y&&(y.disabled=!1,y.innerText="Hochladen");let w=document.getElementById("uploadResult");if(!w){w=document.createElement("div"),w.id="uploadResult",w.style.marginTop="1rem",w.style.fontWeight="500";let T=document.querySelector(".container.upload"),v=document.querySelector(".session-uploads");T&&v&&T.insertBefore(w,v)}w.innerText="Upload erfolgreich!",w.style.color="#2e7d32",w.style.display="block",setTimeout(()=>{w&&(w.style.display="none")},4e3);try{t.delete("uploaded");let T=location.pathname+(t.toString()?"?"+t.toString():"");history.replaceState(null,"",T)}catch{}}}catch{}}async function ba(t,e){if(confirm("Upload wirklich l\xF6schen? Diese Aktion kann nicht r\xFCckg\xE4ngig gemacht werden."))try{let a=new URLSearchParams(location.search).get("token")||"",u=await fetch(`/upload/contributions/${t}/delete?token=${encodeURIComponent(a)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),p=await u.json();u.ok?location.reload():alert("Fehler: "+(p.error||"Unbekannter Fehler"))}catch(r){alert("Fehler: "+ke(r))}}async function Ta(){if(confirm("Session wirklich beenden? Das Werkzeug wird zur\xFCckgesetzt und kann an den n\xE4chsten Spieler weitergegeben werden."))try{let e=new URLSearchParams(location.search).get("token")||"",r=await fetch(`/upload/end-session?token=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json"}}),a=await r.json();r.ok?(alert(a.message||"Session beendet"),location.href="/upload?token="+encodeURIComponent(e)):alert("Fehler: "+(a.error||"Unbekannter Fehler"))}catch(t){alert("Fehler: "+ke(t))}}typeof window<"u"&&(window.deleteSessionUpload=ba,window.endSession=Ta);var Tr=["\u{1F3E0}","\u{1F194}","\u{1F4AF}","\u{1F6A8}"];function Ea(t){let e=`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
      <text y="80" font-size="80">${t}</text>
    </svg>
  `;return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`}function Ia(){return Tr[Math.floor(Math.random()*Tr.length)]}function Aa(){if(typeof document>"u"||!document.head)return;let t=Ia(),e=Ea(t),r=document.querySelector("link[rel~='icon']");r||(r=document.createElement("link"),r.rel="icon",document.head.appendChild(r)),r.href=e}Aa();Jt(),er(),tr(),gr(),_r(),kt(),wr(),br();})();
//# sourceMappingURL=main.js.map
